var IL=Object.defineProperty,DL=Object.defineProperties,TL=Object.getOwnPropertyDescriptors,eI=Object.getOwnPropertySymbols,aR=Object.prototype.hasOwnProperty,uR=Object.prototype.propertyIsEnumerable,oR=(Re,le,k)=>le in Re?IL(Re,le,{enumerable:!0,configurable:!0,writable:!0,value:k}):Re[le]=k,O0=(Re,le)=>{for(var k in le||(le={}))aR.call(le,k)&&oR(Re,k,le[k]);if(eI)for(var k of eI(le))uR.call(le,k)&&oR(Re,k,le[k]);return Re},lR=(Re,le)=>DL(Re,TL(le)),cR=(Re,le)=>{var k={};for(var c in Re)aR.call(Re,c)&&le.indexOf(c)<0&&(k[c]=Re[c]);if(null!=Re&&eI)for(var c of eI(Re))le.indexOf(c)<0&&uR.call(Re,c)&&(k[c]=Re[c]);return k};(self.webpackChunkclips=self.webpackChunkclips||[]).push([[179],{2011:(Re,le,k)=>{"use strict";k.d(le,{Dh:()=>te,GT:()=>ie,cc:()=>ke,hO:()=>He,on:()=>B,pX:()=>K,xv:()=>ce});var c=k(5e3),Z=k(127),O=k(5813);Re=k.hmd(Re);const ee=["ngOnDestroy"],K=(fe,ze,Ye,Se={})=>new Proxy(fe,{get:(be,De)=>Ye.runOutsideAngular(()=>{var je;if(fe[De])return(null===(je=null==Se?void 0:Se.spy)||void 0===je?void 0:je.get)&&Se.spy.get(De,fe[De]),fe[De];if(ee.indexOf(De)>-1)return()=>{};const qe=ze.toPromise().then($=>{const Ce=$&&$[De];return"function"==typeof Ce?Ce.bind($):Ce&&Ce.then?Ce.then(Q=>Ye.run(()=>Q)):Ye.run(()=>Ce)});return new Proxy(()=>{},{get:($,Ce)=>qe[Ce],apply:($,Ce,Q)=>qe.then(de=>{var oe;const ve=de&&de(...Q);return(null===(oe=null==Se?void 0:Se.spy)||void 0===oe?void 0:oe.apply)&&Se.spy.apply(De,Q,ve),ve})})})}),ie=(fe,ze)=>{ze.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Se=>{Object.defineProperty(fe.prototype,Se,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Se))})})};class se{constructor(ze){return ze}}const te=new c.OlP("angularfire2.app.options"),ce=new c.OlP("angularfire2.app.name");function B(fe,ze,Ye){const be="object"==typeof Ye&&Ye||{};be.name=be.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const je=Z.Z.apps.filter(qe=>qe&&qe.name===be.name)[0]||ze.runOutsideAngular(()=>Z.Z.initializeApp(fe,be));try{JSON.stringify(fe)!==JSON.stringify(je.options)&&j("error",`${je.name} Firebase App already initialized with different options${Re.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(qe){}return new se(je)}const j=(fe,...ze)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[fe](...ze)},X={provide:se,useFactory:B,deps:[te,c.R0b,[new c.FiY,ce]]};let He=(()=>{class fe{constructor(Ye){Z.Z.registerVersion("angularfire",O.q4.full,"core"),Z.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Z.Z.registerVersion("angular",c.q4F.full,Ye.toString())}static initializeApp(Ye,Se){return{ngModule:fe,providers:[{provide:te,useValue:Ye},{provide:ce,useValue:Se}]}}}return fe.\u0275fac=function(Ye){return new(Ye||fe)(c.LFG(c.Lbi))},fe.\u0275mod=c.oAB({type:fe}),fe.\u0275inj=c.cJS({providers:[X]}),fe})();function ke(fe,ze,Ye,Se,be){const[,De,je]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===fe)||[];if(De)return function Te(fe,ze){try{return fe.toString()===ze.toString()}catch(Ye){return fe===ze}}(be,je)||(we("error",`${ze} was already initialized on the ${Ye} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:be,was:je})),De;{const qe=Se();return globalThis.\u0275AngularfireInstanceCache.push([fe,qe,be]),qe}}const Je=!!Re.hot,we=(fe,...ze)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[fe](...ze)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Re,le,k)=>{"use strict";k.d(le,{q4:()=>La,iC:()=>Bh,fc:()=>ir,HU:()=>vd,vb:()=>rg,JM:()=>ia});var c=k(5e3),Z=k(5867),O=k(5861),ee=k(9681),K=k(2090),ie=k(4859),se=k(1877),te=k(8766);const ce="@firebase/installations",B="0.5.9",X=`w:${B}`,He="FIS_v2",ze=new K.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(C){return C instanceof K.ZR&&C.code.includes("request-failed")}function Se({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function be(C){return{token:C.token,requestStatus:2,expiresIn:de(C.expiresIn),creationTime:Date.now()}}function De(C,D){return je.apply(this,arguments)}function je(){return(je=(0,O.Z)(function*(C,D){const F=(yield D.json()).error;return ze.create("request-failed",{requestName:C,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function qe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function $(C,{refreshToken:D}){const R=qe(C);return R.append("Authorization",function oe(C){return`${He} ${C}`}(D)),R}function Ce(C){return Q.apply(this,arguments)}function Q(){return(Q=(0,O.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function de(C){return Number(C.replace("s","000"))}function ve(C,D){return V.apply(this,arguments)}function V(){return(V=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:R}){const F=Se(C),ne=qe(C),he=D.getImmediate({optional:!0});if(he){const ht=yield he.getHeartbeatsHeader();ht&&ne.append("x-firebase-client",ht)}const Xe={method:"POST",headers:ne,body:JSON.stringify({fid:R,authVersion:He,appId:C.appId,sdkVersion:X})},at=yield Ce(()=>fetch(F,Xe));if(at.ok){const ht=yield at.json();return{fid:ht.fid||R,registrationStatus:2,refreshToken:ht.refreshToken,authToken:be(ht.authToken)}}throw yield De("Create Installation",at)})).apply(this,arguments)}function z(C){return new Promise(D=>{setTimeout(D,C)})}const Be=/^[cdef][\w-]{21}$/;function Le(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function _t(C){return function ge(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Be.test(R)?R:""}catch(C){return""}}function jt(C){return`${C.appName}!${C.appId}`}const Ut=new Map;function kt(C,D){const R=jt(C);Nt(R,D),function is(C,D){const R=function lr(){return!Yr&&"BroadcastChannel"in self&&(Yr=new BroadcastChannel("[Firebase] FID Change"),Yr.onmessage=C=>{Nt(C.data.key,C.data.fid)}),Yr}();R&&R.postMessage({key:C,fid:D}),function Ir(){0===Ut.size&&Yr&&(Yr.close(),Yr=null)}()}(R,D)}function Nt(C,D){const R=Ut.get(C);if(R)for(const F of R)F(D)}let Yr=null;const Qr="firebase-installations-store";let gi=null;function Et(){return gi||(gi=(0,te.X3)("firebase-installations-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(Qr)}})),gi}function Jr(C,D){return fn.apply(this,arguments)}function fn(){return(fn=(0,O.Z)(function*(C,D){const R=jt(C),ne=(yield Et()).transaction(Qr,"readwrite"),he=ne.objectStore(Qr),Ee=yield he.get(R);return yield he.put(D,R),yield ne.done,(!Ee||Ee.fid!==D.fid)&&kt(C,D.fid),D})).apply(this,arguments)}function _n(C){return so.apply(this,arguments)}function so(){return(so=(0,O.Z)(function*(C){const D=jt(C),F=(yield Et()).transaction(Qr,"readwrite");yield F.objectStore(Qr).delete(D),yield F.done})).apply(this,arguments)}function Xr(C,D){return qn.apply(this,arguments)}function qn(){return(qn=(0,O.Z)(function*(C,D){const R=jt(C),ne=(yield Et()).transaction(Qr,"readwrite"),he=ne.objectStore(Qr),Ee=yield he.get(R),Xe=D(Ee);return void 0===Xe?yield he.delete(R):yield he.put(Xe,R),yield ne.done,Xe&&(!Ee||Ee.fid!==Xe.fid)&&kt(C,Xe.fid),Xe})).apply(this,arguments)}function Dn(C){return mi.apply(this,arguments)}function mi(){return(mi=(0,O.Z)(function*(C){let D;const R=yield Xr(C.appConfig,F=>{const ne=Vo(F),he=Zt(C,ne);return D=he.registrationPromise,he.installationEntry});return""===R.fid?{installationEntry:yield D}:{installationEntry:R,registrationPromise:D}})).apply(this,arguments)}function Vo(C){return oo(C||{fid:Le(),registrationStatus:0})}function Zt(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(ze.create("app-offline"))};const R={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function lt(C,D){return Dt.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:cr(C)}:{installationEntry:D}}function Dt(){return(Dt=(0,O.Z)(function*(C,D){try{const R=yield ve(C,D);return Jr(C.appConfig,R)}catch(R){throw Ye(R)&&409===R.customData.serverCode?yield _n(C.appConfig):yield Jr(C.appConfig,{fid:D.fid,registrationStatus:0}),R}})).apply(this,arguments)}function cr(C){return ei.apply(this,arguments)}function ei(){return(ei=(0,O.Z)(function*(C){let D=yield Gt(C.appConfig);for(;1===D.registrationStatus;)yield z(100),D=yield Gt(C.appConfig);if(0===D.registrationStatus){const{installationEntry:R,registrationPromise:F}=yield Dn(C);return F||R}return D})).apply(this,arguments)}function Gt(C){return Xr(C,D=>{if(!D)throw ze.create("installation-not-found");return oo(D)})}function oo(C){return function dr(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function hr(C,D){return U.apply(this,arguments)}function U(){return(U=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},R){const F=W(C,R),ne=$(C,R),he=D.getImmediate({optional:!0});if(he){const ht=yield he.getHeartbeatsHeader();ht&&ne.append("x-firebase-client",ht)}const Xe={method:"POST",headers:ne,body:JSON.stringify({installation:{sdkVersion:X,appId:C.appId}})},at=yield Ce(()=>fetch(F,Xe));if(at.ok)return be(yield at.json());throw yield De("Generate Auth Token",at)})).apply(this,arguments)}function W(C,{fid:D}){return`${Se(C)}/${D}/authTokens:generate`}function Y(C){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,O.Z)(function*(C,D=!1){let R;const F=yield Xr(C.appConfig,he=>{if(!xt(he))throw ze.create("not-registered");const Ee=he.authToken;if(!D&&sn(Ee))return he;if(1===Ee.requestStatus)return R=q(C,D),he;{if(!navigator.onLine)throw ze.create("app-offline");const Xe=Fn(he);return R=et(C,Xe),Xe}});return R?yield R:F.authToken})).apply(this,arguments)}function q(C,D){return ue.apply(this,arguments)}function ue(){return(ue=(0,O.Z)(function*(C,D){let R=yield Pe(C.appConfig);for(;1===R.authToken.requestStatus;)yield z(100),R=yield Pe(C.appConfig);const F=R.authToken;return 0===F.requestStatus?Y(C,D):F})).apply(this,arguments)}function Pe(C){return Xr(C,D=>{if(!xt(D))throw ze.create("not-registered");return function Dr(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function et(C,D){return yt.apply(this,arguments)}function yt(){return(yt=(0,O.Z)(function*(C,D){try{const R=yield hr(C,D),F=Object.assign(Object.assign({},D),{authToken:R});return yield Jr(C.appConfig,F),R}catch(R){if(!Ye(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Jr(C.appConfig,F)}else yield _n(C.appConfig);throw R}})).apply(this,arguments)}function xt(C){return void 0!==C&&2===C.registrationStatus}function sn(C){return 2===C.requestStatus&&!function At(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function Fn(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function va(){return(va=(0,O.Z)(function*(C){const D=C,{installationEntry:R,registrationPromise:F}=yield Dn(D);return F?F.catch(console.error):Y(D).catch(console.error),R.fid})).apply(this,arguments)}function wa(){return(wa=(0,O.Z)(function*(C,D=!1){const R=C;return yield Ln(R),(yield Y(R,D)).token})).apply(this,arguments)}function Ln(C){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,O.Z)(function*(C){const{registrationPromise:D}=yield Dn(C);D&&(yield D)})).apply(this,arguments)}function Bo(C){return ze.create("missing-app-config-values",{valueName:C})}const Ur="installations",dt=C=>{const D=C.getProvider("app").getImmediate(),R=function Xn(C){if(!C||!C.options)throw Bo("App Configuration");if(!C.name)throw Bo("App Name");const D=["projectId","apiKey","appId"];for(const R of D)if(!C.options[R])throw Bo(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:R,heartbeatServiceProvider:(0,ee._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},en=C=>{const D=C.getProvider("app").getImmediate(),R=(0,ee._getProvider)(D,Ur).getImmediate();return{getId:()=>function au(C){return va.apply(this,arguments)}(R),getToken:ne=>function uu(C){return wa.apply(this,arguments)}(R,ne)}};(function Vr(){(0,ee._registerComponent)(new ie.wA(Ur,dt,"PUBLIC")),(0,ee._registerComponent)(new ie.wA("installations-internal",en,"PRIVATE"))})(),(0,ee.registerVersion)(ce,B),(0,ee.registerVersion)(ce,B,"esm2017");const Ri="@firebase/remote-config",vn=new K.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zp{constructor(D,R,F,ne){this.client=D,this.storage=R,this.storageCache=F,this.logger=ne}isCachedDataFresh(D,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-R,ne=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${ne}.`),ne}fetch(D){var R=this;return(0,O.Z)(function*(){const[F,ne]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(ne&&R.isCachedDataFresh(D.cacheMaxAgeMillis,F))return ne;D.eTag=ne&&ne.eTag;const he=yield R.client.fetch(D),Ee=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Ee.push(R.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Ee),he})()}}function Zc(C=navigator){return C.languages&&C.languages[0]||C.language}class fr{constructor(D,R,F,ne,he,Ee){this.firebaseInstallations=D,this.sdkVersion=R,this.namespace=F,this.projectId=ne,this.apiKey=he,this.appId=Ee}fetch(D){var R=this;return(0,O.Z)(function*(){const[F,ne]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Ee=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},at={sdk_version:R.sdkVersion,app_instance_id:F,app_instance_id_token:ne,app_id:R.appId,language_code:Zc()},ht={method:"POST",headers:Xe,body:JSON.stringify(at)},zt=fetch(Ee,ht),Rt=new Promise((yr,ms)=>{D.signal.addEventListener(()=>{const qs=new Error("The operation was aborted.");qs.name="AbortError",ms(qs)})});let Mn;try{yield Promise.race([zt,Rt]),Mn=yield zt}catch(yr){let ms="fetch-client-network";throw"AbortError"===yr.name&&(ms="fetch-timeout"),vn.create(ms,{originalErrorMessage:yr.message})}let Wn=Mn.status;const gs=Mn.headers.get("ETag")||void 0;let qi,bi;if(200===Mn.status){let yr;try{yr=yield Mn.json()}catch(ms){throw vn.create("fetch-client-parse",{originalErrorMessage:ms.message})}qi=yr.entries,bi=yr.state}if("INSTANCE_STATE_UNSPECIFIED"===bi?Wn=500:"NO_CHANGE"===bi?Wn=304:("NO_TEMPLATE"===bi||"EMPTY_CONFIG"===bi)&&(qi={}),304!==Wn&&200!==Wn)throw vn.create("fetch-status",{httpStatus:Wn});return{status:Wn,eTag:gs,config:qi}})()}}class Wp{constructor(D,R){this.client=D,this.storage=R}fetch(D){var R=this;return(0,O.Z)(function*(){const F=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:R,backoffCount:F}){var ne=this;return(0,O.Z)(function*(){yield function Rs(C,D){return new Promise((R,F)=>{const ne=Math.max(D-Date.now(),0),he=setTimeout(R,ne);C.addEventListener(()=>{clearTimeout(he),F(vn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,R);try{const he=yield ne.client.fetch(D);return yield ne.storage.deleteThrottleMetadata(),he}catch(he){if(!function zc(C){if(!(C instanceof K.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(he))throw he;const Ee={throttleEndTimeMillis:Date.now()+(0,K.$s)(F),backoffCount:F+1};return yield ne.storage.setThrottleMetadata(Ee),ne.attemptFetch(D,Ee)}})()}}class Kc{constructor(D,R,F,ne,he){this.app=D,this._client=R,this._storageCache=F,this._storage=ne,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bl(C,D){const R=C.target.error||void 0;return vn.create(D,{originalErrorMessage:R&&R.message})}const ks="app_namespace_store";class Qp{constructor(D,R,F,ne=function Yp(){return new Promise((C,D)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=F=>{D(bl(F,"storage-open"))},R.onsuccess=F=>{C(F.target.result)},R.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(ks,{keyPath:"compositeKey"})}}catch(R){D(vn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=D,this.appName=R,this.namespace=F,this.openDbPromise=ne}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var R=this;return(0,O.Z)(function*(){const F=yield R.openDbPromise;return new Promise((ne,he)=>{const Xe=F.transaction([ks],"readonly").objectStore(ks),at=R.createCompositeKey(D);try{const ht=Xe.get(at);ht.onerror=zt=>{he(bl(zt,"storage-get"))},ht.onsuccess=zt=>{const Rt=zt.target.result;ne(Rt?Rt.value:void 0)}}catch(ht){he(vn.create("storage-get",{originalErrorMessage:ht&&ht.message}))}})})()}set(D,R){var F=this;return(0,O.Z)(function*(){const ne=yield F.openDbPromise;return new Promise((he,Ee)=>{const at=ne.transaction([ks],"readwrite").objectStore(ks),ht=F.createCompositeKey(D);try{const zt=at.put({compositeKey:ht,value:R});zt.onerror=Rt=>{Ee(bl(Rt,"storage-set"))},zt.onsuccess=()=>{he()}}catch(zt){Ee(vn.create("storage-set",{originalErrorMessage:zt&&zt.message}))}})})()}delete(D){var R=this;return(0,O.Z)(function*(){const F=yield R.openDbPromise;return new Promise((ne,he)=>{const Xe=F.transaction([ks],"readwrite").objectStore(ks),at=R.createCompositeKey(D);try{const ht=Xe.delete(at);ht.onerror=zt=>{he(bl(zt,"storage-delete"))},ht.onsuccess=()=>{ne()}}catch(ht){he(vn.create("storage-delete",{originalErrorMessage:ht&&ht.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Qc{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const R=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),ne=D.storage.getActiveConfig(),he=yield R;he&&(D.lastFetchStatus=he);const Ee=yield F;Ee&&(D.lastSuccessfulFetchTimestampMillis=Ee);const Xe=yield ne;Xe&&(D.activeConfig=Xe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function hu(){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,O.Z)(function*(){if(!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch(C){return!1}})).apply(this,arguments)}!function jo(){(0,ee._registerComponent)(new ie.wA("remote-config",function C(D,{instanceIdentifier:R}){const F=D.getProvider("app").getImmediate(),ne=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw vn.create("registration-window");if(!(0,K.hl)())throw vn.create("indexed-db-unavailable");const{projectId:he,apiKey:Ee,appId:Xe}=F.options;if(!he)throw vn.create("registration-project-id");if(!Ee)throw vn.create("registration-api-key");if(!Xe)throw vn.create("registration-app-id");const at=new Qp(Xe,F.name,R=R||"firebase"),ht=new Qc(at),zt=new se.Yd(Ri);zt.logLevel=se.in.ERROR;const Rt=new fr(ne,ee.SDK_VERSION,R,he,Ee,Xe),Mn=new Wp(Rt,at),Wn=new zp(Mn,at,ht,zt),gs=new Kc(F,Wn,ht,at,zt);return function tn(C){const D=(0,K.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(gs),gs},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(Ri,"0.3.8"),(0,ee.registerVersion)(Ri,"0.3.8","esm2017")}();const Xc="/firebase-messaging-sw.js",er="/firebase-cloud-messaging-push-scope",lo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$o="google.c.a.c_id",ed="google.c.a.c_l",Ph="google.c.a.ts",Da="google.c.a.e";var Ho=(()=>{return(C=Ho||(Ho={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Ho;var C})();function Ar(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function td(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(R),ne=new Uint8Array(F.length);for(let he=0;he<F.length;++he)ne[he]=F.charCodeAt(he);return ne}const Sr="fcm_token_details_db",ti="fcm_token_object_Store";function Cl(C){return nd.apply(this,arguments)}function nd(){return nd=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(Sr))return null;let D=null;return(yield(0,te.X3)(Sr,5,{upgrade:(F=(0,O.Z)(function*(ne,he,Ee,Xe){var at;if(he<2||!ne.objectStoreNames.contains(ti))return;const ht=Xe.objectStore(ti),zt=yield ht.index("fcmSenderId").get(C);if(yield ht.clear(),zt)if(2===he){const Rt=zt;if(!Rt.auth||!Rt.p256dh||!Rt.endpoint)return;D={token:Rt.fcmToken,createTime:null!==(at=Rt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:Rt.auth,p256dh:Rt.p256dh,endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:"string"==typeof Rt.vapidKey?Rt.vapidKey:Ar(Rt.vapidKey)}}}else if(3===he){const Rt=zt;D={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Ar(Rt.auth),p256dh:Ar(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Ar(Rt.vapidKey)}}}else if(4===he){const Rt=zt;D={token:Rt.fcmToken,createTime:Rt.createTime,subscriptionOptions:{auth:Ar(Rt.auth),p256dh:Ar(Rt.p256dh),endpoint:Rt.endpoint,swScope:Rt.swScope,vapidKey:Ar(Rt.vapidKey)}}}}),function(he,Ee,Xe,at){return F.apply(this,arguments)})})).close(),yield(0,te.Lj)(Sr),yield(0,te.Lj)("fcm_vapid_details_db"),yield(0,te.Lj)("undefined"),Il(D)?D:null;var F}),nd.apply(this,arguments)}function Il(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Li="firebase-messaging-store";let Fh=null;function nn(){return Fh||(Fh=(0,te.X3)("firebase-messaging-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(Li)}})),Fh}function Ta(C){return ho.apply(this,arguments)}function ho(){return(ho=(0,O.Z)(function*(C){const D=tr(C),F=yield(yield nn()).transaction(Li).objectStore(Li).get(D);if(F)return F;{const ne=yield Cl(C.appConfig.senderId);if(ne)return yield Yt(C,ne),ne}})).apply(this,arguments)}function Yt(C,D){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,O.Z)(function*(C,D){const R=tr(C),ne=(yield nn()).transaction(Li,"readwrite");return yield ne.objectStore(Li).put(D,R),yield ne.done,D})).apply(this,arguments)}function fu(C){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,O.Z)(function*(C){const D=tr(C),F=(yield nn()).transaction(Li,"readwrite");yield F.objectStore(Li).delete(D),yield F.done})).apply(this,arguments)}function tr({appConfig:C}){return C.appId}const cn=new K.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ui(C,D){return nr.apply(this,arguments)}function nr(){return(nr=(0,O.Z)(function*(C,D){const R=yield Zo(C),F=Os(D),ne={method:"POST",headers:R,body:JSON.stringify(F)};let he;try{he=yield(yield fetch(Vi(C.appConfig),ne)).json()}catch(Ee){throw cn.create("token-subscribe-failed",{errorInfo:Ee})}if(he.error)throw cn.create("token-subscribe-failed",{errorInfo:he.error.message});if(!he.token)throw cn.create("token-subscribe-no-token");return he.token})).apply(this,arguments)}function fo(C,D){return as.apply(this,arguments)}function as(){return(as=(0,O.Z)(function*(C,D){const R=yield Zo(C),F=Os(D.subscriptionOptions),ne={method:"PATCH",headers:R,body:JSON.stringify(F)};let he;try{he=yield(yield fetch(`${Vi(C.appConfig)}/${D.token}`,ne)).json()}catch(Ee){throw cn.create("token-update-failed",{errorInfo:Ee})}if(he.error)throw cn.create("token-update-failed",{errorInfo:he.error.message});if(!he.token)throw cn.create("token-update-no-token");return he.token})).apply(this,arguments)}function Sa(C,D){return _i.apply(this,arguments)}function _i(){return(_i=(0,O.Z)(function*(C,D){const F={method:"DELETE",headers:yield Zo(C)};try{const he=yield(yield fetch(`${Vi(C.appConfig)}/${D}`,F)).json();if(he.error)throw cn.create("token-unsubscribe-failed",{errorInfo:he.error.message})}catch(ne){throw cn.create("token-unsubscribe-failed",{errorInfo:ne})}})).apply(this,arguments)}function Vi({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Zo(C){return bt.apply(this,arguments)}function bt(){return(bt=(0,O.Z)(function*({appConfig:C,installations:D}){const R=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Os({p256dh:C,auth:D,endpoint:R,vapidKey:F}){const ne={web:{endpoint:R,auth:D,p256dh:C}};return F!==lo&&(ne.web.applicationPubKey=F),ne}const Al=6048e5;function xa(C){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,O.Z)(function*(C){const D=yield Wo(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:Ar(D.getKey("auth")),p256dh:Ar(D.getKey("p256dh"))},F=yield Ta(C.firebaseDependencies);if(F){if(mu(F.subscriptionOptions,R))return Date.now()>=F.createTime+Al?xl(C,{token:F.token,createTime:Date.now(),subscriptionOptions:R}):F.token;try{yield Sa(C.firebaseDependencies,F.token)}catch(ne){console.warn(ne)}return Oe(C.firebaseDependencies,R)}return Oe(C.firebaseDependencies,R)})).apply(this,arguments)}function pu(C){return gu.apply(this,arguments)}function gu(){return(gu=(0,O.Z)(function*(C){const D=yield Ta(C.firebaseDependencies);D&&(yield Sa(C.firebaseDependencies,D.token),yield fu(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function xl(C,D){return zo.apply(this,arguments)}function zo(){return(zo=(0,O.Z)(function*(C,D){try{const R=yield fo(C.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:R,createTime:Date.now()});return yield Yt(C.firebaseDependencies,F),R}catch(R){throw yield pu(C),R}})).apply(this,arguments)}function Oe(C,D){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,O.Z)(function*(C,D){const F={token:yield Ui(C,D),createTime:Date.now(),subscriptionOptions:D};return yield Yt(C,F),F.token})).apply(this,arguments)}function Wo(C,D){return ln.apply(this,arguments)}function ln(){return(ln=(0,O.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:td(D)})})).apply(this,arguments)}function mu(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function po(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function ni(C,D){if(!D.notification)return;C.notification={};const R=D.notification.title;R&&(C.notification.title=R);const F=D.notification.body;F&&(C.notification.body=F);const ne=D.notification.image;ne&&(C.notification.image=ne)}(D,C),function Ml(C,D){!D.data||(C.data=D.data)}(D,C),function Rl(C,D){if(!D.fcmOptions)return;C.fcmOptions={};const R=D.fcmOptions.link;R&&(C.fcmOptions.link=R);const F=D.fcmOptions.analytics_label;F&&(C.fcmOptions.analyticsLabel=F)}(D,C),D}function kl(C){return"object"==typeof C&&!!C&&$o in C}function rd(C,D){const R=[];for(let F=0;F<C.length;F++)R.push(C.charAt(F)),F<D.length&&R.push(D.charAt(F));return R.join("")}function us(C){return cn.create("missing-app-config-values",{valueName:C})}rd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),rd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pr{constructor(D,R,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ne=function Jp(C){if(!C||!C.options)throw us("App Configuration Object");if(!C.name)throw us("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const F of D)if(!R[F])throw us(F);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:ne,installations:R,analyticsProvider:F}}_delete(){return Promise.resolve()}}function ri(C){return yu.apply(this,arguments)}function yu(){return(yu=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Xc,{scope:er}),C.swRegistration.update().catch(()=>{})}catch(D){throw cn.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function Ps(C,D){return vi.apply(this,arguments)}function vi(){return(vi=(0,O.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield ri(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function Nl(C,D){return _u.apply(this,arguments)}function _u(){return(_u=(0,O.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=lo)})).apply(this,arguments)}function Ol(){return(Ol=(0,O.Z)(function*(C,D){if(!navigator)throw cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw cn.create("permission-blocked");return yield Nl(C,null==D?void 0:D.vapidKey),yield Ps(C,null==D?void 0:D.serviceWorkerRegistration),xa(C)})).apply(this,arguments)}function Ma(C,D,R){return wu.apply(this,arguments)}function wu(){return(wu=(0,O.Z)(function*(C,D,R){const F=Eu(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:R[$o],message_name:R[ed],message_time:R[Ph],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Eu(C){switch(C){case Ho.NOTIFICATION_CLICKED:return"notification_open";case Ho.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function sd(){return(sd=(0,O.Z)(function*(C,D){const R=D.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===Ho.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(po(R)):C.onMessageHandler.next(po(R)));const F=R.data;kl(F)&&"1"===F[Da]&&(yield Ma(C,R.messageType,F))})).apply(this,arguments)}const bu="@firebase/messaging",od=C=>{const D=new pr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function id(C,D){return sd.apply(this,arguments)}(D,R)),D},Ko=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:F=>function vu(C,D){return Ol.apply(this,arguments)}(D,F)}};function Cu(){return $r.apply(this,arguments)}function $r(){return($r=(0,O.Z)(function*(){try{yield(0,K.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,K.hl)()&&(0,K.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ad(){(0,ee._registerComponent)(new ie.wA("messaging",od,"PUBLIC")),(0,ee._registerComponent)(new ie.wA("messaging-internal",Ko,"PRIVATE")),(0,ee.registerVersion)(bu,"0.9.13"),(0,ee.registerVersion)(bu,"0.9.13","esm2017")}();const ld="analytics",eg="firebase_id",ls="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yo="https://www.googletagmanager.com/gtag/js",Vn=new se.Yd("@firebase/analytics");function cd(C){return Promise.all(C.map(D=>D.catch(R=>R)))}function tg(C,D){const R=document.createElement("script");R.src=`${yo}?l=${C}&id=${D}`,R.async=!0,document.head.appendChild(R)}function Yo(C,D,R,F,ne,he){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,O.Z)(function*(C,D,R,F,ne,he){const Ee=F[ne];try{if(Ee)yield D[Ee];else{const at=(yield cd(R)).find(ht=>ht.measurementId===ne);at&&(yield D[at.appId])}}catch(Xe){Vn.error(Xe)}C("config",ne,he)})).apply(this,arguments)}function dd(C,D,R,F,ne){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,O.Z)(function*(C,D,R,F,ne){try{let he=[];if(ne&&ne.send_to){let Ee=ne.send_to;Array.isArray(Ee)||(Ee=[Ee]);const Xe=yield cd(R);for(const at of Ee){const ht=Xe.find(Rt=>Rt.measurementId===at),zt=ht&&D[ht.appId];if(!zt){he=[];break}he.push(zt)}}0===he.length&&(he=Object.values(D)),yield Promise.all(he),C("event",F,ne||{})}catch(he){Vn.error(he)}})).apply(this,arguments)}function Qt(){const C=window.document.getElementsByTagName("script");for(const D of Object.values(C))if(D.src&&D.src.includes(yo))return D;return null}const ot=new K.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oa=new class wn{constructor(D={},R=1e3){this.throttleMetadata=D,this.intervalMillis=R}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,R){this.throttleMetadata[D]=R}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function hd(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Qo(C){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,O.Z)(function*(C){var D;const{appId:R,apiKey:F}=C,ne={method:"GET",headers:hd(F)},he=ls.replace("{app-id}",R),Ee=yield fetch(he,ne);if(200!==Ee.status&&304!==Ee.status){let Xe="";try{const at=yield Ee.json();(null===(D=at.error)||void 0===D?void 0:D.message)&&(Xe=at.error.message)}catch(at){}throw ot.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:Xe})}return Ee.json()})).apply(this,arguments)}function En(C){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,O.Z)(function*(C,D=Oa,R){const{appId:F,apiKey:ne,measurementId:he}=C.options;if(!F)throw ot.create("no-app-id");if(!ne){if(he)return{measurementId:he,appId:F};throw ot.create("no-api-key")}const Ee=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new Fl;return setTimeout((0,O.Z)(function*(){Xe.abort()}),void 0!==R?R:6e4),ji({appId:F,apiKey:ne,measurementId:he},Ee,Xe,D)})).apply(this,arguments)}function ji(C,D,R){return vt.apply(this,arguments)}function vt(){return(vt=(0,O.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:R},F,ne=Oa){const{appId:he,measurementId:Ee}=C;try{yield fd(F,D)}catch(Xe){if(Ee)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ee} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:he,measurementId:Ee};throw Xe}try{const Xe=yield Qo(C);return ne.deleteThrottleMetadata(he),Xe}catch(Xe){if(!pd(Xe)){if(ne.deleteThrottleMetadata(he),Ee)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ee} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:he,measurementId:Ee};throw Xe}const at=503===Number(Xe.customData.httpStatus)?(0,K.$s)(R,ne.intervalMillis,30):(0,K.$s)(R,ne.intervalMillis),ht={throttleEndTimeMillis:Date.now()+at,backoffCount:R+1};return ne.setThrottleMetadata(he,ht),Vn.debug(`Calling attemptFetch again in ${at} millis`),ji(C,ht,F,ne)}})).apply(this,arguments)}function fd(C,D){return new Promise((R,F)=>{const ne=Math.max(D-Date.now(),0),he=setTimeout(R,ne);C.addEventListener(()=>{clearTimeout(he),F(ot.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function pd(C){if(!(C instanceof K.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Fl{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function Ll(){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,O.Z)(function*(){if(!(0,K.hl)())return Vn.warn(ot.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,K.eu)()}catch(C){return Vn.warn(ot.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function vo(){return(vo=(0,O.Z)(function*(C,D,R,F,ne,he,Ee){var Xe;const at=En(C);at.then(Wn=>{R[Wn.measurementId]=Wn.appId,C.options.measurementId&&Wn.measurementId!==C.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wn=>Vn.error(Wn)),D.push(at);const ht=Ll().then(Wn=>{if(Wn)return F.getId()}),[zt,Rt]=yield Promise.all([at,ht]);Qt()||tg(he,zt.measurementId),ne("js",new Date);const Mn=null!==(Xe=null==Ee?void 0:Ee.config)&&void 0!==Xe?Xe:{};return Mn.origin="firebase",Mn.update=!0,null!=Rt&&(Mn[eg]=Rt),ne("config",zt.measurementId,Mn),zt.measurementId})).apply(this,arguments)}class wo{constructor(D){this.app=D}_delete(){return delete rr[this.app.options.appId],Promise.resolve()}}let rr={},Eo=[];const bo={};let Xo,Bs,Jo="dataLayer",Co=!1;function cs(C,D,R){!function Pa(){const C=[];if((0,K.ru)()&&C.push("This is a browser extension environment."),(0,K.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((F,ne)=>`(${ne+1}) ${F}`).join(" "),R=ot.create("invalid-analytics-context",{errorInfo:D});Vn.warn(R.message)}}();const F=C.options.appId;if(!F)throw ot.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ot.create("no-api-key");Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rr[F])throw ot.create("already-exists",{id:F});if(!Co){!function _o(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(Jo);const{wrappedGtag:he,gtagCore:Ee}=function ng(C,D,R,F,ne){let he=function(...Ee){window[F].push(arguments)};return window[ne]&&"function"==typeof window[ne]&&(he=window[ne]),window[ne]=function ka(C,D,R,F){function he(){return(he=(0,O.Z)(function*(Ee,Xe,at){try{"event"===Ee?yield dd(C,D,R,Xe,at):"config"===Ee?yield Yo(C,D,R,F,Xe,at):C("set",Xe)}catch(ht){Vn.error(ht)}})).apply(this,arguments)}return function ne(Ee,Xe,at){return he.apply(this,arguments)}}(he,C,D,R),{gtagCore:he,wrappedGtag:window[ne]}}(rr,Eo,bo,Jo,"gtag");Bs=he,Xo=Ee,Co=!0}return rr[F]=function Us(C,D,R,F,ne,he,Ee){return vo.apply(this,arguments)}(C,Eo,bo,D,Xo,Jo,R),new wo(C)}function jn(){return(jn=(0,O.Z)(function*(C,D,R,F,ne){if(ne&&ne.global)C("event",R,F);else{const he=yield D;C("event",R,Object.assign(Object.assign({},F),{send_to:he}))}})).apply(this,arguments)}function wi(){return Du.apply(this,arguments)}function Du(){return(Du=(0,O.Z)(function*(){if((0,K.ru)()||!(0,K.zI)()||!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch(C){return!1}})).apply(this,arguments)}const Hr="@firebase/analytics";!function $s(){(0,ee._registerComponent)(new ie.wA(ld,(D,{options:R})=>cs(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ee._registerComponent)(new ie.wA("analytics-internal",function C(D){try{const R=D.getProvider(ld).getImmediate();return{logEvent:(F,ne,he)=>function ea(C,D,R,F){C=(0,K.m9)(C),function Io(C,D,R,F,ne){return jn.apply(this,arguments)}(Bs,rr[C.app.options.appId],D,R,F).catch(ne=>Vn.error(ne))}(R,F,ne,he)}}catch(R){throw ot.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ee.registerVersion)(Hr,"0.7.9"),(0,ee.registerVersion)(Hr,"0.7.9","esm2017")}();var md=k(4408),jl=k(7565);const Fa=new class xn extends jl.v{}(class Hi extends md.o{constructor(D,R){super(D,R),this.scheduler=D,this.work=R}schedule(D,R=0){return R>0?super.schedule(D,R):(this.delay=R,this.state=D,this.scheduler.flush(this),this)}execute(D,R){return R>0||this.closed?super.execute(D,R):this._execute(D,R)}requestAsyncId(D,R,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,R,F):D.flush(this)}});var yd=k(4986),Vh=k(8505),gr=k(5363),Mr=k(9468);const La=new c.GfV("7.3.0"),ta="__angularfire_symbol__analyticsIsSupportedValue",hs="__angularfire_symbol__analyticsIsSupported",Hs="__angularfire_symbol__remoteConfigIsSupportedValue",fs="__angularfire_symbol__remoteConfigIsSupported",na="__angularfire_symbol__messagingIsSupportedValue",Vt="__angularfire_symbol__messagingIsSupported";function ia(C,D,R){if(D){if(1===D.length)return D[0];const he=D.filter(Ee=>Ee.app===R);if(1===he.length)return he[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[hs]||(globalThis[hs]=wi().then(C=>globalThis[ta]=C).catch(()=>globalThis[ta]=!1)),globalThis[Vt]||(globalThis[Vt]=Cu().then(C=>globalThis[na]=C).catch(()=>globalThis[na]=!1)),globalThis[fs]||(globalThis[fs]=hu().then(C=>globalThis[Hs]=C).catch(()=>globalThis[Hs]=!1));const rg=(C,D)=>{const R=D?[D]:(0,Z.C6)(),F=[];return R.forEach(ne=>{ne.container.getProvider(C).instances.forEach(Ee=>{F.includes(Ee)||F.push(Ee)})}),F};function ps(){}class Ei{constructor(D,R=Fa){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,F){const ne=this.zone;return this.delegate.schedule(function(Ee){ne.runGuarded(()=>{D.apply(this,[Ee])})},R,F)}}class Au{constructor(D){this.zone=D,this.task=null}call(D,R){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ps,{},ps,ps)),R.pipe((0,Vh.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vd=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ei(Zone.current)),this.insideAngular=R.run(()=>new Ei(Zone.current,yd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Gi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function ir(C){return C.pipe((0,gr.Q)(Gi().outsideAngular))}function Bh(C){return Gi(),function Gs(C){return function(R){return(R=R.lift(new Au(C.ngZone))).pipe((0,Mr.R)(C.outsideAngular),(0,gr.Q)(C.insideAngular))}}(Gi())(C)}},8292:(Re,le,k)=>{k(5555);const{devDependencies:Z}=k(3681);Re.exports={corePath:`https://unpkg.com/@ffmpeg/core@${Z["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`}},2187:(Re,le,k)=>{var c=k(8926).default;const Z=k(5555);Re.exports=function(){var ee=c(function*(K){let ie=K;return void 0===K?new Uint8Array:("string"==typeof K?ie=/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(K)?atob(K.split(",")[1]).split("").map(se=>se.charCodeAt(0)):yield(yield fetch(Z(K))).arrayBuffer():(K instanceof File||K instanceof Blob)&&(ie=yield(ee=>new Promise((K,ie)=>{const se=new FileReader;se.onload=()=>{K(se.result)},se.onerror=({target:{error:{code:te}}})=>{ie(Error(`File could not be read! Code=${te}`))},se.readAsArrayBuffer(ee)}))(K)),new Uint8Array(ie))});return function(K){return ee.apply(this,arguments)}}()},9965:(Re,le,k)=>{var c=k(8926).default;const Z=k(5555),{log:O}=k(6945),ee=function(){var K=c(function*(ie,se){O("info",`fetch ${ie}`);const te=yield(yield fetch(ie)).arrayBuffer();O("info",`${ie} file size = ${te.byteLength} bytes`);const ce=new Blob([te],{type:se}),B=URL.createObjectURL(ce);return O("info",`${ie} blob URL = ${B}`),B});return function(se,te){return K.apply(this,arguments)}}();Re.exports=function(){var K=c(function*({corePath:ie}){if("string"!=typeof ie)throw Error("corePath should be a string!");const se=Z(ie),te=yield ee(se,"application/javascript"),ce=yield ee(se.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),B=yield ee(se.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return"undefined"==typeof createFFmpegCore?new Promise(j=>{const X=document.createElement("script"),He=()=>{X.removeEventListener("load",He),O("info","ffmpeg-core.js script loaded"),j({createFFmpegCore,corePath:te,wasmPath:ce,workerPath:B})};X.src=te,X.type="text/javascript",X.addEventListener("load",He),document.getElementsByTagName("head")[0].appendChild(X)}):(O("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:te,wasmPath:ce,workerPath:B}))});return function(ie){return K.apply(this,arguments)}}()},1346:(Re,le,k)=>{const c=k(8292),Z=k(9965),O=k(2187);Re.exports={defaultOptions:c,getCreateFFmpegCore:Z,fetchFile:O}},6151:Re=>{Re.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}}},9639:(Re,le,k)=>{var c=k(8926).default;const{defaultArgs:Z,baseOptions:O}=k(6151),{setLogging:ee,setCustomLogger:K,log:ie}=k(6945),se=k(5542),te=k(8333),{defaultOptions:ce,getCreateFFmpegCore:B}=k(1346),{version:j}=k(3681),X=Error("ffmpeg.wasm is not ready, make sure you have completed load().");Re.exports=(He={})=>{const V=O0(O0(O0({},O),ce),He),{log:ke,logger:Te,progress:Je}=V,we=cR(V,["log","logger","progress"]);let fe=null,ze=null,Ye=null,Se=!1,be=Je;const je=({type:z,message:ge})=>{ie(z,ge),se(ge,be),(z=>{"FFMPEG_END"===z&&null!==Ye&&(Ye(),Ye=null,Se=!1)})(ge)},qe=function(){var z=c(function*(){if(ie("info","load ffmpeg-core"),null!==fe)throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");{ie("info","loading ffmpeg-core");const{createFFmpegCore:ge,corePath:Be,workerPath:Ve,wasmPath:Le}=yield B(we);fe=yield ge({mainScriptUrlOrBlob:Be,printErr:_t=>je({type:"fferr",message:_t}),print:_t=>je({type:"ffout",message:_t}),locateFile:(_t,jt)=>{if("undefined"!=typeof window){if(void 0!==Le&&_t.endsWith("ffmpeg-core.wasm"))return Le;if(void 0!==Ve&&_t.endsWith("ffmpeg-core.worker.js"))return Ve}return jt+_t}}),ze=fe.cwrap("proxy_main","number",["number","number"]),ie("info","ffmpeg-core loaded")}});return function(){return z.apply(this,arguments)}}();return ee(ke),K(Te),ie("info",`use ffmpeg.wasm v${j}`),{setProgress:z=>{be=z},setLogger:z=>{K(z)},setLogging:ee,load:qe,isLoaded:()=>null!==fe,run:(...z)=>{if(ie("info",`run ffmpeg command: ${z.join(" ")}`),null===fe)throw X;if(Se)throw Error("ffmpeg.wasm can only run one command at a time");return Se=!0,new Promise(ge=>{const Be=[...Z,...z].filter(Ve=>0!==Ve.length);Ye=ge,ze(...te(fe,Be))})},exit:()=>{if(null===fe)throw X;Se=!1,fe.exit(1),fe=null,ze=null,Ye=null},FS:(z,...ge)=>{if(ie("info",`run FS.${z} ${ge.map(Be=>"string"==typeof Be?Be:`<${Be.length} bytes binary file>`).join(" ")}`),null===fe)throw X;{let Be=null;try{Be=fe.FS[z](...ge)}catch(Ve){throw Error("readdir"===z?`ffmpeg.FS('readdir', '${ge[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:"readFile"===z?`ffmpeg.FS('readFile', '${ge[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return Be}}}}},260:(Re,le,k)=>{k(7854);const c=k(9639),{fetchFile:Z}=k(1346);Re.exports={createFFmpeg:c,fetchFile:Z}},6945:Re=>{let le=!1,k=()=>{};Re.exports={logging:le,setLogging:ee=>{le=ee},setCustomLogger:ee=>{k=ee},log:(ee,K)=>{k({type:ee,message:K}),le&&console.log(`[${ee}] ${K}`)}}},8333:Re=>{Re.exports=(le,k)=>{const c=le._malloc(k.length*Uint32Array.BYTES_PER_ELEMENT);return k.forEach((Z,O)=>{const ee=le._malloc(Z.length+1);le.writeAsciiToMemory(Z,ee),le.setValue(c+Uint32Array.BYTES_PER_ELEMENT*O,ee,"i32")}),[k.length,c]}},5542:Re=>{let le=0,k=0;const c=Z=>{const[O,ee,K]=Z.split(":");return 60*parseFloat(O)*60+60*parseFloat(ee)+parseFloat(K)};Re.exports=(Z,O)=>{if("string"==typeof Z)if(Z.startsWith("  Duration")){const ee=Z.split(", ")[0].split(": ")[1],K=c(ee);O({duration:K,ratio:k}),(0===le||le>K)&&(le=K)}else if(Z.startsWith("frame")||Z.startsWith("size")){const ee=Z.split("time=")[1].split(" ")[0],K=c(ee);k=K/le,O({ratio:k,time:K})}else Z.startsWith("video:")&&(O({ratio:1}),le=0)}},2090:(Re,le,k)=>{"use strict";k.d(le,{$s:()=>Gt,BH:()=>He,G6:()=>qe,L:()=>te,LL:()=>V,Mn:()=>De,Sg:()=>ke,UG:()=>we,US:()=>ie,ZB:()=>j,ZR:()=>ve,b$:()=>Ye,d:()=>Se,eu:()=>Ce,hl:()=>$,jU:()=>fe,m9:()=>hr,ne:()=>gi,pd:()=>As,r3:()=>Pn,ru:()=>ze,tV:()=>ce,uI:()=>Je,vZ:()=>Yr,w1:()=>be,xO:()=>Ir,xb:()=>Nt,z$:()=>Te,zI:()=>Q,zd:()=>Mi});const ee=function(U){const W=[];let Y=0;for(let Ae=0;Ae<U.length;Ae++){let q=U.charCodeAt(Ae);q<128?W[Y++]=q:q<2048?(W[Y++]=q>>6|192,W[Y++]=63&q|128):55296==(64512&q)&&Ae+1<U.length&&56320==(64512&U.charCodeAt(Ae+1))?(q=65536+((1023&q)<<10)+(1023&U.charCodeAt(++Ae)),W[Y++]=q>>18|240,W[Y++]=q>>12&63|128,W[Y++]=q>>6&63|128,W[Y++]=63&q|128):(W[Y++]=q>>12|224,W[Y++]=q>>6&63|128,W[Y++]=63&q|128)}return W},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,W){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let q=0;q<U.length;q+=3){const ue=U[q],Pe=q+1<U.length,et=Pe?U[q+1]:0,yt=q+2<U.length,xt=yt?U[q+2]:0;let Fn=(15&et)<<2|xt>>6,Dr=63&xt;yt||(Dr=64,Pe||(Fn=64)),Ae.push(Y[ue>>2],Y[(3&ue)<<4|et>>4],Y[Fn],Y[Dr])}return Ae.join("")},encodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(U):this.encodeByteArray(ee(U),W)},decodeString(U,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(U):function(U){const W=[];let Y=0,Ae=0;for(;Y<U.length;){const q=U[Y++];if(q<128)W[Ae++]=String.fromCharCode(q);else if(q>191&&q<224){const ue=U[Y++];W[Ae++]=String.fromCharCode((31&q)<<6|63&ue)}else if(q>239&&q<365){const yt=((7&q)<<18|(63&U[Y++])<<12|(63&U[Y++])<<6|63&U[Y++])-65536;W[Ae++]=String.fromCharCode(55296+(yt>>10)),W[Ae++]=String.fromCharCode(56320+(1023&yt))}else{const ue=U[Y++],Pe=U[Y++];W[Ae++]=String.fromCharCode((15&q)<<12|(63&ue)<<6|63&Pe)}}return W.join("")}(this.decodeStringToByteArray(U,W))},decodeStringToByteArray(U,W){this.init_();const Y=W?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let q=0;q<U.length;){const ue=Y[U.charAt(q++)],et=q<U.length?Y[U.charAt(q)]:0;++q;const xt=q<U.length?Y[U.charAt(q)]:64;++q;const At=q<U.length?Y[U.charAt(q)]:64;if(++q,null==ue||null==et||null==xt||null==At)throw Error();Ae.push(ue<<2|et>>4),64!==xt&&(Ae.push(et<<4&240|xt>>2),64!==At&&Ae.push(xt<<6&192|At))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},te=function(U){return function(U){const W=ee(U);return ie.encodeByteArray(W,!0)}(U).replace(/\./g,"")},ce=function(U){try{return ie.decodeString(U,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function j(U,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return W}for(const Y in W)!W.hasOwnProperty(Y)||!X(Y)||(U[Y]=j(U[Y],W[Y]));return U}function X(U){return"__proto__"!==U}class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Y)=>{this.resolve=W,this.reject=Y})}wrapCallback(W){return(Y,Ae)=>{Y?this.reject(Y):this.resolve(Ae),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Y):W(Y,Ae))}}}function ke(U,W){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=W||"demo-project",q=U.iat||0,ue=U.sub||U.user_id;if(!ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Pe=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:q,exp:q+3600,auth_time:q,sub:ue,user_id:ue,firebase:{sign_in_provider:"custom",identities:{}}},U);return[te(JSON.stringify({alg:"none",type:"JWT"})),te(JSON.stringify(Pe)),""].join(".")}function Te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Je(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function fe(){return"object"==typeof self&&self.self===self}function ze(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Se(){return Te().indexOf("Electron/")>=0}function be(){const U=Te();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function De(){return Te().indexOf("MSAppHost/")>=0}function qe(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $(){return"object"==typeof indexedDB}function Ce(){return new Promise((U,W)=>{try{let Y=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(Ae);q.onsuccess=()=>{q.result.close(),Y||self.indexedDB.deleteDatabase(Ae),U(!0)},q.onupgradeneeded=()=>{Y=!1},q.onerror=()=>{var ue;W((null===(ue=q.error)||void 0===ue?void 0:ue.message)||"")}}catch(Y){W(Y)}})}function Q(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ve extends Error{constructor(W,Y,Ae){super(Y),this.code=W,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V.prototype.create)}}class V{constructor(W,Y,Ae){this.service=W,this.serviceName=Y,this.errors=Ae}create(W,...Y){const Ae=Y[0]||{},q=`${this.service}/${W}`,ue=this.errors[W],Pe=ue?function z(U,W){return U.replace(ge,(Y,Ae)=>{const q=W[Ae];return null!=q?String(q):`<${Ae}?>`})}(ue,Ae):"Error";return new ve(q,`${this.serviceName}: ${Pe} (${q}).`,Ae)}}const ge=/\{\$([^}]+)}/g;function Pn(U,W){return Object.prototype.hasOwnProperty.call(U,W)}function Nt(U){for(const W in U)if(Object.prototype.hasOwnProperty.call(U,W))return!1;return!0}function Yr(U,W){if(U===W)return!0;const Y=Object.keys(U),Ae=Object.keys(W);for(const q of Y){if(!Ae.includes(q))return!1;const ue=U[q],Pe=W[q];if(lr(ue)&&lr(Pe)){if(!Yr(ue,Pe))return!1}else if(ue!==Pe)return!1}for(const q of Ae)if(!Y.includes(q))return!1;return!0}function lr(U){return null!==U&&"object"==typeof U}function Ir(U){const W=[];for(const[Y,Ae]of Object.entries(U))Array.isArray(Ae)?Ae.forEach(q=>{W.push(encodeURIComponent(Y)+"="+encodeURIComponent(q))}):W.push(encodeURIComponent(Y)+"="+encodeURIComponent(Ae));return W.length?"&"+W.join("&"):""}function Mi(U){const W={};return U.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[q,ue]=Ae.split("=");W[decodeURIComponent(q)]=decodeURIComponent(ue)}}),W}function As(U){const W=U.indexOf("?");if(!W)return"";const Y=U.indexOf("#",W);return U.substring(W,Y>0?Y:void 0)}function gi(U,W){const Y=new Et(U,W);return Y.subscribe.bind(Y)}class Et{constructor(W,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{W(this)}).catch(Ae=>{this.error(Ae)})}next(W){this.forEachObserver(Y=>{Y.next(W)})}error(W){this.forEachObserver(Y=>{Y.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Y,Ae){let q;if(void 0===W&&void 0===Y&&void 0===Ae)throw new Error("Missing Observer.");q=function fn(U,W){if("object"!=typeof U||null===U)return!1;for(const Y of W)if(Y in U&&"function"==typeof U[Y])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Y,complete:Ae},void 0===q.next&&(q.next=_n),void 0===q.error&&(q.error=_n),void 0===q.complete&&(q.complete=_n);const ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(Pe){}}),this.observers.push(q),ue}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,W)}sendOne(W,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Y(this.observers[W])}catch(Ae){"undefined"!=typeof console&&console.error&&console.error(Ae)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _n(){}function Gt(U,W=1e3,Y=2){const Ae=W*Math.pow(Y,U),q=Math.round(.5*Ae*(Math.random()-.5)*2);return Math.min(144e5,Ae+q)}function hr(U){return U&&U._delegate?U._delegate:U}},1007:(Re,le,k)=>{"use strict";var c=k(5e3);let Z=null;function O(){return Z}const se=new c.OlP("DocumentToken");let te=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ce(){return(0,c.LFG)(j)}()},providedIn:"platform"}),n})();const B=new c.OlP("Location Initialized");let j=(()=>{class n extends te{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){X()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){X()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function He(){return new j((0,c.LFG)(se))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Je(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function fe(n){const e=(0,c.LFG)(se).location;return new Ye((0,c.LFG)(te),e&&e.origin||"")}()},providedIn:"root"}),n})();const ze=new c.OlP("appBaseHref");let Ye=(()=>{class n extends we{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Je(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const d=this.prepareExternalUrl(s+Je(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){const d=this.prepareExternalUrl(s+Je(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(ze,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Se=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let d=this.prepareExternalUrl(s+Je(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){let d=this.prepareExternalUrl(s+Je(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(te),c.LFG(ze,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),be=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Te(qe(s)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Je(r))}normalize(t){return n.stripTrailingSlash(function je(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._platformStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),s)}replaceState(t,r="",s=null){this._platformStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Je(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformStrategy).historyGo)||void 0===s||s.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Je,n.joinWithSlash=ke,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(c.LFG(we),c.LFG(te))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function De(){return new be((0,c.LFG)(we),(0,c.LFG)(te))}()},providedIn:"root"}),n})();function qe(n){return n.replace(/\/index.html$/,"")}var Ce=(()=>((Ce=Ce||{})[Ce.Decimal=0]="Decimal",Ce[Ce.Percent=1]="Percent",Ce[Ce.Currency=2]="Currency",Ce[Ce.Scientific=3]="Scientific",Ce))(),V=(()=>((V=V||{})[V.Decimal=0]="Decimal",V[V.Group=1]="Group",V[V.List=2]="List",V[V.PercentSign=3]="PercentSign",V[V.PlusSign=4]="PlusSign",V[V.MinusSign=5]="MinusSign",V[V.Exponential=6]="Exponential",V[V.SuperscriptingExponent=7]="SuperscriptingExponent",V[V.PerMille=8]="PerMille",V[V.Infinity=9]="Infinity",V[V.NaN=10]="NaN",V[V.TimeSeparator=11]="TimeSeparator",V[V.CurrencyDecimal=12]="CurrencyDecimal",V[V.CurrencyGroup=13]="CurrencyGroup",V))();function Nt(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(void 0===r){if(e===V.CurrencyDecimal)return t[c.wAp.NumberSymbols][V.Decimal];if(e===V.CurrencyGroup)return t[c.wAp.NumberSymbols][V.Group]}return r}const Tr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ki(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}let Br=(()=>{class n{constructor(t,r,s,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class xs{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let An=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,d)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new xs(s.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),uo(m,s)}});for(let s=0,u=r.length;s<u;s++){const m=r.get(s).context;m.index=s,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{uo(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function uo(n,e){n.context.$implicit=e.item}let un=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){cu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){cu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class tn{constructor(){this.$implicit=null,this.ngIf=null}}function cu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function fr(n,e){return new c.vHH(2100,"")}class Rs{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class zc{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Wp=new zc,os=new Rs;let Wc=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return Wp;if((0,c.F4k)(t))return os;throw fr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),er=(()=>{class n{constructor(t){this._locale=t}transform(t,r,s){if(!function Fi(n){return!(null==n||""===n||n!=n)}(t))return null;s=s||this._locale;try{return function Ke(n,e,t){return function Bo(n,e,t,r,s,u,d=!1){let m="",w=!1;if(isFinite(n)){let I=function Ri(n){let r,s,u,d,m,e=Math.abs(n)+"",t=0;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(s<0&&(s=u),s+=+e.slice(u+1),e=e.substring(0,u)):s<0&&(s=e.length),u=0;"0"===e.charAt(u);u++);if(u===(m=e.length))r=[0],s=1;else{for(m--;"0"===e.charAt(m);)m--;for(s-=u,r=[],d=0;u<=m;u++,d++)r[d]=Number(e.charAt(u))}return s>22&&(r=r.splice(0,21),t=s-1,s=1),{digits:r,exponent:t,integerLen:s}}(n);d&&(I=function Vr(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(I));let T=e.minInt,M=e.minFrac,L=e.maxFrac;if(u){const Ct=u.match(Tr);if(null===Ct)throw new Error(`${u} is not a valid digit info`);const ct=Ct[1],rt=Ct[3],St=Ct[5];null!=ct&&(T=ki(ct)),null!=rt&&(M=ki(rt)),null!=St?L=ki(St):null!=rt&&M>L&&(L=M)}!function Tn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,s=r.length-n.integerLen;const u=Math.min(Math.max(e,s),t);let d=u+n.integerLen,m=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let M=d;M<r.length;M++)r[M]=0}else{s=Math.max(0,s),n.integerLen=1,r.length=Math.max(1,d=u+1),r[0]=0;for(let M=1;M<d;M++)r[M]=0}if(m>=5)if(d-1<0){for(let M=0;M>d;M--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;s<Math.max(0,u);s++)r.push(0);let w=0!==u;const I=e+n.integerLen,T=r.reduceRight(function(M,L,G,ae){return ae[G]=(L+=M)<10?L:L-10,w&&(0===ae[G]&&G>=I?ae.pop():w=!1),L>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(I,M,L);let G=I.digits,ae=I.integerLen;const xe=I.exponent;let Ne=[];for(w=G.every(Ct=>!Ct);ae<T;ae++)G.unshift(0);for(;ae<0;ae++)G.unshift(0);ae>0?Ne=G.splice(ae,G.length):(Ne=G,G=[0]);const gt=[];for(G.length>=e.lgSize&&gt.unshift(G.splice(-e.lgSize,G.length).join(""));G.length>e.gSize;)gt.unshift(G.splice(-e.gSize,G.length).join(""));G.length&&gt.unshift(G.join("")),m=gt.join(Nt(t,r)),Ne.length&&(m+=Nt(t,s)+Ne.join("")),xe&&(m+=Nt(t,V.Exponential)+"+"+xe)}else m=Nt(t,V.Infinity);return m=n<0&&!w?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,function en(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),s=r[0],u=r[1],d=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],m=d[0],w=d[1]||"";t.posPre=m.substr(0,m.indexOf("#"));for(let T=0;T<w.length;T++){const M=w.charAt(T);"0"===M?t.minFrac=t.maxFrac=T+1:"#"===M?t.maxFrac=T+1:t.posSuf+=M}const I=m.split(",");if(t.gSize=I[1]?I[1].length:0,t.lgSize=I[2]||I[1]?(I[2]||I[1]).length:0,u){const T=s.length-t.posPre.length-t.posSuf.length,M=u.indexOf("#");t.negPre=u.substr(0,M).replace(/'/g,""),t.negSuf=u.substr(M+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function is(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}(e,Ce.Percent),Nt(e,V.MinusSign)),e,V.Group,V.Decimal,t,!0).replace(new RegExp("%","g"),Nt(e,V.PercentSign))}(function $o(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),s,r)}catch(u){throw fr()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16))},n.\u0275pipe=c.Yjl({name:"percent",type:n,pure:!0}),n})();let Da=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Go(n){return"server"===n}let Il=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new qo((0,c.LFG)(se),window)}),n})();class qo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Li(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Dl(this.window.history)||Dl(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Dl(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ho extends class Ta extends class ie{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function K(n){Z||(Z=n)}(new ho)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Aa(){return Yt=Yt||document.querySelector("base"),Yt?Yt.getAttribute("href"):null}();return null==t?null:function Ns(n){fu=fu||document.createElement("a"),fu.setAttribute("href",n);const e=fu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ba(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let fu,Yt=null;const tr=new c.OlP("TRANSITION_ID"),cn=[{provide:c.ip1,useFactory:function Tl(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=O(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[tr,se,c.zs3],multi:!0}];class Ui{static init(){(0,c.VLi)(new Ui)}addToWindow(e){c.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const s=c.dqk.getAllAngularTestabilities();let u=s.length,d=!1;const m=function(w){d=d||w,u--,0==u&&r(d)};s.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let nr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fo=new c.OlP("EventManagerPlugins");let as=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const d=s[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fo),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Sa{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=O().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let _i=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Vi=(()=>{class n extends _i{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,s.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Zo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Zo))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Zo(n){O().remove(n)}const bt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Os=/%COMP%/g;function zo(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?zo(n,s,t):(s=s.replace(Os,n),t.push(s))}return t}function Oe(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Wo=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new ln(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new ni(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case c.ifc.ShadowDom:return new Ml(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=zo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(as),c.LFG(Vi),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class ln{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(bt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=bt[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=bt[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,s&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Oe(r)):this.eventManager.addEventListener(e,t,Oe(r))}}class ni extends ln{constructor(e,t,r,s){super(e),this.component=r;const u=zo(s+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function gu(n){return"_ngcontent-%COMP%".replace(Os,n)}(s+"-"+r.id),this.hostAttr=function xl(n){return"_nghost-%COMP%".replace(Os,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ml extends ln{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=zo(s.id,s.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Rl=(()=>{class n extends Sa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const kl=["alt","control","meta","shift"],Jp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},us={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ri=(()=>{class n extends Sa{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let d="";if(kl.forEach(w=>{const I=r.indexOf(w);I>-1&&(r.splice(I,1),d+=w+".")}),d+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=s,m.fullKey=d,m}static getEventFullKey(t){let r="",s=function yu(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&us.hasOwnProperty(e)&&(e=us[e]))}return Jp[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),kl.forEach(u=>{u!=s&&pr[u](t)&&(r+=u+".")}),r+=s,r}static eventCallback(t,r,s){return u=>{n.getEventFullKey(u)===t&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const vu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Ps(){ho.makeCurrent(),Ui.init()},multi:!0},{provide:se,useFactory:function Nl(){return(0,c.RDi)(document),document},deps:[]}]),Ol=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function vi(){return new c.qLn},deps:[]},{provide:fo,useClass:Rl,multi:!0,deps:[se,c.R0b,c.Lbi]},{provide:fo,useClass:ri,multi:!0,deps:[se]},{provide:Wo,useClass:Wo,deps:[as,Vi,c.AFp]},{provide:c.FYo,useExisting:Wo},{provide:_i,useExisting:Vi},{provide:Vi,useClass:Vi,deps:[se]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:as,useClass:as,deps:[fo,c.R0b]},{provide:class nn{},useClass:nr,deps:[]}];let Ma=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:tr,useExisting:c.AFp},cn]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Ol,imports:[Da,c.hGG]}),n})();"undefined"!=typeof window&&window;let dd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(ka),r},providedIn:"root"}),n})(),ka=(()=>{class n extends dd{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(r),(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Bi(n){return new ka(n.get(se))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();var Qt=k(8996),Na=k(3269);function ot(...n){const e=(0,Na.yG)(n);return(0,Qt.D)(n,e)}var xr=k(7579);class ii extends xr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var wn=k(9751);const{isArray:Oa}=Array,{getPrototypeOf:hd,prototype:Qo,keys:Fs}=Object;function En(n){if(1===n.length){const e=n[0];if(Oa(e))return{args:e,keys:null};if(function Ls(n){return n&&"object"==typeof n&&hd(n)===Qo}(e)){const t=Fs(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ji=k(4671),vt=k(4004);const{isArray:fd}=Array;function Fl(n){return(0,vt.U)(e=>function pd(n,e){return fd(e)?n(...e):n(e)}(n,e))}function Ll(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Bn=k(5403),Us=k(9672);function vo(...n){const e=(0,Na.yG)(n),t=(0,Na.jO)(n),{args:r,keys:s}=En(n);if(0===r.length)return(0,Qt.D)([],e);const u=new wn.y(function wo(n,e,t=ji.y){return r=>{rr(e,()=>{const{length:s}=n,u=new Array(s);let d=s,m=s;for(let w=0;w<s;w++)rr(e,()=>{const I=(0,Qt.D)(n[w],e);let T=!1;I.subscribe((0,Bn.x)(r,M=>{u[w]=M,T||(T=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,s?d=>Ll(s,d):ji.y));return t?u.pipe(Fl(t)):u}function rr(n,e,t){n?(0,Us.f)(t,n,e):e()}var Eo=k(576);function bo(n,e){const t=(0,Eo.m)(n)?n:()=>n,r=s=>s.error(t());return new wn.y(e?s=>e.schedule(r,0,s):r)}const Vs=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Xo=k(8189);function Co(...n){return function Bs(){return(0,Xo.J)(1)}()((0,Qt.D)(n,(0,Na.yG)(n)))}var Ul=k(8421);function Pa(n){return new wn.y(e=>{(0,Ul.Xf)(n()).subscribe(e)})}var cs=k(515),Io=k(727),jn=k(4482);function Vl(){return(0,jn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Bn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class js extends wn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,jn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Io.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Bn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Io.w0.EMPTY)}return e}refCount(){return Vl()(this)}}function dn(n,e){return(0,jn.e)((t,r)=>{let s=null,u=0,d=!1;const m=()=>d&&!s&&r.complete();t.subscribe((0,Bn.x)(r,w=>{null==s||s.unsubscribe();let I=0;const T=u++;(0,Ul.Xf)(n(w,T)).subscribe(s=(0,Bn.x)(r,M=>r.next(e?e(w,M,T,I++):M),()=>{s=null,m()}))},()=>{d=!0,m()}))})}var si=k(5698);function Do(...n){const e=(0,Na.yG)(n);return(0,jn.e)((t,r)=>{(e?Co(n,t,e):Co(n,t)).subscribe(r)})}function ds(n,e,t,r,s){return(u,d)=>{let m=t,w=e,I=0;u.subscribe((0,Bn.x)(d,T=>{const M=I++;w=m?n(w,T,M):(m=!0,T),r&&d.next(w)},s&&(()=>{m&&d.next(w),d.complete()})))}}function $i(n,e){return(0,jn.e)(ds(n,e,arguments.length>=2,!0))}function zn(n,e){return(0,jn.e)((t,r)=>{let s=0;t.subscribe((0,Bn.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}function oi(n){return(0,jn.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Bn.x)(t,void 0,void 0,d=>{u=(0,Ul.Xf)(n(d,oi(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}var bn=k(5577);function wi(n,e){return(0,Eo.m)(e)?(0,bn.z)(n,e,1):(0,bn.z)(n,1)}function Du(n){return n<=0?()=>cs.E:(0,jn.e)((e,t)=>{let r=[];e.subscribe((0,Bn.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function Bl(n=pn){return(0,jn.e)((e,t)=>{let r=!1;e.subscribe((0,Bn.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function pn(){return new Vs}function Uh(n){return(0,jn.e)((e,t)=>{let r=!1;e.subscribe((0,Bn.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function ea(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zn((s,u)=>n(s,u,r)):ji.y,(0,si.q)(1),t?Uh(e):Bl(()=>new Vs))}var Hr=k(8505);class $s{constructor(e,t){this.id=e,this.url=t}}class md extends $s{constructor(e,t,r="imperative",s=null){super(e,t),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hi extends $s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jl extends $s{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xn extends $s{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fa extends $s{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tu extends $s{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yd extends $s{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vh extends $s{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends $s{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mr{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class La{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ta{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hs{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fs{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class na{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Vt="primary";class _d{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ra(n){return new _d(n)}const mr="ngNavigationCancelingError";function Ua(n){const e=Error("NavigationCancelingError: "+n);return e[mr]=!0,e}function rg(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))s[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Ei(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Au(n[s],e[s]))return!1;return!0}function Au(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function vd(n){return Array.prototype.concat.apply([],n)}function Gi(n){return n.length>0?n[n.length-1]:null}function an(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ir(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Qt.D)(Promise.resolve(n)):ot(n)}const Bh={exact:function C(n,e,t){if(!ht(n.segments,e.segments)||!ne(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!C(n.children[r],e.children[r],t))return!1;return!0},subset:R},Gs={exact:function Va(n,e){return Ei(n,e)},subset:function D(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Au(n[t],e[t]))},ignored:()=>!0};function sa(n,e,t){return Bh[t.paths](n.root,e.root,t.matrixParams)&&Gs[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function R(n,e,t){return F(n,e,e.segments,t)}function F(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!ht(s,t)||e.hasChildren()||!ne(s,t,r))}if(n.segments.length===t.length){if(!ht(n.segments,t)||!ne(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!R(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(ht(n.segments,s)&&ne(n.segments,s,r)&&n.children[Vt])&&F(n.children[Vt],e,u,r)}}function ne(n,e,t){return e.every((r,s)=>Gs[t](n[s].parameters,r.parameters))}class he{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ra(this.queryParams)),this._queryParamMap}toString(){return Wn.serialize(this)}}class Ee{constructor(e,t){this.segments=e,this.children=t,this.parent=null,an(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gs(this)}}class Xe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ra(this.parameters)),this._parameterMap}toString(){return Gl(this)}}function ht(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Rt{}class Mn{parse(e){const t=new ig(e);return new he(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${qi(e.root,!0)}`,r=function jh(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${yr(t)}=${yr(s)}`).join("&"):`${yr(t)}=${yr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ms(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Wn=new Mn;function gs(n){return n.segments.map(e=>Gl(e)).join("/")}function qi(n,e){if(!n.hasChildren())return gs(n);if(e){const t=n.children[Vt]?qi(n.children[Vt],!1):"",r=[];return an(n.children,(s,u)=>{u!==Vt&&r.push(`${u}:${qi(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function zt(n,e){let t=[];return an(n.children,(r,s)=>{s===Vt&&(t=t.concat(e(r,s)))}),an(n.children,(r,s)=>{s!==Vt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===Vt?[qi(n.children[Vt],!1)]:[`${s}:${qi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Vt]?`${gs(n)}/${t[0]}`:`${gs(n)}/(${t.join("//")})`}}function bi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yr(n){return bi(n).replace(/%3B/gi,";")}function qs(n){return bi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hl(n){return decodeURIComponent(n)}function Ed(n){return Hl(n.replace(/\+/g,"%20"))}function Gl(n){return`${qs(n.path)}${function bd(n){return Object.keys(n).map(e=>`;${qs(e)}=${qs(n[e])}`).join("")}(n.parameters)}`}const $h=/^[^\/()?;=#]+/;function Cd(n){const e=n.match($h);return e?e[0]:""}const Su=/^[^=?&#]+/,Hh=/^[^&#]+/;class ig{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Vt]=new Ee(e,t)),r}parseSegment(){const e=Cd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Xe(Hl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Cd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=Cd(this.remaining);s&&(r=s,this.capture(r))}e[Hl(t)]=Hl(r)}parseQueryParam(e){const t=function ql(n){const e=n.match(Su);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function F0(n){const e=n.match(Hh);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const s=Ed(t),u=Ed(r);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cd(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Vt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Vt]:new Ee([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Gh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=sg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=sg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xu(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return xu(e,this._root).map(t=>t.value)}}function sg(n,e){if(n===e.value)return e;for(const t of e.children){const r=sg(n,t);if(r)return r}return null}function xu(n,e){if(n===e.value)return[e];for(const t of e.children){const r=xu(n,t);if(r.length)return r.unshift(e),r}return[]}class To{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Mu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Zl extends Gh{constructor(e,t){super(e),this.snapshot=t,Td(this,e)}toString(){return this.snapshot.toString()}}function Id(n,e){const t=function Ru(n,e){const d=new So([],{},{},"",{},Vt,e,null,n.root,-1,{});return new Dd("",new To(d,[]))}(n,e),r=new ii([new Xe("",{})]),s=new ii({}),u=new ii({}),d=new ii({}),m=new ii(""),w=new Ao(r,s,d,m,u,Vt,e,t.root);return w.snapshot=t.root,new Zl(new To(w,[]),t)}class Ao{constructor(e,t,r,s,u,d,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=m,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(e=>ra(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(e=>ra(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function og(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function L0(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class So{constructor(e,t,r,s,u,d,m,w,I,T,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=m,this.routeConfig=w,this._urlSegment=I,this._lastPathIndex=T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ra(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ra(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Dd extends Gh{constructor(e,t){super(t),this.url=e,Td(this,t)}toString(){return qh(this._root)}}function Td(n,e){e.value._routerState=n,e.children.forEach(t=>Td(n,t))}function qh(n){const e=n.children.length>0?` { ${n.children.map(qh).join(", ")} } `:"";return`${n.value}${e}`}function Ad(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ei(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ei(e.params,t.params)||n.params.next(t.params),function ps(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ei(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ei(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xo(n,e){const t=Ei(n.params,e.params)&&function at(n,e){return ht(n,e)&&n.every((t,r)=>Ei(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||xo(n.parent,e.parent))}function zl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function Ry(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return zl(n,r,s);return zl(n,r)})}(n,e,t);return new To(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>zl(n,m)),d}}const r=function ky(n){return new Ao(new ii(n.url),new ii(n.params),new ii(n.queryParams),new ii(n.fragment),new ii(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>zl(n,u));return new To(r,s)}}function ai(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Zs(n){return"object"==typeof n&&null!=n&&n.outlets}function ku(n,e,t,r,s){let u={};if(r&&an(r,(m,w)=>{u[w]=Array.isArray(m)?m.map(I=>`${I}`):`${m}`}),n===e)return new he(t,u,s);const d=ug(n,e,t);return new he(d,u,s)}function ug(n,e,t){const r={};return an(n.children,(s,u)=>{r[u]=s===e?t:ug(s,e,t)}),new Ee(n.segments,r)}class Zh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ai(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(Zs);if(s&&s!==Gi(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Wl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function cg(n,e,t){if(n||(n=new Ee([],{})),0===n.segments.length&&n.hasChildren())return Sd(n,e,t);const r=function Fy(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const d=n.segments[s],m=t[r];if(Zs(m))break;const w=`${m}`,I=r<t.length-1?t[r+1]:null;if(s>0&&void 0===w)break;if(w&&I&&"object"==typeof I&&void 0===I.outlets){if(!Wh(w,I,d))return u;r+=2}else{if(!Wh(w,{},d))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Ee(n.segments.slice(0,r.pathIndex),{});return u.children[Vt]=new Ee(n.segments.slice(r.pathIndex),n.children),Sd(u,0,s)}return r.match&&0===s.length?new Ee(n.segments,{}):r.match&&!n.hasChildren()?Ly(n,e,t):r.match?Sd(n,0,s):Ly(n,e,t)}function Sd(n,e,t){if(0===t.length)return new Ee(n.segments,{});{const r=function lg(n){return Zs(n[0])?n[0].outlets:{[Vt]:n}}(t),s={};return an(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[d]=cg(n.children[d],e,u))}),an(n.children,(u,d)=>{void 0===r[d]&&(s[d]=u)}),new Ee(n.segments,s)}}function Ly(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Zs(u)){const w=Ba(u.outlets);return new Ee(r,w)}if(0===s&&ai(t[0])){r.push(new Xe(n.segments[e].path,Nu(t[0]))),s++;continue}const d=Zs(u)?u.outlets[Vt]:`${u}`,m=s<t.length-1?t[s+1]:null;d&&m&&ai(m)?(r.push(new Xe(d,Nu(m))),s+=2):(r.push(new Xe(d,{})),s++)}return new Ee(r,{})}function Ba(n){const e={};return an(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ly(new Ee([],{}),0,t))}),e}function Nu(n){const e={};return an(n,(t,r)=>e[r]=`${t}`),e}function Wh(n,e,t){return n==t.path&&Ei(e,t.parameters)}class Kl{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ad(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=Mu(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,s[d],r),delete s[d]}),an(s,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const d=r.getContext(s.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Mu(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Mu(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=Mu(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new fs(u.value.snapshot))}),e.children.length&&this.forwardEvent(new hs(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(Ad(s),s===u)if(s.component){const d=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const d=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Ad(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function xd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),w=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=s,d.resolver=w,d.outlet&&d.outlet.activateWith(s,w),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Md{constructor(e,t){this.routes=e,this.module=t}}function Mo(n){return"function"==typeof n}function Ou(n){return n instanceof he}const Rd=Symbol("INITIAL_VALUE");function kd(){return dn(n=>vo(n.map(e=>e.pipe((0,si.q)(1),Do(Rd)))).pipe($i((e,t)=>{let r=!1;return t.reduce((s,u,d)=>s!==Rd?s:(u===Rd&&(r=!0),r||!1!==u&&d!==t.length-1&&!Ou(u)?s:u),e)},Rd),zn(e=>e!==Rd),(0,vt.U)(e=>Ou(e)?e:!0===e),(0,si.q)(1)))}class hg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pu,this.attachRef=null}}class Pu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new hg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ql=(()=>{class n{constructor(t,r,s,u,d){this.parentContexts=t,this.location=r,this.resolver=s,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=u||Vt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,w=new Uy(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Pu),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Uy{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ao?this.route:e===Pu?this.childContexts:this.parent.get(e,t)}}let fg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[Ql],encapsulation:2}),n})();function Jl(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Fu(r,pg(e,r))}}function Fu(n,e){n.children&&Jl(n.children,e)}function pg(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Xl(n){const e=n.children&&n.children.map(Xl),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Vt&&(t.component=fg),t}function Gr(n){return n.outlet||Vt}function Cn(n,e){const t=n.filter(r=>Gr(r)===e);return t.push(...n.filter(r=>Gr(r)!==e)),t}const gg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Nd(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},gg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||rg)(t,n,e);if(!u)return Object.assign({},gg);const d={};an(u.posParams,(w,I)=>{d[I]=w.path});const m=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function ja(n,e,t,r,s="corrected"){if(t.length>0&&function By(n,e,t){return t.some(r=>oa(n,e,r)&&Gr(r)!==Vt)}(n,t,r)){const d=new Ee(e,function Vy(n,e,t,r){const s={};s[Vt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Gr(u)!==Vt){const d=new Ee([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,s[Gr(u)]=d}return s}(n,e,r,new Ee(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function jy(n,e,t){return t.some(r=>oa(n,e,r))}(n,t,r)){const d=new Ee(n.segments,function mg(n,e,t,r,s,u){const d={};for(const m of r)if(oa(n,t,m)&&!s[Gr(m)]){const w=new Ee([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[Gr(m)]=w}return Object.assign(Object.assign({},s),d)}(n,e,t,r,n.children,s));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Ee(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function oa(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function yg(n,e,t,r){return!!(Gr(n)===r||r!==Vt&&oa(e,t,n))&&("**"===n.path||Nd(e,n,t).matched)}function _g(n,e,t){return 0===e.length&&!n.children[t]}class Qh{constructor(e){this.segmentGroup=e||null}}class Lu{constructor(e){this.urlTree=e}}function Kn(n){return bo(new Qh(n))}function Od(n){return bo(new Lu(n))}class Uu{constructor(e,t,r,s,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=ja(this.urlTree.root,[],[],this.config).segmentGroup,t=new Ee(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Vt).pipe((0,vt.U)(u=>this.createUrlTree(ec(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(oi(u=>{if(u instanceof Lu)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Qh?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Vt).pipe((0,vt.U)(s=>this.createUrlTree(ec(s),e.queryParams,e.fragment))).pipe(oi(s=>{throw s instanceof Qh?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const s=e.segments.length>0?new Ee([],{[Vt]:e}):e;return new he(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,vt.U)(u=>new Ee([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,Qt.D)(s).pipe(wi(u=>{const d=r.children[u],m=Cn(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,vt.U)(w=>({segment:w,outlet:u})))}),$i((u,d)=>(u[d.outlet]=d.segment,u),{}),function My(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zn((s,u)=>n(s,u,r)):ji.y,Du(1),t?Uh(e):Bl(()=>new Vs))}())}expandSegment(e,t,r,s,u,d){return(0,Qt.D)(r).pipe(wi(m=>this.expandSegmentAgainstRoute(e,t,r,m,s,u,d).pipe(oi(I=>{if(I instanceof Qh)return ot(null);throw I}))),ea(m=>!!m),oi((m,w)=>{if(m instanceof Vs||"EmptyError"===m.name)return _g(t,s,u)?ot(new Ee([],{})):Kn(t);throw m}))}expandSegmentAgainstRoute(e,t,r,s,u,d,m){return yg(s,t,u,d)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d):Kn(t):Kn(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Od(u):this.lineralizeSegments(r,u).pipe((0,bn.z)(d=>{const m=new Ee(d,{});return this.expandSegment(e,m,t,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){const{matched:m,consumedSegments:w,remainingSegments:I,positionalParamSegments:T}=Nd(t,s,u);if(!m)return Kn(t);const M=this.applyRedirectCommands(w,s.redirectTo,T);return s.redirectTo.startsWith("/")?Od(M):this.lineralizeSegments(s,M).pipe((0,bn.z)(L=>this.expandSegment(e,t,r,L.concat(I),d,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ot(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,vt.U)(M=>(r._loadedConfig=M,new Ee(s,{})))):ot(new Ee(s,{}));const{matched:d,consumedSegments:m,remainingSegments:w}=Nd(t,r,s);return d?this.getChildConfig(e,r,s).pipe((0,bn.z)(T=>{const M=T.module,L=T.routes,{segmentGroup:G,slicedSegments:ae}=ja(t,m,w,L),xe=new Ee(G.segments,G.children);if(0===ae.length&&xe.hasChildren())return this.expandChildren(M,L,xe).pipe((0,vt.U)(ct=>new Ee(m,ct)));if(0===L.length&&0===ae.length)return ot(new Ee(m,{}));const Ne=Gr(r)===u;return this.expandSegment(M,xe,L,ae,Ne?Vt:u,!0).pipe((0,vt.U)(Ct=>new Ee(m.concat(Ct.segments),Ct.children)))})):Kn(t)}getChildConfig(e,t,r){return t.children?ot(new Md(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ot(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,bn.z)(s=>s?this.configLoader.load(e.injector,t).pipe((0,vt.U)(u=>(t._loadedConfig=u,u))):function Pd(n){return bo(Ua(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ot(new Md([],e))}runCanLoadGuards(e,t,r){const s=t.canLoad;return s&&0!==s.length?ot(s.map(d=>{const m=e.get(d);let w;if(function U0(n){return n&&Mo(n.canLoad)}(m))w=m.canLoad(t,r);else{if(!Mo(m))throw new Error("Invalid CanLoad guard");w=m(t,r)}return ir(w)})).pipe(kd(),(0,Hr.b)(d=>{if(!Ou(d))return;const m=Ua(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,vt.U)(d=>!0===d)):ot(!0)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return ot(r);if(s.numberOfChildren>1||!s.children[Vt])return bo(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));s=s.children[Vt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new he(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return an(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[u]=t[m]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let d={};return an(t.children,(m,w)=>{d[w]=this.createSegmentGroup(e,m,r,s)}),new Ee(u,d)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}function ec(n){const e={};for(const r of Object.keys(n.children)){const u=ec(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Xh(n){if(1===n.numberOfChildren&&n.children[Vt]){const e=n.children[Vt];return new Ee(n.segments.concat(e.segments),e.children)}return n}(new Ee(n.segments,e))}class qr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class aa{constructor(e,t){this.component=e,this.route=t}}function ef(n,e,t){const r=n._root;return tc(r,e?e._root:null,t,[r.value])}function $a(n,e,t){const r=function tf(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function tc(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=Mu(e);return n.children.forEach(d=>{(function Fd(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function Gy(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ht(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ht(n.url,e.url)||!Ei(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xo(n,e)||!Ei(n.queryParams,e.queryParams);default:return!xo(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?s.canActivateChecks.push(new qr(r)):(u.data=d.data,u._resolvedData=d._resolvedData),tc(n,e,u.component?m?m.children:null:t,r,s),w&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new aa(m.outlet.component,d))}else d&&zi(e,m,s),s.canActivateChecks.push(new qr(r)),tc(n,null,u.component?m?m.children:null:t,r,s)})(d,u[d.value.outlet],t,r.concat([d.value]),s),delete u[d.value.outlet]}),an(u,(d,m)=>zi(d,t.getContext(m),s)),s}function zi(n,e,t){const r=Mu(n),s=n.value;an(r,(u,d)=>{zi(u,s.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new aa(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class zy{}function ys(n){return new wn.y(e=>e.error(n))}class wg{constructor(e,t,r,s,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=ja(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Vt);if(null===t)return null;const r=new So([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new To(r,t),u=new Dd(this.url,s);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=og(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],m=Cn(e,u),w=this.processSegmentGroup(m,d,u);if(null===w)return null;r.push(...w)}const s=bg(r);return function Eg(n){n.sort((e,t)=>e.value.outlet===Vt?-1:t.value.outlet===Vt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,r,s){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,s);if(null!==d)return d}return _g(t,r,s)?[]:null}processSegmentAgainstRoute(e,t,r,s){if(e.redirectTo||!yg(e,t,r,s))return null;let u,d=[],m=[];if("**"===e.path){const G=r.length>0?Gi(r).parameters:{};u=new So(r,G,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),Gr(e),e.component,e,Cg(t),Ha(t)+r.length,f(e))}else{const G=Nd(t,e,r);if(!G.matched)return null;d=G.consumedSegments,m=G.remainingSegments,u=new So(d,G.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,y(e),Gr(e),e.component,e,Cg(t),Ha(t)+d.length,f(e))}const w=function Wy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:I,slicedSegments:T}=ja(t,d,m,w.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution);if(0===T.length&&I.hasChildren()){const G=this.processChildren(w,I);return null===G?null:[new To(u,G)]}if(0===w.length&&0===T.length)return[new To(u,[])];const M=Gr(e)===s,L=this.processSegment(w,I,T,M?Vt:s);return null===L?null:[new To(u,L)]}}function sf(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function bg(n){const e=[],t=new Set;for(const r of n){if(!sf(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=bg(r.children);e.push(new To(r.value,s))}return e.filter(r=>!t.has(r))}function Cg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ha(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function y(n){return n.data||{}}function f(n){return n.resolve||{}}function J(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ge(n){return dn(e=>{const t=n(e);return t?(0,Qt.D)(t).pipe((0,vt.U)(()=>e)):ot(e)})}class ft extends class mt{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const In=new c.OlP("ROUTES");class li{constructor(e,t,r,s){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe((0,vt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new Md(vd(d.injector.get(In,void 0,c.XFs.Self|c.XFs.Optional)).map(Xl),d)}),oi(u=>{throw t._loader$=void 0,u}));return t._loader$=new js(s,()=>new xr.x).pipe(Vl()),t._loader$}loadModuleFactory(e){return ir(e()).pipe((0,bn.z)(t=>t instanceof c.YKP?ot(t):(0,Qt.D)(this.compiler.compileModuleAsync(t))))}}class af{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ig(n){throw n}function Ga(n,e,t){return e.parse("/")}function rc(n,e){return ot(null)}const Vd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rn=(()=>{class n{constructor(t,r,s,u,d,m,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xr.x,this.errorHandler=Ig,this.malformedUriErrorHandler=Ga,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rc,afterPreactivation:rc},this.urlHandlingStrategy=new af,this.routeReuseStrategy=new ft,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const M=d.get(c.R0b);this.isNgZoneEnabled=M instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function $l(){return new he(new Ee([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new li(d,m,L=>this.triggerEvent(new Mr(L)),L=>this.triggerEvent(new La(L))),this.routerState=Id(this.currentUrlTree,this.rootComponentType),this.transitions=new ii({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(zn(s=>0!==s.id),(0,vt.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),dn(s=>{let u=!1,d=!1;return ot(s).pipe((0,Hr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),dn(m=>{const w=this.browserUrlTree.toString(),I=!this.navigated||m.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return lf(m.source)&&(this.browserUrlTree=m.extractedUrl),ot(m).pipe(dn(M=>{const L=this.transitions.getValue();return r.next(new md(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),L!==this.transitions.getValue()?cs.E:Promise.resolve(M)}),function $y(n,e,t,r){return dn(s=>function sr(n,e,t,r,s){return new Uu(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,vt.U)(u=>Object.assign(Object.assign({},s),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Hr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function g(n,e,t,r,s){return(0,bn.z)(u=>function nc(n,e,t,r,s="emptyOnly",u="legacy"){try{const d=new wg(n,e,t,r,s,u).recognize();return null===d?ys(new zy):ot(d)}catch(d){return ys(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,s).pipe((0,vt.U)(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Hr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(G,M)}this.browserUrlTree=M.urlAfterRedirects}const L=new Fa(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(L)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:L,extractedUrl:G,source:ae,restoredState:xe,extras:Ne}=m,gt=new md(L,this.serializeUrl(G),ae,xe);r.next(gt);const Ct=Id(G,this.rootComponentType).snapshot;return ot(Object.assign(Object.assign({},m),{targetSnapshot:Ct,urlAfterRedirects:G,extras:Object.assign(Object.assign({},Ne),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),cs.E}),Ge(m=>{const{targetSnapshot:w,id:I,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:L,replaceUrl:G}}=m;return this.hooks.beforePreactivation(w,{navigationId:I,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!L,replaceUrl:!!G})}),(0,Hr.b)(m=>{const w=new Tu(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,vt.U)(m=>Object.assign(Object.assign({},m),{guards:ef(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Ld(n,e){return(0,bn.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?ot(Object.assign(Object.assign({},t),{guardsResult:!0})):function qy(n,e,t,r){return(0,Qt.D)(n).pipe((0,bn.z)(s=>function rf(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ot(u.map(m=>{const w=$a(m,e,s);let I;if(function Yh(n){return n&&Mo(n.canDeactivate)}(w))I=ir(w.canDeactivate(n,e,t,r));else{if(!Mo(w))throw new Error("Invalid CanDeactivate guard");I=ir(w(n,e,t,r))}return I.pipe(ea())})).pipe(kd()):ot(!0)}(s.component,s.route,t,e,r)),ea(s=>!0!==s,!0))}(d,r,s,n).pipe((0,bn.z)(m=>m&&function dg(n){return"boolean"==typeof n}(m)?function Zy(n,e,t,r){return(0,Qt.D)(e).pipe(wi(s=>Co(function vg(n,e){return null!==n&&e&&e(new ta(n)),ot(!0)}(s.route.parent,r),function Ud(n,e){return null!==n&&e&&e(new Hs(n)),ot(!0)}(s.route,r),function nf(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function Hy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Pa(()=>ot(d.guards.map(w=>{const I=$a(w,d.node,t);let T;if(function Kh(n){return n&&Mo(n.canActivateChild)}(I))T=ir(I.canActivateChild(r,n));else{if(!Mo(I))throw new Error("Invalid CanActivateChild guard");T=ir(I(r,n))}return T.pipe(ea())})).pipe(kd())));return ot(u).pipe(kd())}(n,s.path,t),function ui(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ot(!0);const s=r.map(u=>Pa(()=>{const d=$a(u,e,t);let m;if(function Yl(n){return n&&Mo(n.canActivate)}(d))m=ir(d.canActivate(e,n));else{if(!Mo(d))throw new Error("Invalid CanActivate guard");m=ir(d(e,n))}return m.pipe(ea())}));return ot(s).pipe(kd())}(n,s.route,t))),ea(s=>!0!==s,!0))}(r,u,n,e):ot(m)),(0,vt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Hr.b)(m=>{if(Ou(m.guardsResult)){const I=Ua(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw I.url=m.guardsResult,I}const w=new yd(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),zn(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Ge(m=>{if(m.guards.canActivateChecks.length)return ot(m).pipe((0,Hr.b)(w=>{const I=new Vh(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(I)}),dn(w=>{let I=!1;return ot(w).pipe(function v(n,e){return(0,bn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return ot(t);let u=0;return(0,Qt.D)(s).pipe(wi(d=>function A(n,e,t,r){return function N(n,e,t,r){const s=J(n);if(0===s.length)return ot({});const u={};return(0,Qt.D)(s).pipe((0,bn.z)(d=>function ye(n,e,t,r){const s=$a(n,e,r);return ir(s.resolve?s.resolve(e,t):s(e,t))}(n[d],e,t,r).pipe((0,Hr.b)(m=>{u[d]=m}))),Du(1),(0,bn.z)(()=>J(u).length===s.length?ot(u):cs.E))}(n._resolve,n,e,r).pipe((0,vt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),og(n,t).resolve),null)))}(d.route,r,n,e)),(0,Hr.b)(()=>u++),Du(1),(0,bn.z)(d=>u===s.length?ot(t):cs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Hr.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Hr.b)(w=>{const I=new gr(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(I)}))}),Ge(m=>{const{targetSnapshot:w,id:I,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:L,replaceUrl:G}}=m;return this.hooks.afterPreactivation(w,{navigationId:I,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!L,replaceUrl:!!G})}),(0,vt.U)(m=>{const w=function ag(n,e,t){const r=zl(n,e._root,t?t._root:void 0);return new Zl(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:w})}),(0,Hr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,vt.U)(r=>(new Kl(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Hr.b)({next(){u=!0},complete(){u=!0}}),function gd(n){return(0,jn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||d||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===s.id&&(this.currentNavigation=null)}),oi(m=>{if(d=!0,function ia(n){return n&&n[mr]}(m)){const w=Ou(m.url);w||(this.navigated=!0,this.restoreHistory(s,!0));const I=new jl(s.id,this.serializeUrl(s.extractedUrl),m.message);r.next(I),w?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||lf(s.source)};this.scheduleNavigation(T,"imperative",null,M,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const w=new xn(s.id,this.serializeUrl(s.extractedUrl),m);r.next(w);try{s.resolve(this.errorHandler(m))}catch(I){s.reject(I)}}return cs.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var s;const u={replaceUrl:!0},d=(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null;if(d){const w=Object.assign({},d);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Jl(t),this.config=t.map(Xl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,I=s||this.routerState.root,T=w?this.currentUrlTree.fragment:d;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function Ny(n,e,t,r,s){if(0===t.length)return ku(e.root,e.root,e.root,r,s);const u=function Oy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Zh(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return an(u.outlets,(w,I)=>{m[I]="string"==typeof w?w.split("/"):w}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===d?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new Zh(t,e,r)}(t);if(u.toRoot())return ku(e.root,e.root,new Ee([],{}),r,s);const d=function Py(n,e,t){if(n.isAbsolute)return new Wl(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Wl(u,u===e.root,0)}const r=ai(n.commands[0])?0:1;return function zh(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new Wl(r,!1,s-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=d.processChildren?Sd(d.segmentGroup,d.index,u.commands):cg(d.segmentGroup,d.index,u.commands);return ku(e.root,d.segmentGroup,m,r,s)}(I,this.currentUrlTree,t,M,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Ou(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function uf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?Object.assign({},Vd):!1===r?Object.assign({},Dg):r,Ou(t))return sa(this.currentUrlTree,t,s);const u=this.parseUrl(t);return sa(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Hi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,u,d){var m,w;if(this.disposed)return Promise.resolve(!1);let I,T,M;d?(I=d.resolve,T=d.reject,M=d.promise):M=new Promise((ae,xe)=>{I=ae,T=xe});const L=++this.navigationId;let G;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),G=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):G=0,this.setTransition({id:L,targetPageId:G,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:I,reject:T,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(ae=>Promise.reject(ae))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,r=!1){var s,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const s=new jl(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function lf(n){return"imperative"!==n}let cf=(()=>{class n{constructor(t,r,s,u,d){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=d,this.commands=null,this.onChanges=new xr.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==t?r.setAttribute(s,"tabindex",t):r.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Bu(this.skipLocationChange),replaceUrl:Bu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Bu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rn),c.Y36(Ao),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),qa=(()=>{class n{constructor(t,r,s){this.router=t,this.route=r,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new xr.x,this.subscription=t.events.subscribe(u=>{u instanceof Hi&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,s,u,d){if(0!==t||r||s||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Bu(this.skipLocationChange),replaceUrl:Bu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Bu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rn),c.Y36(Ao),c.Y36(we))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Bu(n){return""===n||!!n}let B0=(()=>{class n{constructor(t,r,s,u,d,m){this.router=t,this.element=r,this.renderer=s,this.cdr=u,this.link=d,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(w=>{w instanceof Hi&&this.update()})}ngAfterContentInit(){ot(this.links.changes,this.linksWithHrefs.changes,ot(null)).pipe((0,Xo.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=(0,Qt.D)(r).pipe((0,Xo.J)()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function j0(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rn),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(cf,8),c.Y36(qa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,s){if(1&t&&(c.Suo(s,cf,5),c.Suo(s,qa,5)),2&t){let u;c.iGM(u=c.CRH())&&(r.links=u),c.iGM(u=c.CRH())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),n})();class Tg{}class Ag{preload(e,t){return ot(null)}}let H0=(()=>{class n{constructor(t,r,s,u){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=new li(s,r,w=>t.triggerEvent(new Mr(w)),w=>t.triggerEvent(new La(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(zn(t=>t instanceof Hi),wi(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;s.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?s.push(this.preloadConfig(t,u)):u.children&&s.push(this.processRoutes(t,u.children));return(0,Qt.D)(s).pipe((0,Xo.J)(),(0,vt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ot(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,bn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rn),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Tg))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ky=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof md?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Hi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof na&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new na(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ju=new c.OlP("ROUTER_CONFIGURATION"),$u=new c.OlP("ROUTER_FORROOT_GUARD"),G0=[be,{provide:Rt,useClass:Mn},{provide:Rn,useFactory:function z0(n,e,t,r,s,u,d={},m,w){const I=new Rn(null,n,e,t,r,s,vd(u));return m&&(I.urlHandlingStrategy=m),w&&(I.routeReuseStrategy=w),function Qy(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,I),d.enableTracing&&I.events.subscribe(T=>{var M,L;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(L=console.groupEnd)||void 0===L||L.call(console)}),I},deps:[Rt,Pu,be,c.zs3,c.Sil,In,ju,[class Vu{},new c.FiY],[class tt{},new c.FiY]]},Pu,{provide:Ao,useFactory:function W0(n){return n.routerState.root},deps:[Rn]},H0,Ag,class $0{preload(e,t){return t().pipe(oi(()=>ot(null)))}},{provide:ju,useValue:{enableTracing:!1}}];function q0(){return new c.PXZ("Router",Rn)}let Sg=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[G0,Yy(t),{provide:$u,useFactory:Z0,deps:[[Rn,new c.FiY,new c.tp0]]},{provide:ju,useValue:r||{}},{provide:we,useFactory:nI,deps:[te,[new c.tBr(ze),new c.FiY],ju]},{provide:Ky,useFactory:xg,deps:[Rn,Il,ju]},{provide:Tg,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Ag},{provide:c.PXZ,multi:!0,useFactory:q0},[Bd,{provide:c.ip1,multi:!0,useFactory:Mg,deps:[Bd]},{provide:Rg,useFactory:K0,deps:[Bd]},{provide:c.tb,multi:!0,useExisting:Rg}]]}}static forChild(t){return{ngModule:n,providers:[Yy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG($u,8),c.LFG(Rn,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function xg(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ky(n,e,t)}function nI(n,e,t={}){return t.useHash?new Se(n,e):new Ye(n,e)}function Z0(n){return"guarded"}function Yy(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:In,multi:!0,useValue:n}]}let Bd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xr.x}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(m=>r=m),u=this.injector.get(Rn),d=this.injector.get(ju);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?ot(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),s})}bootstrapListener(t){const r=this.injector.get(ju),s=this.injector.get(H0),u=this.injector.get(Ky),d=this.injector.get(Rn),m=this.injector.get(c.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),s.setUpPreloading(),u.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Mg(n){return n.appInitializer.bind(n)}function K0(n){return n.bootstrapListener.bind(n)}const Rg=new c.OlP("Router Initializer"),iI=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:104,vars:0,consts:[[1,"relative","overflow-hidden","mb-2"],["autoplay","","muted","","loop","",1,"w-full","h-full","object-cover","absolute","z-0"],["src","assets/video/hero.webm","type","video/webm"],[1,"bg-gradient","absolute","w-full","h-full","z-40","opacity-60"],[1,"w-full","h-full","absolute","z-40"],[1,"cube"],[1,"container","mx-auto","relative","z-50"],[1,"text-center","px-20","py-60","w-full","md:w-8/12","mx-auto"],[1,"text-7xl","font-bold","uppercase","mb-2"],[1,"container","mx-auto"],[1,"uppercase","text-center","text-4xl","grid","mt-20","mb-12","items-center","gap-8","tracking-widest","latest"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["href","#",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","assets/img/1.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"relative"],[1,"absolute","pointer-events-none","bottom-full","w-full","bg-secondary","text-white"],[1,"absolute","bottom-full","w-full","pb-5","overflow-hidden"],["viewBox","0 0 100 50","preserveAspectRatio","none",1,"absolute","bottom-0","w-full","h-full","tranform",2,"transform-origin","top center","transform","scale(2)"],["d","M0 25h25L75 0h25v50H0z","fill","#283046"],[1,"p-8"],[1,"text-3xl","mb-2"],[1,"mb-0"],[1,"text-gray-400"],["src","assets/img/2.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],["src","assets/img/3.jpg",1,"card-img-top","rounded-tl-2xl","w-full"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"video",1),c._UZ(2,"source",2),c.qZA(),c._UZ(3,"div",3),c.TgZ(4,"div",4),c._UZ(5,"div",5)(6,"div",5)(7,"div",5)(8,"div",5)(9,"div",5),c.qZA(),c.TgZ(10,"div",6)(11,"div",7)(12,"h1",8),c._uU(13,"Clip it and ship it!"),c.qZA(),c.TgZ(14,"p"),c._uU(15," The #1 app to watch, clip, and share your awesome gaming moments with your friends and the world! With our world-class tools, we make it incredibly easy to share your videos. Get started today! "),c.qZA()()()(),c.TgZ(16,"section",9)(17,"h1",10),c._uU(18,"Latest"),c.qZA(),c.TgZ(19,"div",11)(20,"a",12),c._UZ(21,"img",13),c.TgZ(22,"div",14)(23,"div",15)(24,"div",16),c.O4$(),c.TgZ(25,"svg",17),c._UZ(26,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(27,"div",19)(28,"h2",20),c._uU(29," Game Highlighting Clip "),c.qZA(),c.TgZ(30,"p",21),c._uU(31," Luis Ramirez \xb7 "),c.TgZ(32,"span",22),c._uU(33,"March 31, 2020"),c.qZA()()()(),c.TgZ(34,"a",12),c._UZ(35,"img",23),c.TgZ(36,"div",14)(37,"div",15)(38,"div",16),c.O4$(),c.TgZ(39,"svg",17),c._UZ(40,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(41,"div",19)(42,"h2",20),c._uU(43," Game Highlighting Clip "),c.qZA(),c.TgZ(44,"p",21),c._uU(45," Luis Ramirez \xb7 "),c.TgZ(46,"span",22),c._uU(47,"March 31, 2020"),c.qZA()()()(),c.TgZ(48,"a",12),c._UZ(49,"img",24),c.TgZ(50,"div",14)(51,"div",15)(52,"div",16),c.O4$(),c.TgZ(53,"svg",17),c._UZ(54,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(55,"div",19)(56,"h2",20),c._uU(57," Game Highlighting Clip "),c.qZA(),c.TgZ(58,"p",21),c._uU(59," Luis Ramirez \xb7 "),c.TgZ(60,"span",22),c._uU(61,"March 31, 2020"),c.qZA()()()(),c.TgZ(62,"a",12),c._UZ(63,"img",23),c.TgZ(64,"div",14)(65,"div",15)(66,"div",16),c.O4$(),c.TgZ(67,"svg",17),c._UZ(68,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(69,"div",19)(70,"h2",20),c._uU(71," Game Highlighting Clip "),c.qZA(),c.TgZ(72,"p",21),c._uU(73," Luis Ramirez \xb7 "),c.TgZ(74,"span",22),c._uU(75,"March 31, 2020"),c.qZA()()()(),c.TgZ(76,"a",12),c._UZ(77,"img",24),c.TgZ(78,"div",14)(79,"div",15)(80,"div",16),c.O4$(),c.TgZ(81,"svg",17),c._UZ(82,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(83,"div",19)(84,"h2",20),c._uU(85," Game Highlighting Clip "),c.qZA(),c.TgZ(86,"p",21),c._uU(87," Luis Ramirez \xb7 "),c.TgZ(88,"span",22),c._uU(89,"March 31, 2020"),c.qZA()()()(),c.TgZ(90,"a",12),c._UZ(91,"img",13),c.TgZ(92,"div",14)(93,"div",15)(94,"div",16),c.O4$(),c.TgZ(95,"svg",17),c._UZ(96,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(97,"div",19)(98,"h2",20),c._uU(99," Game Highlighting Clip "),c.qZA(),c.TgZ(100,"p",21),c._uU(101," Luis Ramirez \xb7 "),c.TgZ(102,"span",22),c._uU(103,"March 31, 2020"),c.qZA()()()()()())},styles:[""]}),n})()},{path:"about",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-about"]],decls:2,vars:0,template:function(t,r){1&t&&(c.TgZ(0,"p"),c._uU(1,"about works!"),c.qZA())},styles:[""]}),n})()},{path:"clip/:id",component:(()=>{class n{constructor(t){this.route=t,this.id=""}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ao))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-clip"]],decls:57,vars:1,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","flex-col"],[1,"font-bold","mb-2","text-3xl"],[1,"text-gray-400","mb-6"],[1,"relative"],["controls","","data-setup","{}",1,"video-js","vjs-theme-forest","mx-auto"],["src","assets/video/hero.webm","type","video/webm"],[1,"container","mx-auto","my-8"],[1,"mt-6","text-2xl"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["href","#",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","assets/img/1.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"absolute","pointer-events-none","bottom-full","w-full","bg-secondary","text-white"],[1,"absolute","bottom-full","w-full","pb-5","overflow-hidden"],["viewBox","0 0 100 50","preserveAspectRatio","none",1,"absolute","bottom-0","w-full","h-full","tranform",2,"transform-origin","top center","transform","scale(2)"],["d","M0 25h25L75 0h25v50H0z","fill","#283046"],[1,"p-8"],[1,"text-3xl","mb-2"],[1,"mb-0"],[1,"text-gray-400"],["src","assets/img/2.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],["src","assets/img/3.jpg",1,"card-img-top","rounded-tl-2xl","w-full"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),c._uU(3),c.qZA(),c.TgZ(4,"div",3),c._uU(5," Uploaded By Luis on "),c.TgZ(6,"span"),c._uU(7,"March 25, 2022"),c.qZA()(),c.TgZ(8,"div",4)(9,"video",5),c._UZ(10,"source",6),c.qZA()()()(),c.TgZ(11,"div",7)(12,"h2",8),c._uU(13,"More Clips"),c.qZA(),c.TgZ(14,"div",9)(15,"a",10),c._UZ(16,"img",11),c.TgZ(17,"div",4)(18,"div",12)(19,"div",13),c.O4$(),c.TgZ(20,"svg",14),c._UZ(21,"path",15),c.qZA()()()(),c.kcU(),c.TgZ(22,"div",16)(23,"h2",17),c._uU(24," Game Highlighting Clip "),c.qZA(),c.TgZ(25,"p",18),c._uU(26," Luis Ramirez \xb7 "),c.TgZ(27,"span",19),c._uU(28,"March 31, 2020"),c.qZA()()()(),c.TgZ(29,"a",10),c._UZ(30,"img",20),c.TgZ(31,"div",4)(32,"div",12)(33,"div",13),c.O4$(),c.TgZ(34,"svg",14),c._UZ(35,"path",15),c.qZA()()()(),c.kcU(),c.TgZ(36,"div",16)(37,"h2",17),c._uU(38," Game Highlighting Clip "),c.qZA(),c.TgZ(39,"p",18),c._uU(40," Luis Ramirez \xb7 "),c.TgZ(41,"span",19),c._uU(42,"March 31, 2020"),c.qZA()()()(),c.TgZ(43,"a",10),c._UZ(44,"img",21),c.TgZ(45,"div",4)(46,"div",12)(47,"div",13),c.O4$(),c.TgZ(48,"svg",14),c._UZ(49,"path",15),c.qZA()()()(),c.kcU(),c.TgZ(50,"div",16)(51,"h2",17),c._uU(52," Game Highlighting Clip "),c.qZA(),c.TgZ(53,"p",18),c._uU(54," Luis Ramirez \xb7 "),c.TgZ(55,"span",19),c._uU(56,"March 31, 2020"),c.qZA()()()()()()),2&t&&(c.xp6(3),c.Oqu(r.id))},styles:[""]}),n})()},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-not-found"]],decls:15,vars:0,consts:[[1,"relative","m-auto","left-0","right-0","z-10","w-36","h-52","border-indigo-400","border-4","top-32","ghost"],[1,"absolute","left-0","right-0","bottom-10","m-auto","text-center","text-4xl","font-bold"],[1,"rounded-full","absolute","left-0","right-0","w-3","h-3","bg-indigo-400","mx-auto","mt-10","transform","translate-x-6"],[1,"rounded-full","absolute","left-0","right-0","w-3","h-3","bg-indigo-400","mx-auto","mt-10","transform","-translate-x-6"],[1,"w-10","h-2","rounded-lg","absolute","left-0","right-0","mx-auto","mt-20","bg-indigo-400"],[1,"corner","border-indigo-400","border-4"],[1,"corner","two","border-indigo-400","border-4"],[1,"corner","three","border-indigo-400","border-4"],[1,"corner","four","border-indigo-400","border-4"],[1,"over"],[1,"over","two"],[1,"over","three"],[1,"over","four"],[1,"ghost-shadow","w-32","h-10","mx-auto","mt-56","rounded","bg-indigo-400","left-0","right-0","absolute"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"span",1),c._uU(2,"404"),c.qZA(),c._UZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13),c.qZA())},styles:[""]}),n})()}];let J0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Sg.forRoot(iI)],Sg]}),n})();var pe=k(5861),df=k(4986),oS=k(5032);function Jy(n,e){return e?t=>Co(e.pipe((0,si.q)(1),function X0(){return(0,jn.e)((n,e)=>{n.subscribe((0,Bn.x)(e,oS.Z))})}()),t.pipe(Jy(n))):(0,bn.z)((t,r)=>n(t,r).pipe((0,si.q)(1),function sI(n){return(0,vt.U)(()=>n)}(t)))}var oI=k(3532);var ew=k(6451),Ng=k(5363),lI=k(6063);class cI extends xr.x{constructor(e=1/0,t=1/0,r=lI.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!s&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const d=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=d;w+=2)m=w;m&&r.splice(0,m+1)}}}var dI=k(3099);function Xy(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,dI.B)({connector:()=>new cI(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function tw(n,e){return(0,Eo.m)(e)?dn(()=>n,e):dn(()=>n)}var e_=k(9468),kn=k(5813),pt=k(2011);k(5867);var _s=k(9681),Hu=k(4859),Ot=k(2090),Gu=k(1877);const ow=new Map,pI={activated:!1,tokenObservers:[]},gI={initialized:!1,enabled:!1};function _r(n){return ow.get(n)||pI}function ua(n,e){ow.set(n,e)}function Pg(){return gI}class lS{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new Ot.BH,yield function cS(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ot.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Wi=new Ot.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function yI(n){if(!_r(n).activated)throw Wi.create("use-before-activation",{appName:n.name})}function la(n,e){return ff.apply(this,arguments)}function ff(){return(ff=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const M=yield s.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(M){throw Wi.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==d.status)throw Wi.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(M){throw Wi.create("fetch-parse-error",{originalErrorMessage:M.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Wi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const I=1e3*Number(w[1]),T=Date.now();return{token:m.token,expireTimeMillis:T+I,issuedAtTimeMillis:T}})).apply(this,arguments)}function u_(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const pf="firebase-app-check-store";let gf=null;function fw(){return gf||(gf=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(Wi.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(pf,{keyPath:"compositeKey"})}}catch(t){e(Wi.create("storage-open",{originalErrorMessage:t.message}))}}),gf)}function ic(){return(ic=(0,pe.Z)(function*(n,e){const r=(yield fw()).transaction(pf,"readwrite"),u=r.objectStore(pf).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=w=>{d()},r.onerror=w=>{var I;m(Wi.create("storage-set",{originalErrorMessage:null===(I=w.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const Wa=new Gu.Yd("@firebase/app-check");function h_(n,e){return(0,Ot.hl)()?function vI(n,e){return function gw(n,e){return ic.apply(this,arguments)}(function oc(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Wa.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Lg(){return Pg().enabled}function f_(){return $d.apply(this,arguments)}function $d(){return($d=(0,pe.Z)(function*(){const n=Pg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yw={error:"UNKNOWN_ERROR"};function fS(n){return Ot.US.encodeString(JSON.stringify(n),!1)}function _f(n){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,pe.Z)(function*(n,e=!1){const t=n.app;yI(t);const r=_r(t);let u,s=r.token;if(!s){const w=yield r.cachedTokenPromise;w&&Bg(w)&&(s=w)}if(!e&&s&&Bg(s))return{token:s.token};let m,d=!1;if(Lg()){r.exchangeTokenPromise||(r.exchangeTokenPromise=la(u_(t,yield f_()),n.heartbeatServiceProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),d=!0);const w=yield r.exchangeTokenPromise;return yield h_(t,w),ua(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0),s=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Wa.warn(w.message):Wa.error(w),u=w}return s?(m={token:s.token},ua(t,Object.assign(Object.assign({},r),{token:s})),yield h_(t,s)):m=CI(u),d&&Ki(t,m),m})).apply(this,arguments)}function Vg(n,e){const t=_r(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ua(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function _w(n){const{app:e}=n,t=_r(e);let r=t.tokenRefresher;r||(r=function bI(n){const{app:e}=n;return new lS((0,pe.Z)(function*(){let r;if(r=_r(e).token?yield _f(n,!0):yield _f(n),r.error)throw r.error}),()=>!0,()=>{const t=_r(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ua(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ki(n,e){const t=_r(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(s){}}function Bg(n){return n.expireTimeMillis-Date.now()>0}function CI(n){return{token:fS(yw),error:n}}class pS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=_r(this.app);for(const t of e)Vg(this.app,t.next);return Promise.resolve()}}const Dw="app-check-internal";!function MI(){(0,_s._registerComponent)(new Hu.wA("app-check",n=>function gS(n,e){return new pS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Dw).initialize()})),(0,_s._registerComponent)(new Hu.wA(Dw,n=>function vw(n){return{getToken:e=>_f(n,e),addTokenListener:e=>function p_(n,e,t,r){const{app:s}=n,u=_r(s),d={next:t,error:r,type:e};if(ua(s,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&Bg(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),_w(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>_w(n))}(n,"INTERNAL",e),removeTokenListener:e=>Vg(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_s.registerVersion)("@firebase/app-check","0.5.8")}();class Gg{constructor(){return(0,kn.vb)("app-check")}}"undefined"!=typeof window&&window;var bf=k(127);const LI=new c.OlP("angularfire2.auth.use-emulator"),qg=new c.OlP("angularfire2.auth.settings"),b_=new c.OlP("angularfire2.auth.tenant-id"),Zg=new c.OlP("angularfire2.auth.langugage-code"),Hd=new c.OlP("angularfire2.auth.use-device-language"),Sw=new c.OlP("angularfire.auth.persistence"),zg=(n,e,t,r,s,u,d,m)=>(0,pt.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=s,u&&w.useDeviceLanguage(),d)for(const[I,T]of Object.entries(d))w.settings[I]=T;return m&&w.setPersistence(m),w},[t,r,s,u,d,m]);let ac=(()=>{class n{constructor(t,r,s,u,d,m,w,I,T,M,L,G){const ae=new xr.x,xe=ot(void 0).pipe((0,Ng.Q)(d.outsideAngular),dn(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,8775)))),(0,vt.U)(()=>(0,pt.on)(t,u,r)),(0,vt.U)(Ne=>zg(Ne,u,m,I,T,M,w,L)),Xy({bufferSize:1,refCount:!1}));if(Go(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ot(null);else{xe.pipe(ea()).subscribe();const gt=xe.pipe(dn(rt=>rt.getRedirectResult().then(St=>St,()=>null)),kn.iC,Xy({bufferSize:1,refCount:!1})),Ct=xe.pipe(dn(rt=>new wn.y(St=>({unsubscribe:u.runOutsideAngular(()=>rt.onAuthStateChanged(it=>St.next(it),it=>St.error(it),()=>St.complete()))})))),ct=xe.pipe(dn(rt=>new wn.y(St=>({unsubscribe:u.runOutsideAngular(()=>rt.onIdTokenChanged(it=>St.next(it),it=>St.error(it),()=>St.complete()))}))));this.authState=gt.pipe(tw(Ct),(0,e_.R)(d.outsideAngular),(0,Ng.Q)(d.insideAngular)),this.user=gt.pipe(tw(ct),(0,e_.R)(d.outsideAngular),(0,Ng.Q)(d.insideAngular)),this.idToken=this.user.pipe(dn(rt=>rt?(0,Qt.D)(rt.getIdToken()):ot(null))),this.idTokenResult=this.user.pipe(dn(rt=>rt?(0,Qt.D)(rt.getIdTokenResult()):ot(null))),this.credential=(0,ew.T)(gt,ae,this.authState.pipe(zn(rt=>!rt))).pipe((0,vt.U)(rt=>(null==rt?void 0:rt.user)?rt:null),(0,e_.R)(d.outsideAngular),(0,Ng.Q)(d.insideAngular))}return(0,pt.pX)(this,xe,u,{spy:{apply:(Ne,gt,Ct)=>{(Ne.startsWith("signIn")||Ne.startsWith("createUser"))&&Ct.then(ct=>ae.next(ct))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pt.Dh),c.LFG(pt.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(kn.HU),c.LFG(LI,8),c.LFG(qg,8),c.LFG(b_,8),c.LFG(Zg,8),c.LFG(Hd,8),c.LFG(Sw,8),c.LFG(Gg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xw=(()=>{class n{constructor(){bf.Z.registerVersion("angularfire",kn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ac]}),n})();function Wg(){return(0,jn.e)((n,e)=>{let t,r=!1;n.subscribe((0,Bn.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function C_(n,e){return n===e}k(8775);var nt,Mw=k(3942),Rw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Yi={},I_=I_||{},Lt=Rw||self;function Ka(){}function D_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Cf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var T_="closure_uid_"+(1e9*Math.random()>>>0),ca=0;function A_(n,e,t){return n.call.apply(n.bind,arguments)}function kw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Rr(n,e,t){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?A_:kw).apply(null,arguments)}function If(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function kr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,s,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[s].apply(r,d)}}function Zu(){this.s=this.s,this.o=this.o}var jI={};Zu.prototype.s=!1,Zu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function VI(n){return Object.prototype.hasOwnProperty.call(n,T_)&&n[T_]||(n[T_]=++ca)}(this);delete jI[n]}},Zu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},S_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,s="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in s&&e.call(t,s[u],u,n)};function x_(n){return Array.prototype.concat.apply([],arguments)}function M_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Kg(n){return/^[\s\xa0]*$/.test(n)}var Ci,$I=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Qi(n,e){return-1!=n.indexOf(e)}function Df(n,e){return n<e?-1:n>e?1:0}e:{var R_=Lt.navigator;if(R_){var k_=R_.userAgent;if(k_){Ci=k_;break e}}Ci=""}function Ow(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function zs(n){const e={};for(const t in n)e[t]=n[t];return e}var HI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function GI(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<HI.length;u++)t=HI[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Yg(n){return Yg[" "](n),n}Yg[" "]=Ka;var em,n,Fw=Qi(Ci,"Opera"),Gd=Qi(Ci,"Trident")||Qi(Ci,"MSIE"),qI=Qi(Ci,"Edge"),Qg=qI||Gd,Jg=Qi(Ci,"Gecko")&&!(Qi(Ci.toLowerCase(),"webkit")&&!Qi(Ci,"Edge"))&&!(Qi(Ci,"Trident")||Qi(Ci,"MSIE"))&&!Qi(Ci,"Edge"),ZI=Qi(Ci.toLowerCase(),"webkit")&&!Qi(Ci,"Edge");function Xg(){var n=Lt.document;return n?n.documentMode:void 0}e:{var N_="",O_=(n=Ci,Jg?/rv:([^\);]+)(\)|;)/.exec(n):qI?/Edge\/([\d\.]+)/.exec(n):Gd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ZI?/WebKit\/(\S+)/.exec(n):Fw?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(O_&&(N_=O_?O_[1]:""),Gd){var P_=Xg();if(null!=P_&&P_>parseFloat(N_)){em=String(P_);break e}}em=N_}var zI={};var KI=Lt.document&&Gd&&(Xg()||parseInt(em,10))||void 0,Tf=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Lt.addEventListener("test",Ka,e),Lt.removeEventListener("test",Ka,e)}catch(t){}return n}();function ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Af(n,e){if(ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Jg){e:{try{Yg(e.nodeName);var s=!0;break e}catch(u){}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:F_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Af.Z.h.call(this)}}ci.prototype.h=function(){this.defaultPrevented=!0},kr(Af,ci);var F_={2:"touch",3:"pen",4:"mouse"};Af.prototype.h=function(){Af.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ji="closure_listenable_"+(1e6*Math.random()|0),Sf=0;function di(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=s,this.key=++Sf,this.ca=this.fa=!1}function da(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function lc(n){this.src=n,this.g={},this.h=0}function Xi(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=Nw(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(da(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xf(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return s}return-1}lc.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=xf(n,e,r,s);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new di(e,this.src,u,!!r,s)).fa=t,n.push(e)),e};var zu="closure_lm_"+(1e6*Math.random()|0),Wu={};function cc(n,e,t,r,s){if(r&&r.once)return hc(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)cc(n,e[u],t,r,s);return null}return t=rm(t),n&&n[Ji]?n.N(e,t,Cf(r)?!!r.capture:!!r,s):dc(n,e,t,!1,r,s)}function dc(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var d=Cf(s)?!!s.capture:!!s,m=tm(n);if(m||(n[zu]=m=new lc(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function Zd(){var e=Lw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Tf||(s=d),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(pc(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hc(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)hc(n,e[u],t,r,s);return null}return t=rm(t),n&&n[Ji]?n.O(e,t,Cf(r)?!!r.capture:!!r,s):dc(n,e,t,!0,r,s)}function fc(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)fc(n,e[u],t,r,s);else r=Cf(r)?!!r.capture:!!r,t=rm(t),n&&n[Ji]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xf(u=n.g[e],t,r,s))&&(da(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=tm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xf(e,t,r,s)),(t=-1<n?e[n]:null)&&Ku(t))}function Ku(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ji])Xi(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(pc(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=tm(e))?(Xi(t,n),0==t.h&&(t.src=null,e[zu]=null)):da(n)}}}function pc(n){return n in Wu?Wu[n]:Wu[n]="on"+n}function Lw(n,e){if(n.ca)n=!0;else{e=new Af(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Ku(n),n=t.call(r,e)}return n}function tm(n){return(n=n[zu])instanceof lc?n:null}var nm="__closure_events_fn_"+(1e9*Math.random()>>>0);function rm(n){return"function"==typeof n?n:(n[nm]||(n[nm]=function(e){return n.handleEvent(e)}),n[nm])}function vr(){Zu.call(this),this.i=new lc(this),this.P=this,this.I=null}function Nr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ci(e,n);else if(e instanceof ci)e.target=e.target||n;else{var s=e;GI(e=new ci(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];s=Mf(d,r,!0,e)&&s}if(s=Mf(d=e.g=n,r,!0,e)&&s,s=Mf(d,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=Mf(d=e.g=t[u],r,!1,e)&&s}function Mf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var m=d.listener,w=d.ia||d.src;d.fa&&Xi(n.i,d),s=!1!==m.call(w,r)&&s}}return s&&!r.defaultPrevented}kr(vr,Zu),vr.prototype[Ji]=!0,vr.prototype.removeEventListener=function(n,e,t,r){fc(this,n,e,t,r)},vr.prototype.M=function(){if(vr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)da(t[r]);delete n.g[e],n.h--}}this.I=null},vr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},vr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var im=Lt.JSON.stringify;function Uw(){var n=Bw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var U_,L_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new QI,n=>n.reset());class QI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Vw(n){Lt.setTimeout(()=>{throw n},0)}function sm(n,e){U_||function JI(){var n=Lt.Promise.resolve(void 0);U_=function(){n.then(jw)}}(),om||(U_(),om=!0),Bw.add(n,e)}var om=!1,Bw=new class YI{constructor(){this.h=this.g=null}add(e,t){const r=L_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function jw(){for(var n;n=Uw();){try{n.h.call(n.g)}catch(t){Vw(t)}var e=L_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}om=!1}function am(n,e){vr.call(this),this.h=n||1,this.g=e||Lt,this.j=Rr(this.kb,this),this.l=Date.now()}function V_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function $w(n,e,t){if("function"==typeof n)t&&(n=Rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Lt.setTimeout(n,e||0)}function Hw(n){n.g=$w(()=>{n.g=null,n.i&&(n.i=!1,Hw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}kr(am,vr),(nt=am.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nr(this,"tick"),this.da&&(V_(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){am.Z.M.call(this),V_(this),delete this.g};class B_ extends Zu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hw(this)}M(){super.M(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gc(n){Zu.call(this),this.h=n,this.g={}}kr(gc,Zu);var Gw=[];function XI(n,e,t,r){Array.isArray(t)||(t&&(Gw[0]=t.toString()),t=Gw);for(var s=0;s<t.length;s++){var u=cc(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function eD(n){Ow(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ku(e)},n),n.g={}}function j_(){this.g=!0}function Rf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zd(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<s.length;d++)s[d]=""}}}return im(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}gc.prototype.M=function(){gc.Z.M.call(this),eD(this)},gc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},j_.prototype.Aa=function(){this.g=!1},j_.prototype.info=function(){};var mc={},$_=null;function um(){return $_=$_||new vr}function H_(n){ci.call(this,mc.Ma,n)}function Yu(n){const e=um();Nr(e,new H_(e,n))}function Zw(n,e){ci.call(this,mc.STAT_EVENT,n),this.stat=e}function hi(n){const e=um();Nr(e,new Zw(e,n))}function zw(n,e){ci.call(this,mc.Na,n),this.size=e}function kf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){n()},e)}mc.Ma="serverreachability",kr(H_,ci),mc.STAT_EVENT="statevent",kr(Zw,ci),mc.Na="timingevent",kr(zw,ci);var lm={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ww={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function G_(){}function Kw(){}G_.prototype.h=null;var Yw,Wd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cm(){ci.call(this,"d")}function Nf(){ci.call(this,"c")}function Kd(){}function Of(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new gc(this),this.P=Pf,this.W=new am(n=Qg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rD}function rD(){this.i=null,this.g="",this.h=!1}kr(cm,ci),kr(Nf,ci),kr(Kd,G_),Kd.prototype.g=function(){return new XMLHttpRequest},Kd.prototype.i=function(){return{}},Yw=new Kd;var Pf=45e3,dm={},Yd={};function Ff(n,e,t){n.K=1,n.v=Qd(Oo(e)),n.s=t,n.U=!0,Qw(n,null)}function Qw(n,e){n.F=Date.now(),hm(n),n.A=Oo(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Y_(t.h,"t",r),n.C=0,t=n.l.H,n.h=new rD,n.g=TE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new B_(Rr(n.Ia,n,n.g),n.O)),XI(n.V,n.g,"readystatechange",n.gb),e=n.H?zs(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Yu(1),function tD(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),w=0;w<m.length;w++){var I=m[w].split("=");if(1<I.length){var T=I[0];I=I[1];var M=T.split("_");d=2<=M.length&&"type"==M[1]?d+(T+"=")+I+"&":d+(T+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Lf(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Uf(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=Z_(n,t),s==Yd){4==e&&(n.o=4,hi(14),r=!1),Rf(n.j,n.m,null,"[Incomplete Response]");break}if(s==dm){n.o=4,hi(15),Rf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Rf(n.j,n.m,s,null),fm(n,s)}Lf(n)&&s!=Yd&&s!=dm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,hi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),uv(e),e.L=!0,hi(11))):(Rf(n.j,n.m,t,"[Invalid Chunked Response]"),Ju(n),Qu(n))}function Z_(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Yd:(t=Number(e.substring(t,r)),isNaN(t)?dm:(r+=1)+t>e.length?Yd:(e=e.substr(r,t),n.C=r+t,e))}function hm(n){n.Y=Date.now()+n.P,Jw(n,n.P)}function Jw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=kf(Rr(n.eb,n),e)}function yc(n){n.B&&(Lt.clearTimeout(n.B),n.B=null)}function Qu(n){0==n.l.G||n.I||bE(n.l,n)}function Ju(n){yc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,V_(n.W),eD(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function fm(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||J_(t.i,n)))if(t.I=n.N,!n.J&&J_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(I){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0])e:if(t.u)t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=kf(Rr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;wm(t),Wf(t)}av(t),hi(18)}if(1>=vc(t.i)&&t.ka){try{t.ka()}catch(I){}t.ka=void 0}}else Ec(t,11)}else if((n.J||t.g==n)&&wm(t),!Kg(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){let I=s[e];if(t.U=I[0],I=I[1],2==t.G)if("c"==I[0]){t.J=I[1],t.la=I[2];const T=I[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const M=I[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const L=I[5];null!=L&&"number"==typeof L&&0<L&&(t.K=r=1.5*L,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const ae=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var u=r.i;!u.g&&(Qi(ae,"spdy")||Qi(ae,"quic")||Qi(ae,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(X_(u,u.h),u.h=null))}if(r.D){const xe=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;xe&&(r.sa=xe,gn(r.F,r.D,xe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=DE(r,r.H?r.la:null,r.W),d.J){ev(r.i,d);var m=d,w=r.K;w&&m.setTimeout(w),m.B&&(yc(m),hm(m)),r.g=d}else wE(r);0<t.l.length&&Kf(t)}else"stop"!=I[0]&&"close"!=I[0]||Ec(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?Ec(t,7):zf(t):"noop"!=I[0]&&t.j&&t.j.wa(I),t.A=0)}Yu(4)}catch(I){}}function pm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(D_(n)||"string"==typeof n)S_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(D_(n)||"string"==typeof n){t=[];for(var r=n.length,s=0;s<r;s++)t.push(s)}else for(s in t=[],r=0,n)t[r++]=s;r=function z_(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(D_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length;for(var u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}}function _c(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof _c)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Vf(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Xu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var s={};for(t=e=0;e<n.g.length;)Xu(s,r=n.g[e])||(n.g[t++]=r,s[r]=1),e++;n.g.length=t}}function Xu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=Of.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==Ys(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const T=Ys(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>T)&&(3!=T||Qg||this.g&&(this.h.h||this.g.ga()||mE(this.g)))){this.I||4!=T||7==e||Yu(8==e||0>=M?3:2),yc(this);var t=this.g.ba();this.N=t;t:if(Lf(this)){var r=mE(this.g);n="";var s=r.length,u=4==Ys(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ju(this),Qu(this);var d="";break t}this.h.i=new Lt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function qw(n,e,t,r,s,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kg(m)){var I=m;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,hi(12),Ju(this),Qu(this);break e}Rf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,fm(this,t)}this.U?(Uf(this,T,d),Qg&&this.i&&3==T&&(XI(this.V,this.W,"tick",this.fb),this.W.start())):(Rf(this.j,this.m,d,null),fm(this,d)),4==T&&Ju(this),this.i&&!this.I&&(4==T?bE(this.l,this):(this.i=!1,hm(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,hi(12)):(this.o=0,hi(13)),Ju(this),Qu(this)}}}catch(T){}},nt.fb=function(){if(this.g){var n=Ys(this.g),e=this.g.ga();this.C<e.length&&(yc(this),Uf(this,n,e),this.i&&4!=n&&hm(this))}},nt.cancel=function(){this.I=!0,Ju(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function nD(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Yu(3),hi(17)),Ju(this),this.o=2,Qu(this)):Jw(this,this.Y-n)},(nt=_c.prototype).R=function(){Vf(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return Vf(this),this.g.concat()},nt.get=function(n,e){return Xu(this.h,n)?this.h[n]:e},nt.set=function(n,e){Xu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var s=t[r],u=this.get(s);n.call(e,u,s,this)}};var Xw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function el(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof el){this.g=void 0!==e?e:n.g,Bf(this,n.j),this.s=n.s,gm(this,n.i),jf(this,n.m),this.l=n.l,e=n.h;var t=new $f;t.i=e.i,e.g&&(t.g=new _c(e.g),t.h=e.h),W_(this,t),this.o=n.o}else n&&(t=String(n).match(Xw))?(this.g=!!e,Bf(this,t[1]||"",!0),this.s=Jd(t[2]||""),gm(this,t[3]||"",!0),jf(this,t[4]),this.l=Jd(t[5]||"",!0),W_(this,t[6]||"",!0),this.o=Jd(t[7]||"")):(this.g=!!e,this.h=new $f(null,this.g))}function Oo(n){return new el(n)}function Bf(n,e,t){n.j=t?Jd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gm(n,e,t){n.i=t?Jd(e,!0):e}function jf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function W_(n,e,t){e instanceof $f?(n.h=e,function sD(n,e){e&&!n.j&&(Ya(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(oE(this,r),Y_(this,s,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Xd(e,TS)),n.h=new $f(e,n.g))}function gn(n,e,t){n.h.set(e,t)}function Qd(n){return gn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Xd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,rE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}el.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Xd(e,K_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Xd(e,K_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Xd(t,"/"==t.charAt(0)?sE:iE,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Xd(t,iD)),n.join("")};var K_=/[#\/\?@]/g,iE=/[#\?:]/g,sE=/[#\?]/g,TS=/[#\?@]/g,iD=/#/g;function $f(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ya(n){n.g||(n.g=new _c,n.h=0,n.i&&function eE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function oE(n,e){Ya(n),e=eh(n,e),Xu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Xu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Vf(n)))}function or(n,e){return Ya(n),e=eh(n,e),Xu(n.g.h,e)}function Y_(n,e,t){oE(n,e),0<t.length&&(n.i=null,n.g.set(eh(n,e),M_(t)),n.h+=t.length)}function eh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function uE(n){this.l=n||lE,n=Lt.PerformanceNavigationTiming?0<(n=Lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ea&&Lt.g.Ea()&&Lt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=$f.prototype).add=function(n,e){Ya(this),this.i=null,n=eh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){Ya(this),this.g.forEach(function(t,r){S_(t,function(s){n.call(e,s,r,this)},this)},this)},nt.T=function(){Ya(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var s=n[r],u=0;u<s.length;u++)t.push(e[r]);return t},nt.R=function(n){Ya(this);var e=[];if("string"==typeof n)or(this,n)&&(e=x_(e,this.g.get(eh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=x_(e,n[t])}return e},nt.set=function(n,e){return Ya(this),this.i=null,or(this,n=eh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],s=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=s;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var lE=10;function Q_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function vc(n){return n.h?1:n.g?n.g.size:0}function J_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function X_(n,e){n.g?n.g.add(e):n.h=e}function ev(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function cE(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return M_(n.i)}function mm(){}function AS(){this.g=new mm}function dE(n,e,t){const r=t||"";try{pm(n,function(s,u){let d=s;Cf(s)&&(d=im(s)),e.push(r+u+"="+encodeURIComponent(d))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function vs(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(u){}}function Hf(n){this.l=n.$b||null,this.j=n.ib||!1}function ym(n,e){vr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ws,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}uE.prototype.cancel=function(){if(this.i=cE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},mm.prototype.stringify=function(n){return Lt.JSON.stringify(n,void 0)},mm.prototype.parse=function(n){return Lt.JSON.parse(n,void 0)},kr(Hf,G_),Hf.prototype.g=function(){return new ym(this.l,this.j)},Hf.prototype.i=function(n){return function(){return n}}({}),kr(ym,vr);var Ws=0;function Ks(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ii(n){n.readyState=4,n.l=null,n.j=null,n.A=null,th(n)}function th(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=ym.prototype).open=function(n,e){if(this.readyState!=Ws)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,th(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Lt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ii(this)),this.readyState=Ws},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,th(this)),this.g&&(this.readyState=3,th(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Lt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ks(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ii(this):th(this),3==this.readyState&&Ks(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,Ii(this))},nt.Ta=function(n){this.g&&(this.response=n,Ii(this))},nt.ha=function(){this.g&&Ii(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ym.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hE=Lt.JSON.parse;function ar(n){vr.call(this),this.headers=new _c,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=fE,this.K=this.L=!1}kr(ar,vr);var fE="",oD=/^https?$/i,aD=["POST","PUT"];function Gf(n){return"content-type"==n.toLowerCase()}function pE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,rv(n),qf(n)}function rv(n){n.D||(n.D=!0,Nr(n,"complete"),Nr(n,"error"))}function gE(n){if(n.h&&void 0!==I_&&(!n.C[1]||4!=Ys(n)||2!=n.ba()))if(n.v&&4==Ys(n))$w(n.Fa,0,n);else if(Nr(n,"readystatechange"),4==Ys(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var s=String(n.H).match(Xw)[1]||null;if(!s&&Lt.self&&Lt.self.location){var u=Lt.self.location.protocol;s=u.substr(0,u.length-1)}r=!oD.test(s?s.toLowerCase():"")}t=r}if(t)Nr(n,"complete"),Nr(n,"success");else{n.m=6;try{var d=2<Ys(n)?n.g.statusText:""}catch(w){d=""}n.j=d+" ["+n.ba()+"]",rv(n)}}finally{qf(n)}}}function qf(n,e){if(n.g){iv(n);const t=n.g,r=n.C[0]?Ka:null;n.g=null,n.C=null,e||Nr(n,"ready");try{t.onreadystatechange=r}catch(s){}}}function iv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Lt.clearTimeout(n.A),n.A=null)}function Ys(n){return n.g?n.g.readyState:0}function mE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case fE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _m(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function yE(n){let e="";return Ow(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):gn(n,e,t))}function wc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Zf(n){this.za=0,this.l=[],this.h=new j_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=wc("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=wc("baseRetryDelayMs",5e3,n),this.$a=wc("retryDelaySeedMs",1e4,n),this.Ya=wc("forwardChannelMaxRetries",2,n),this.ra=wc("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new uE(n&&n.concurrentRequestLimit),this.Ca=new AS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function zf(n){if(sv(n),3==n.G){var e=n.V++,t=Oo(n.F);gn(t,"SID",n.J),gn(t,"RID",e),gn(t,"TYPE","terminate"),nh(n,t),(e=new Of(n,n.h,e,void 0)).K=2,e.v=Qd(Oo(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(t=Lt.navigator.sendBeacon(e.v.toString(),"")),!t&&Lt.Image&&((new Image).src=e.v,t=!0),t||(e.g=TE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),hm(e)}IE(n)}function Wf(n){n.g&&(uv(n),n.g.cancel(),n.g=null)}function sv(n){Wf(n),n.u&&(Lt.clearTimeout(n.u),n.u=null),wm(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Lt.clearTimeout(n.m),n.m=null)}function vm(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Kf(n)}function Kf(n){Q_(n.i)||n.m||(n.m=!0,sm(n.Ha,n),n.C=0)}function ov(n,e){var t;t=e?e.m:n.V++;const r=Oo(n.F);gn(r,"SID",n.J),gn(r,"RID",t),gn(r,"AID",n.U),nh(n,r),n.o&&n.s&&_m(r,n.o,n.s),t=new Of(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=vE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),X_(n.i,t),Ff(t,r,e)}function nh(n,e){n.j&&pm({},function(t,r){gn(e,r,t)})}function vE(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Rr(n.j.Oa,n.j,n):null;e:{var s=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=s[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let I=s[w].h;const T=s[w].g;if(I-=u,0>I)u=Math.max(0,s[w].h-100),m=!1;else try{dE(T,d,"req"+I+"_")}catch(M){r&&r(T)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function wE(n){n.g||n.u||(n.Y=1,sm(n.Ga,n),n.A=0)}function av(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=kf(Rr(n.Ga,n),CE(n,n.A)),n.A++,0))}function uv(n){null!=n.B&&(Lt.clearTimeout(n.B),n.B=null)}function EE(n){n.g=new Of(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Oo(n.oa);gn(e,"RID","rpc"),gn(e,"SID",n.J),gn(e,"CI",n.N?"0":"1"),gn(e,"AID",n.U),nh(n,e),gn(e,"TYPE","xmlhttp"),n.o&&n.s&&_m(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Qd(Oo(e)),t.s=null,t.U=!0,Qw(t,n)}function wm(n){null!=n.v&&(Lt.clearTimeout(n.v),n.v=null)}function bE(n,e){var t=null;if(n.g==e){wm(n),uv(n),n.g=null;var r=2}else{if(!J_(n.i,e))return;t=e.D,ev(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;Nr(r=um(),new zw(r,t,e,s)),Kf(n)}else wE(n);else if(3==(s=e.o)||0==s&&0<n.I||!(1==r&&function _E(n,e){return!(vc(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=kf(Rr(n.Ha,n,e),CE(n,n.C)),n.C++,0)))}(n,e)||2==r&&av(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Ec(n,5);break;case 4:Ec(n,10);break;case 3:Ec(n,6);break;default:Ec(n,2)}}function CE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ec(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Rr(n.jb,n);t||(t=new el("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||Bf(t,"https"),Qd(t)),function tv(n,e){const t=new j_;if(Lt.Image){const r=new Image;r.onload=If(vs,t,r,"TestLoadImage: loaded",!0,e),r.onerror=If(vs,t,r,"TestLoadImage: error",!1,e),r.onabort=If(vs,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=If(vs,t,r,"TestLoadImage: timeout",!1,e),Lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else hi(2);n.G=0,n.j&&n.j.va(e),IE(n),sv(n)}function IE(n){n.G=0,n.I=-1,n.j&&((0!=cE(n.i).length||0!=n.l.length)&&(n.i.i.length=0,M_(n.l),n.l.length=0),n.j.ua())}function DE(n,e,t){let r=function tE(n){return n instanceof el?Oo(n):new el(n,void 0)}(t);if(""!=r.i)e&&gm(r,e+"."+r.i),jf(r,r.m);else{const s=Lt.location;r=function nE(n,e,t,r){var s=new el(null,void 0);return n&&Bf(s,n),e&&gm(s,e),t&&jf(s,t),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return n.aa&&Ow(n.aa,function(s,u){gn(r,u,s)}),t=n.sa,(e=n.D)&&t&&gn(r,e,t),gn(r,"VER",n.ma),nh(n,r),r}function TE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ar(t&&n.Ba&&!n.qa?new Hf({ib:!0}):n.qa)).L=n.H,e}function AE(){}function Em(){if(Gd&&!(10<=Number(KI)))throw Error("Environmental error: no available transport.")}function ws(n,e){vr.call(this),this.g=new Zf(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Kg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kg(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rh(this)}function SE(n){cm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xE(){Nf.call(this),this.status=1}function rh(n){this.g=n}(nt=ar.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yw.g(),this.C=function q_(n){return n.h||(n.h=n.i())}(this.u?this.u:Yw),this.g.onreadystatechange=Rr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void pE(this,u)}n=t||"";const s=new _c(this.headers);r&&pm(r,function(u,d){s.set(d,u)}),r=function DS(n){e:{var e=Gf;const t=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<t;s++)if(s in r&&e.call(void 0,r[s],s,n)){e=s;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(s.T()),t=Lt.FormData&&n instanceof Lt.FormData,!(0<=Nw(aD,e))||r||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{iv(this),0<this.B&&((this.K=function nv(n){return Gd&&function WI(){return function Pw(n){var e=zI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=$I(String(em)).split("."),t=$I("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var s=e[d]||"",u=t[d]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=Df(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Df(0==s[2].length,0==u[2].length)||Df(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.pa,this)):this.A=$w(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){pE(this,u)}},nt.pa=function(){void 0!==I_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nr(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Nr(this,"complete"),Nr(this,"abort"),qf(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qf(this,!0)),ar.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?gE(this):this.cb())},nt.cb=function(){gE(this)},nt.ba=function(){try{return 2<Ys(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),hE(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=Zf.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new Of(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=zs(u),GI(u,this.P)):u=this.P),null===this.o&&(s.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=vE(this,s,e),gn(t=Oo(this.F),"RID",n),gn(t,"CVER",22),this.D&&gn(t,"X-HTTP-Session-Id",this.D),nh(this,t),this.o&&u&&_m(t,this.o,u),X_(this.i,s),this.Ra&&gn(t,"TYPE","init"),this.ja?(gn(t,"$req",e),gn(t,"SID","null"),s.$=!0,Ff(s,t,null)):Ff(s,t,e),this.G=2}}else 3==this.G&&(n?ov(this,n):0==this.l.length||Q_(this.i)||ov(this))},nt.Ga=function(){if(this.u=null,EE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=kf(Rr(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,hi(10),Wf(this),EE(this))},nt.ab=function(){null!=this.v&&(this.v=null,Wf(this),av(this),hi(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),hi(2)):(this.h.info("Failed to ping google.com"),hi(1))},(nt=AE.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},Em.prototype.g=function(n,e){return new ws(n,e)},kr(ws,vr),ws.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),sm(Rr(n.hb,n,e))),hi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=DE(n,null,n.W),Kf(n)},ws.prototype.close=function(){zf(this.g)},ws.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,vm(this.g,e)}else this.v?((e={}).__data__=im(n),vm(this.g,e)):vm(this.g,n)},ws.prototype.M=function(){this.g.j=null,delete this.j,zf(this.g),delete this.g,ws.Z.M.call(this)},kr(SE,cm),kr(xE,Nf),kr(rh,AE),rh.prototype.xa=function(){Nr(this.g,"a")},rh.prototype.wa=function(n){Nr(this.g,new SE(n))},rh.prototype.va=function(n){Nr(this.g,new xE(n))},rh.prototype.ua=function(){Nr(this.g,"b")},Em.prototype.createWebChannel=Em.prototype.g,ws.prototype.send=ws.prototype.u,ws.prototype.open=ws.prototype.m,ws.prototype.close=ws.prototype.close,lm.NO_ERROR=0,lm.TIMEOUT=8,lm.HTTP_ERROR=6,Ww.COMPLETE="complete",Kw.EventType=Wd,Wd.OPEN="a",Wd.CLOSE="b",Wd.ERROR="c",Wd.MESSAGE="d",vr.prototype.listen=vr.prototype.N,ar.prototype.listenOnce=ar.prototype.O,ar.prototype.getLastError=ar.prototype.La,ar.prototype.getLastErrorCode=ar.prototype.Da,ar.prototype.getStatus=ar.prototype.ba,ar.prototype.getResponseJson=ar.prototype.Qa,ar.prototype.getResponseText=ar.prototype.ga,ar.prototype.send=ar.prototype.ea;var ME=Yi.createWebChannelTransport=function(){return new Em},RE=Yi.getStatEventTarget=function(){return um()},bm=Yi.ErrorCode=lm,kE=Yi.EventType=Ww,NE=Yi.Event=mc,lv=Yi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},OE=Yi.FetchXmlHttpFactory=Hf,Yf=Yi.WebChannel=Kw,PE=Yi.XhrIo=ar;const cv="@firebase/firestore";class Or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let Qs="9.8.0";const tl=new Gu.Yd("@firebase/firestore");function dv(){return tl.logLevel}function $e(n,...e){if(tl.logLevel<=Gu.in.DEBUG){const t=e.map(Im);tl.debug(`Firestore (${Qs}): ${n}`,...t)}}function $n(n,...e){if(tl.logLevel<=Gu.in.ERROR){const t=e.map(Im);tl.error(`Firestore (${Qs}): ${n}`,...t)}}function Cm(n,...e){if(tl.logLevel<=Gu.in.WARN){const t=e.map(Im);tl.warn(`Firestore (${Qs}): ${n}`,...t)}}function Im(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function ut(n="Unexpected state"){const e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+n;throw $n(e),new Error(e)}function Ft(n,e){n||ut()}function Qe(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Ot.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class FE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dm{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Or.UNAUTHENTICATED))}shutdown(){}}class Tm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Hn{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=I=>this.i!==s?(s=this.i,t(I)):Promise.resolve();let d=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Yn,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const I=d;e.enqueueRetryable((0,pe.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},w=I=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(I=>w(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?w(I):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Yn)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft("string"==typeof r.accessToken),new FE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ft(null===e||"string"==typeof e),new Or(e)}}class SS{constructor(e,t,r){this.type="FirstParty",this.user=Or.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class LE{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new SS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,$e("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?s(u):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ft("string"==typeof t.token),this.p=t.token,new UE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class es{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function VE(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}es.A=-1;class hv{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=VE(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Bt(n,e){return n<e?-1:n>e?1:0}function sh(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function BE(n){return n+"\0"}class mn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new mn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new mn(0,0))}static max(){return new Mt(new mn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function jE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Qf(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class oh{constructor(e,t,r){void 0===t?t=0:t>e.length&&ut(),void 0===r?r=e.length-t:r>e.length-t&&ut(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===oh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof oh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),d=t.get(s);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wt extends oh{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const $E=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends oh{construct(e,t,r){return new wr(e,t,r)}static isValidIdentifier(e){return $E.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Fe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new Fe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Fe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else"`"===m?(d=!d,s++):"."!==m||d?(r+=m,s++):(u(),s++)}if(u(),d)throw new Fe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(t)}static emptyPath(){return new wr([])}}class ha{constructor(e){this.fields=e,e.sort(wr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Er(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Er(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const cD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nl(n){if(Ft(!!n),"string"==typeof n){let e=0;const t=cD.exec(n);if(Ft(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nn(n.seconds),nanos:Nn(n.nanos)}}function Nn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function rl(n){return"string"==typeof n?Er.fromBase64String(n):Er.fromUint8Array(n)}function Am(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function HE(n){const e=n.mapValue.fields.__previous_value__;return Am(e)?HE(e):e}function ah(n){const e=nl(n.mapValue.fields.__local_write_time__.timestampValue);return new mn(e.seconds,e.nanos)}class dD{constructor(e,t,r,s,u,d,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=w}}class Qa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}function Sm(n){return null==n}function xm(n){return 0===n&&1/n==-1/0}function hD(n){return"number"==typeof n&&Number.isInteger(n)&&!xm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class We{constructor(e){this.path=e}static fromPath(e){return new We(Wt.fromString(e))}static fromName(e){return new We(Wt.fromString(e).popFirst(5))}static empty(){return new We(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new Wt(e.slice()))}}const Ja={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cc={nullValue:"NULL_VALUE"};function Ic(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Am(n)?4:gv(n)?9007199254740991:10:ut()}function fa(n,e){if(n===e)return!0;const t=Ic(n);if(t!==Ic(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ah(n).isEqual(ah(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=nl(r.timestampValue),d=nl(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,rl(n.bytesValue).isEqual(rl(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Nn(r.geoPointValue.latitude)===Nn(s.geoPointValue.latitude)&&Nn(r.geoPointValue.longitude)===Nn(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Nn(r.integerValue)===Nn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Nn(r.doubleValue),d=Nn(s.doubleValue);return u===d?xm(u)===xm(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return sh(n.arrayValue.values||[],e.arrayValue.values||[],fa);case 10:return function(r,s){const u=r.mapValue.fields||{},d=s.mapValue.fields||{};if(jE(u)!==jE(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!fa(u[m],d[m])))return!1;return!0}(n,e);default:return ut()}var s}function uh(n,e){return void 0!==(n.values||[]).find(t=>fa(t,e))}function Js(n,e){if(n===e)return 0;const t=Ic(n),r=Ic(e);if(t!==r)return Bt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const d=Nn(s.integerValue||s.doubleValue),m=Nn(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return GE(n.timestampValue,e.timestampValue);case 4:return GE(ah(n),ah(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(s,u){const d=rl(s),m=rl(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const d=s.split("/"),m=u.split("/");for(let w=0;w<d.length&&w<m.length;w++){const I=Bt(d[w],m[w]);if(0!==I)return I}return Bt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const d=Bt(Nn(s.latitude),Nn(u.latitude));return 0!==d?d:Bt(Nn(s.longitude),Nn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const d=s.values||[],m=u.values||[];for(let w=0;w<d.length&&w<m.length;++w){const I=Js(d[w],m[w]);if(I)return I}return Bt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Ja.mapValue&&u===Ja.mapValue)return 0;if(s===Ja.mapValue)return 1;if(u===Ja.mapValue)return-1;const d=s.fields||{},m=Object.keys(d),w=u.fields||{},I=Object.keys(w);m.sort(),I.sort();for(let T=0;T<m.length&&T<I.length;++T){const M=Bt(m[T],I[T]);if(0!==M)return M;const L=Js(d[m[T]],w[I[T]]);if(0!==L)return L}return Bt(m.length,I.length)}(n.mapValue,e.mapValue);default:throw ut()}}function GE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=nl(n),r=nl(e),s=Bt(t.seconds,r.seconds);return 0!==s?s:Bt(t.nanos,r.nanos)}function lh(n){return fv(n)}function fv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=nl(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?rl(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const d of r.values||[])u?u=!1:s+=",",s+=fv(d);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of s)d?d=!1:u+=",",u+=`${m}:${fv(r.fields[m])}`;return u+"}"}(n.mapValue):ut();var e}function Dc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pv(n){return!!n&&"integerValue"in n}function ch(n){return!!n&&"arrayValue"in n}function qE(n){return!!n&&"nullValue"in n}function ZE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xa(n){return!!n&&"mapValue"in n}function Xf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gv(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function fD(n){return"nullValue"in n?Cc:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Dc(Qa.empty(),We.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ut()}function zE(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Dc(Qa.empty(),We.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ja:ut()}function WE(n,e){const t=Js(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function mv(n,e){const t=Js(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xf(t)}setAll(e){let t=wr.emptyPath(),r={},s=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=m.popLast()}d?r[m.lastSegment()]=Xf(d):s.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());Xa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Xa(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){bc(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new fi(Xf(this.value))}}function Mm(n){const e=[];return bc(n.fields,(t,r)=>{const s=new wr([t]);if(Xa(r)){const u=Mm(r.mapValue).fields;if(0===u.length)e.push(s);else for(const d of u)e.push(s.child(d))}else e.push(s)}),new ha(e)}class yn{constructor(e,t,r,s,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.data=u,this.documentState=d}static newInvalidDocument(e){return new yn(e,0,Mt.min(),Mt.min(),fi.empty(),0)}static newFoundDocument(e,t,r){return new yn(e,1,t,Mt.min(),r,0)}static newNoDocument(e,t){return new yn(e,2,t,Mt.min(),fi.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Mt.min(),fi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ep{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function Rm(n){return n.fields.find(e=>2===e.kind)}function Tc(n){return n.fields.filter(e=>2!==e.kind)}ep.UNKNOWN_ID=-1;class km{constructor(e,t){this.fieldPath=e,this.kind=t}}class tp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tp(0,Xs.min())}}function Nm(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Mt.fromTimestamp(1e9===r?new mn(t+1,0):new mn(t,r));return new Xs(s,We.empty(),e)}function pD(n){return new Xs(n.readTime,n.key,-1)}class Xs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xs(Mt.min(),We.empty(),-1)}static max(){return new Xs(Mt.max(),We.empty(),-1)}}function KE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Bt(n.largestBatchId,e.largestBatchId))}class Qn{constructor(e,t){this.comparator=e,this.root=t||Zr.EMPTY}insert(e,t){return new Qn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zr.BLACK,null,null))}remove(e){return new Qn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Om(this.root,e,this.comparator,!1)}getReverseIterator(){return new Om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Om(this.root,e,this.comparator,!0)}}class Om{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zr{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=null!=r?r:Zr.RED,this.left=null!=s?s:Zr.EMPTY,this.right=null!=u?u:Zr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Zr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Zr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const e=this.left.check();if(e!==this.right.check())throw ut();return e+(this.isRed()?0:1)}}Zr.EMPTY=null,Zr.RED=!0,Zr.BLACK=!1,Zr.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Zr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hn{constructor(e){this.comparator=e,this.data=new Qn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new YE(this.data.getIterator())}getIteratorFrom(e){return new YE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new hn(this.comparator);return t.data=e,t}}class YE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function dh(n){return n.hasNext()?n.getNext():void 0}class gD{constructor(e,t=null,r=[],s=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=d,this.endAt=m,this.P=null}}function yv(n,e=null,t=[],r=[],s=null,u=null,d=null){return new gD(n,e,t,r,s,u,d)}function il(n){const e=Qe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+lh(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Sm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>lh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>lh(r)).join(",")),e.P=t}return e.P}function np(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!vD(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!fa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wD(n.startAt,e.startAt)&&wD(n.endAt,e.endAt)}function rp(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Pm(n,e){return n.filters.filter(t=>t instanceof br&&t.field.isEqual(e))}function QE(n,e,t){let r=Cc,s=!0;for(const u of Pm(n,e)){let d=Cc,m=!0;switch(u.op){case"<":case"<=":d=fD(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=Cc}WE({value:r,inclusive:s},{value:d,inclusive:m})<0&&(r=d,s=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];WE({value:r,inclusive:s},{value:d,inclusive:t.inclusive})<0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}function JE(n,e,t){let r=Ja,s=!0;for(const u of Pm(n,e)){let d=Ja,m=!0;switch(u.op){case">=":case">":d=zE(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=Ja}mv({value:r,inclusive:s},{value:d,inclusive:m})>0&&(r=d,s=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];mv({value:r,inclusive:s},{value:d,inclusive:t.inclusive})>0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}class br extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new _v(e,t,r):"array-contains"===t?new yD(e,r):"in"===t?new wv(e,r):"not-in"===t?new _D(e,r):"array-contains-any"===t?new tb(e,r):new br(e,t,r)}static V(e,t,r){return"in"===t?new XE(e,r):new vv(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Js(t,this.value)):null!==t&&Ic(this.value)===Ic(t)&&this.v(Js(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ut()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _v extends br{constructor(e,t,r){super(e,t,r),this.key=We.fromName(r.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.v(t)}}class XE extends br{constructor(e,t){super(e,"in",t),this.keys=eb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vv extends br{constructor(e,t){super(e,"not-in",t),this.keys=eb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function eb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>We.fromName(r.referenceValue))}class yD extends br{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ch(t)&&uh(t.arrayValue,this.value)}}class wv extends br{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uh(this.value.arrayValue,t)}}class _D extends br{constructor(e,t){super(e,"not-in",t)}matches(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uh(this.value.arrayValue,t)}}class tb extends br{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ch(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>uh(this.value.arrayValue,r))}}class sl{constructor(e,t){this.position=e,this.inclusive=t}}class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function vD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Ev(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],d=n.position[s];if(r=u.field.isKeyField()?We.comparator(We.fromName(d.referenceValue),t.key):Js(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function wD(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fa(n.position[t],e.position[t]))return!1;return!0}class eu{constructor(e,t=null,r=[],s=[],u=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=w,this.D=null,this.C=null}}function ip(n,e,t,r,s,u,d,m){return new eu(n,e,t,r,s,u,d,m)}function hh(n){return new eu(n)}function Sc(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function bv(n){for(const e of n.filters)if(e.S())return e.field;return null}function nb(n){return null!==n.collectionGroup}function xc(n){const e=Qe(n);if(null===e.D){e.D=[];const t=bv(e),r=Sc(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Ac(t)),e.D.push(new Ac(wr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ac(wr.keyField(),u))}}}return e.D}function eo(n){const e=Qe(n);if(!e.C)if("F"===e.limitType)e.C=yv(e.path,e.collectionGroup,xc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of xc(e))t.push(new Ac(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new sl(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new sl(e.startAt.position,e.startAt.inclusive):null;e.C=yv(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.C}function rb(n,e,t){return new eu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sp(n,e){return np(eo(n),eo(e))&&n.limitType===e.limitType}function ib(n){return`${il(eo(n))}|lt:${n.limitType}`}function Fm(n){return`Query(target=${function mD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${lh(r.value)}`;var r}).join(", ")}]`),Sm(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>lh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>lh(t)).join(",")),`Target(${e})`}(eo(n))}; limitType=${n.limitType})`}function Lm(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):We.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,d){const m=Ev(s,u,d);return s.inclusive?m<=0:m<0}(t.startAt,xc(t),r)||t.endAt&&!function(s,u,d){const m=Ev(s,u,d);return s.inclusive?m>=0:m>0}(t.endAt,xc(t),r)));var t,r}function Um(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function op(n){return(e,t)=>{let r=!1;for(const s of xc(n)){const u=ap(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function ap(n,e,t){const r=n.field.isKeyField()?We.comparator(e.key,t.key):function(s,u,d){const m=u.data.field(s),w=d.data.field(s);return null!==m&&null!==w?Js(m,w):ut()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}function sb(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xm(e)?"-0":e}}function Cv(n){return{integerValue:""+n}}function Iv(n,e){return hD(e)?Cv(e):sb(n,e)}class Vm{constructor(){this._=void 0}}function ED(n,e,t){return n instanceof up?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof Mc?ab(n,e):n instanceof to?Tv(n,e):function(r,s){const u=ob(r,s),d=bD(u)+bD(r.k);return pv(u)&&pv(r.k)?Cv(d):sb(r.M,d)}(n,e)}function Dv(n,e,t){return n instanceof Mc?ab(n,e):n instanceof to?Tv(n,e):t}function ob(n,e){return n instanceof Po?pv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class up extends Vm{}class Mc extends Vm{constructor(e){super(),this.elements=e}}function ab(n,e){const t=Av(e);for(const r of n.elements)t.some(s=>fa(s,r))||t.push(r);return{arrayValue:{values:t}}}class to extends Vm{constructor(e){super(),this.elements=e}}function Tv(n,e){let t=Av(e);for(const r of n.elements)t=t.filter(s=>!fa(s,r));return{arrayValue:{values:t}}}class Po extends Vm{constructor(e,t){super(),this.M=e,this.k=t}}function bD(n){return Nn(n.integerValue||n.doubleValue)}function Av(n){return ch(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class lp{constructor(e,t){this.field=e,this.transform=t}}class ub{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ph{}function lb(n,e,t){n instanceof dp?function(r,s,u){const d=r.value.clone(),m=pb(r.fieldTransforms,s,u.transformResults);d.setAll(m),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Rc?function(r,s,u){if(!cp(r.precondition,s))return void s.convertToUnknownDocument(u.version);const d=pb(r.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(fb(r)),m.setAll(d),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bm(n,e,t){var s;n instanceof dp?function(r,s,u){if(!cp(r.precondition,s))return;const d=r.value.clone(),m=gb(r.fieldTransforms,u,s);d.setAll(m),s.convertToFoundDocument(hb(s),d).setHasLocalMutations()}(n,e,t):n instanceof Rc?function(r,s,u){if(!cp(r.precondition,s))return;const d=gb(r.fieldTransforms,u,s),m=s.data;m.setAll(fb(r)),m.setAll(d),s.convertToFoundDocument(hb(s),m).setHasLocalMutations()}(n,e,t):cp(n.precondition,s=e)&&s.convertToNoDocument(Mt.min())}function cb(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=ob(r.transform,s||null);null!=u&&(null==t&&(t=fi.empty()),t.set(r.field,u))}return t||null}function db(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&sh(t,r,(s,u)=>function xS(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Mc&&r instanceof Mc||t instanceof to&&r instanceof to?sh(t.elements,r.elements,fa):t instanceof Po&&r instanceof Po?fa(t.k,r.k):t instanceof up&&r instanceof up);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function hb(n){return n.isFoundDocument()?n.version:Mt.min()}class dp extends ph{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}}class Rc extends ph{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}}function fb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pb(n,e,t){const r=new Map;Ft(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],d=u.transform,m=e.data.field(u.field);r.set(u.field,Dv(d,m,t[s]))}return r}function gb(n,e,t){const r=new Map;for(const s of n){const u=s.transform,d=t.data.field(s.field);r.set(s.field,ED(u,d,e))}return r}class tu extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class jm extends ph{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class mb{constructor(e){this.count=e}}var Jn,Kt;function Sv(n){switch(n){default:return ut();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function xv(n){if(void 0===n)return $n("GRPC error has no .code"),me.UNKNOWN;switch(n){case Jn.OK:return me.OK;case Jn.CANCELLED:return me.CANCELLED;case Jn.UNKNOWN:return me.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return me.INTERNAL;case Jn.UNAVAILABLE:return me.UNAVAILABLE;case Jn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Jn.NOT_FOUND:return me.NOT_FOUND;case Jn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Jn.ABORTED:return me.ABORTED;case Jn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Jn.DATA_LOSS:return me.DATA_LOSS;default:return ut()}}(Kt=Jn||(Jn={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";class ol{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){bc(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return Qf(this.inner)}size(){return this.innerSize}}const yb=new Qn(We.comparator);function no(){return yb}const CD=new Qn(We.comparator);function Mv(...n){let e=CD;for(const t of n)e=e.insert(t.key,t);return e}function hp(){return new ol(n=>n.toString(),(n,e)=>n.isEqual(e))}const fp=new Qn(We.comparator),ID=new hn(We.comparator);function Xt(...n){let e=ID;for(const t of n)e=e.add(t);return e}const pa=new hn(Bt);function $m(){return pa}class al{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t)),new al(Mt.min(),r,$m(),no(),Xt())}}class nu{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new nu(Er.EMPTY_BYTE_STRING,t,Xt(),Xt(),Xt())}}class Hm{constructor(e,t,r,s){this.O=e,this.removedTargetIds=t,this.key=r,this.F=s}}class _b{constructor(e,t){this.targetId=e,this.$=t}}class vb{constructor(e,t,r=Er.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class pp{constructor(){this.B=0,this.L=Eb(),this.U=Er.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Xt(),t=Xt(),r=Xt();return this.L.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ut()}}),new nu(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Eb()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Gm{constructor(e){this.nt=e,this.st=new Map,this.it=no(),this.rt=wb(),this.ot=new hn(Bt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:ut()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,s)=>{this.ft(s)&&t(s)})}_t(e){const t=e.targetId,r=e.$.count,s=this.wt(t);if(s){const u=s.target;if(rp(u))if(0===r){const d=new We(u.path);this.ct(t,d,yn.newNoDocument(d,Mt.min()))}else Ft(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,d)=>{const m=this.wt(d);if(m){if(u.current&&rp(m.target)){const w=new We(m.target.path);null!==this.it.get(w)||this.It(d,w)||this.ct(d,w,yn.newNoDocument(w,e))}u.j&&(t.set(d,u.H()),u.J())}});let r=Xt();this.rt.forEach((u,d)=>{let m=!0;d.forEachWhile(w=>{const I=this.wt(w);return!I||2===I.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.it.forEach((u,d)=>d.setReadTime(e));const s=new al(e,t,this.ot,this.it,r);return this.it=no(),this.rt=wb(),this.ot=new hn(Bt),s}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const s=this.lt(e);this.It(e,t)?s.Y(t,1):s.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new pp,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new hn(Bt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new pp),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function wb(){return new Qn(We.comparator)}function Eb(){return new Qn(We.comparator)}const bb={asc:"ASCENDING",desc:"DESCENDING"},Cb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Rv{constructor(e,t){this.databaseId=e,this.N=t}}function gh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ib(n,e){return n.N?e.toBase64():e.toUint8Array()}function DD(n,e){return gh(n,e.toTimestamp())}function zr(n){return Ft(!!n),Mt.fromTimestamp(function(e){const t=nl(e);return new mn(t.seconds,t.nanos)}(n))}function gp(n,e){return(t=n,new Wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function qm(n){const e=Wt.fromString(n);return Ft(kb(e)),e}function mh(n,e){return gp(n.databaseId,e.path)}function ro(n,e){const t=qm(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(Tb(t))}function mp(n,e){return gp(n.databaseId,e)}function Db(n){const e=qm(n);return 4===e.length?Wt.emptyPath():Tb(e)}function yp(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Tb(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Ab(n,e,t){return{name:mh(n,e),fields:t.value.mapValue.fields}}function kv(n,e,t){const r=ro(n,e.name),s=zr(e.updateTime),u=new fi({mapValue:{fields:e.fields}}),d=yn.newFoundDocument(r,s,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function _p(n,e){let t;if(e instanceof dp)t={update:Ab(n,e.key,e.value)};else if(e instanceof tu)t={delete:mh(n,e.key)};else if(e instanceof Rc)t={update:Ab(n,e.key,e.data),updateMask:vp(e.fieldMask)};else{if(!(e instanceof jm))return ut();t={verify:mh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const d=u.transform;if(d instanceof up)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Mc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof to)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Po)return{fieldPath:u.field.canonicalString(),increment:d.k};throw ut()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:DD(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:ut()),t;var s}function Zm(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Cr.updateTime(zr(s.updateTime)):void 0!==s.exists?Cr.exists(s.exists):Cr.none():Cr.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,d){let m=null;"setToServerValue"in d?(Ft("REQUEST_TIME"===d.setToServerValue),m=new up):"appendMissingElements"in d?m=new Mc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new to(d.removeAllFromArray.values||[]):"increment"in d?m=new Po(u,d.increment):ut();const w=wr.fromServerFormat(d.fieldPath);return new lp(w,m)}(n,s)):[];var s;if(e.update){const s=ro(n,e.update.name),u=new fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new ha((e.updateMask.fieldPaths||[]).map(I=>wr.fromServerFormat(I)));return new Rc(s,u,d,t,r)}return new dp(s,u,t,r)}if(e.delete){const s=ro(n,e.delete);return new tu(s,t)}if(e.verify){const s=ro(n,e.verify);return new jm(s,t)}return ut()}function Mb(n,e){return{documents:[mp(n,e.path)]}}function Ov(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=mp(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=mp(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(w){if(0===w.length)return;const I=w.map(T=>function(M){if("=="===M.op){if(ZE(M.value))return{unaryFilter:{field:Fo(M.field),op:"IS_NAN"}};if(qE(M.value))return{unaryFilter:{field:Fo(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(ZE(M.value))return{unaryFilter:{field:Fo(M.field),op:"IS_NOT_NAN"}};if(qE(M.value))return{unaryFilter:{field:Fo(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(M.field),op:Di(M.op),value:M.value}}}(T));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);s&&(t.structuredQuery.where=s);const u=function(w){if(0!==w.length)return w.map(I=>{return{field:Fo((T=I).field),direction:Rb(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(I=e.limit,n.N||Sm(I)?I:{value:I});var I,m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function Pv(n){let e=Db(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ft(1===r);const T=t.from[0];T.allDescendants?s=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=Fv(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new Ac(yh((M=T).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;t.limit&&(m=function(T){let M;return M="object"==typeof T?T.value:T,Sm(M)?null:M}(t.limit));let w=null;var T;t.startAt&&(w=new sl((T=t.startAt).values||[],!!T.before));let I=null;return t.endAt&&(I=function(T){return new sl(T.values||[],!T.before)}(t.endAt)),ip(e,s,d,u,m,"F",w,I)}function Fv(n){return n?void 0!==n.unaryFilter?[MS(n)]:void 0!==n.fieldFilter?[AD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Fv(e)).reduce((e,t)=>e.concat(t)):ut():[]}function Rb(n){return bb[n]}function Di(n){return Cb[n]}function Fo(n){return{fieldPath:n.canonicalString()}}function yh(n){return wr.fromServerFormat(n.fieldPath)}function AD(n){return br.create(yh(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function MS(n){switch(n.unaryFilter.op){case"IS_NAN":const e=yh(n.unaryFilter.field);return br.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=yh(n.unaryFilter.field);return br.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=yh(n.unaryFilter.field);return br.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=yh(n.unaryFilter.field);return br.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function vp(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kb(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Wr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Lv(e)),e=SD(n.get(t),e);return Lv(e)}function SD(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function Lv(n){return n+"\x01\x01"}function ga(n){const e=n.length;if(Ft(e>=2),2===e)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Wt.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&ut(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let w;0===s.length?w=m:(s+=m,w=s,s=""),r.push(w);break;case"\x10":s+=n.substring(u,d),s+="\0";break;case"\x11":s+=n.substring(u,d+1);break;default:ut()}u=d+2}return new Wt(r)}const Nb=["userId","batchId"];function _h(n,e){return[n,Wr(e)]}function Uv(n,e,t){return[n,Wr(e),t]}const Ob={},zm=["prefixPath","collectionGroup","readTime","documentId"],Vv=["prefixPath","collectionGroup","documentId"],RS=["collectionGroup","readTime","prefixPath","documentId"],Pb=["canonicalId","targetId"],xD=["targetId","path"],Fb=["path","targetId"],Wm=["collectionId","parent"],Lb=["indexId","uid"],MD=["uid","sequenceNumber"],Bv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jv=["indexId","uid","orderedDocumentKey"],kS=["userId","collectionPath","documentId"],RD=["userId","collectionPath","largestBatchId"],kD=["userId","collectionGroup","largestBatchId"],$v=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ub=[...$v,"documentOverlays"],Vb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bb=[...Vb,"indexConfiguration","indexState","indexEntries"],Hv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(t){return _e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.reject(t)}static resolve(e){return new _e((t,r)=>{t(e)})}static reject(e){return new _e((t,r)=>{r(e)})}static waitFor(e){return new _e((t,r)=>{let s=0,u=0,d=!1;e.forEach(m=>{++s,m.next(()=>{++u,d&&u===s&&t()},w=>r(w))}),d=!0,u===s&&t()})}static or(e){let t=_e.resolve(!1);for(const r of e)t=t.next(s=>s?_e.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}}class wp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Yn,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new vh(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const s=qb(r.target.error);this.At.reject(new vh(e,s))}}static open(e,t,r,s){try{return new wp(t,e.transaction(s,r))}catch(u){throw new vh(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Hb(t)}}class Lo{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Lo.Vt((0,Ot.z$)())&&$n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),kc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Ot.hl)())return!1;if(Lo.St())return!0;const e=(0,Ot.z$)(),t=Lo.Vt(e),r=0<t&&t<10,s=Lo.Dt(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,pe.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{s(new vh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;s("VersionError"===m.name?new Fe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Fe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new vh(e,m))},u.onupgradeneeded=d=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,pe.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Nt(e);const w=wp.open(u.db,e,d?"readonly":"readwrite",r),I=s(w).next(T=>(w.bt(),T)).catch(T=>(w.abort(T),_e.reject(T))).toPromise();return I.catch(()=>{}),yield w.Rt,I}catch(w){const I="FirebaseError"!==w.name&&m<3;if($e("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),u.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $b{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return kc(this.Ft.delete())}}class vh extends Fe{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ul(n){return"IndexedDbTransactionError"===n.name}class Hb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),kc(r)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),kc(this.store.add(e))}get(e){return kc(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),kc(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),kc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.Kt(s,(d,m)=>{u.push(m)}).next(()=>u)}{const s=this.store.getAll(r.range);return new _e((u,d)=>{s.onerror=m=>{d(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new _e((s,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}Qt(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const s=this.cursor(r);return this.Kt(s,(u,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.Kt(s,t)}zt(e){const t=this.cursor({});return new _e((r,s)=>{t.onerror=u=>{const d=qb(u.target.error);s(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new _e((s,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void s();const w=new $b(m),I=t(m.primaryKey,m.value,w);if(I instanceof _e){const T=I.catch(M=>(w.done(),_e.reject(M)));r.push(T)}w.isDone?s():null===w.Lt?m.continue():m.continue(w.Lt)}}).next(()=>_e.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function kc(n){return new _e((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=qb(r.target.error);t(s)}})}let Gb=!1;function qb(n){const e=Lo.Vt((0,Ot.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gb||(Gb=!0,setTimeout(()=>{throw r},0)),r}}return n}class Gv extends jb{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Kr(n,e){const t=Qe(n);return Lo.xt(t.Ht,e)}class Zb{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&lb(u,e,r[s])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Bm(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Bm(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),s=r;this.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(Mt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&sh(this.mutations,e.mutations,(t,r)=>db(t,r))&&sh(this.baseMutations,e.baseMutations,(t,r)=>db(t,r))}}class zb{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ft(e.mutations.length===r.length);let s=fp;const u=e.mutations;for(let d=0;d<u.length;d++)s=s.insert(u[d].key,r[d].version);return new zb(e,t,r,s)}}class Wb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Nc{constructor(e,t,r,s,u=Mt.min(),d=Mt.min(),m=Er.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new Nc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Nc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Nc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ND{constructor(e){this.Jt=e}}function OD(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Oc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:mh(s=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:gh(s,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:wh(e.version)};else{if(!e.isUnknownDocument())return ut();r.unknownDocument={path:t.path.toArray(),version:wh(e.version)}}var s,u;return r}function Oc(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function wh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ll(n){const e=new mn(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function cl(n,e){const t=(e.baseMutations||[]).map(u=>Zm(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Zm(n.Jt,u)),s=mn.fromMillis(e.localWriteTimeMs);return new Zb(e.batchId,s,t,r)}function Eh(n){const e=ll(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ll(n.lastLimboFreeSnapshotVersion):Mt.min();let r;var s;return void 0!==n.query.documents?(Ft(1===(s=n.query).documents.length),r=eo(hh(Db(s.documents[0])))):r=eo(Pv(n.query)),new Nc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Er.fromBase64String(n.resumeToken))}function qv(n,e){const t=wh(e.snapshotVersion),r=wh(e.lastLimboFreeSnapshotVersion);let s;s=rp(e.target)?Mb(n.Jt,e.target):Ov(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:il(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Kb(n){const e=Pv({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rb(e,e.limit,"L"):e}function Ep(n,e){return new Wb(e.largestBatchId,Zm(n.Jt,e.overlayMutation))}function Zv(n,e){const t=e.path.lastSegment();return[n,Wr(e.path.popLast()),t]}class PD{getBundleMetadata(e,t){return zv(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:ll(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return zv(e).put({bundleId:(r=t).id,createTime:wh(zr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return FD(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:Kb(s.bundledQuery),readTime:ll(s.readTime)};var s})}saveNamedQuery(e,t){return FD(e).put({name:(r=t).name,readTime:wh(zr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function zv(n){return Kr(n,"bundles")}function FD(n){return Kr(n,"namedQueries")}class Wv{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Wv(e,t.uid||"")}getOverlay(e,t){return bp(e).get(Zv(this.userId,t)).next(r=>r?Ep(this.M,r):null)}saveOverlays(e,t,r){const s=[];return r.forEach((u,d)=>{const m=new Wb(t,d);s.push(this.Xt(e,m))}),_e.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(d=>s.add(Wr(d.getCollectionPath())));const u=[];return s.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(bp(e).Qt("collectionPathOverlayIndex",m))}),_e.waitFor(u)}getOverlaysForCollection(e,t,r){const s=hp(),u=Wr(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return bp(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const I=Ep(this.M,w);s.set(I.getKey(),I)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=hp();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return bp(e).Wt({index:"collectionGroupOverlayIndex",range:m},(w,I,T)=>{const M=Ep(this.M,I);u.size()<s||M.largestBatchId===d?(u.set(M.getKey(),M),d=M.largestBatchId):T.done()}).next(()=>u)}Xt(e,t){return bp(e).put(function(r,s,u){const[d,m,w]=Zv(s,u.mutation.key);return{userId:s,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:_p(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function bp(n){return Kr(n,"documentOverlays")}class ru{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Nn(e.integerValue));else if("doubleValue"in e){const r=Nn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),xm(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(rl(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?gv(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ut()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const s of Object.keys(r))this.re(s,t),this.te(r[s],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const s of r)this.te(s,t)}ae(e,t){this.ne(t,37),We.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function LD(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function UD(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=LD(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}ru.fe=new ru;class OS{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const s=t.codePointAt(0);this._e(240|s>>>18),this._e(128|63&s>>>12),this._e(128|63&s>>>6),this._e(128|63&s)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const s=t.codePointAt(0);this.ge(240|s>>>18),this.ge(128|63&s>>>12),this.ge(128|63&s>>>6),this.ge(128|63&s)}}this.ye()}Te(e){const t=this.Ee(e),r=UD(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Re(e){const t=this.Ee(e),r=UD(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class PS{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class VD{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Cp{constructor(){this.De=new OS,this.Ce=new PS(this.De),this.xe=new VD(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Pc{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Pc(this.indexId,this.documentKey,this.arrayValue,r)}}function bh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Yb(n.arrayValue,e.arrayValue),0!==t?t:(t=Yb(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function Yb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Kv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Rm(e);if(void 0!==t&&!this.Be(t))return!1;const r=Tc(e);let s=0,u=0;for(;s<r.length&&this.Be(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.Fe){const d=r[s];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[u++],d))return!1;++s}for(;s<r.length;++s){const d=r[s];if(u>=this.Me.length||!this.Ue(this.Me[u++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class BD{constructor(){this.qe=new Es}addToCollectionParentIndex(e,t){return this.qe.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(Xs.min())}updateCollectionGroup(e,t,r){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class Es{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new hn(Wt.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new hn(Wt.comparator)).toArray()}}const Km=new Uint8Array(0);class Yv{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Es,this.Ge=new ol(r=>il(r),(r,s)=>np(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:Wr(s)};return Qb(e).put(u)}return _e.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[BE(t),""],!1,!0);return Qb(e).qt(s).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(ga(d.parent))}return r})}addFieldIndex(e,t){const r=Ch(e),s={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var u;return delete s.indexId,r.add(s).next()}deleteFieldIndex(e,t){const r=Ch(e),s=Dp(e),u=Ip(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Ip(e);let s=!0;const u=new Map;return _e.forEach(this.Qe(t),d=>this.je(e,d).next(m=>{s&&(s=!!m),u.set(d,m)})).next(()=>{if(s){let d=Xt();const m=[];return _e.forEach(u,(w,I)=>{var T;$e("IndexedDbIndexManager",`Using index ${T=w,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(ct=>`${ct.fieldPath}:${ct.kind}`).join(",")}`} to execute ${il(t)}`);const M=function(ct,rt){const St=Rm(rt);if(void 0===St)return null;for(const it of Pm(ct,St.fieldPath))switch(it.op){case"array-contains-any":return it.value.arrayValue.values||[];case"array-contains":return[it.value]}return null}(I,w),L=function(ct,rt){const St=new Map;for(const it of Tc(rt))for(const It of Pm(ct,it.fieldPath))switch(It.op){case"==":case"in":St.set(it.fieldPath.canonicalString(),It.value);break;case"not-in":case"!=":return St.set(it.fieldPath.canonicalString(),It.value),Array.from(St.values())}return null}(I,w),G=function(ct,rt){const St=[];let it=!0;for(const It of Tc(rt)){const pi=0===It.kind?QE(ct,It.fieldPath,ct.startAt):JE(ct,It.fieldPath,ct.startAt);St.push(pi.value),it&&(it=pi.inclusive)}return new sl(St,it)}(I,w),ae=function(ct,rt){const St=[];let it=!0;for(const It of Tc(rt)){const pi=0===It.kind?JE(ct,It.fieldPath,ct.endAt):QE(ct,It.fieldPath,ct.endAt);St.push(pi.value),it&&(it=pi.inclusive)}return new sl(St,it)}(I,w),xe=this.We(w,I,G),Ne=this.We(w,I,ae),gt=this.ze(w,I,L),Ct=this.He(w.indexId,M,xe,G.inclusive,Ne,ae.inclusive,gt);return _e.forEach(Ct,ct=>r.Gt(ct,t.limit).next(rt=>{rt.forEach(St=>{const it=We.fromSegments(St.documentKey);d.has(it)||(d=d.add(it),m.push(it))})}))}).next(()=>m)}return _e.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,s,u,d,m){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),I=w/(null!=t?t.length:1),T=[];for(let M=0;M<w;++M){const L=t?this.Je(t[M/I]):Km,G=this.Ye(e,L,r[M%I],s),ae=this.Xe(e,L,u[M%I],d),xe=m.map(Ne=>this.Ye(e,L,Ne,!0));T.push(...this.createRange(G,ae,xe))}return T}Ye(e,t,r,s){const u=new Pc(e,We.empty(),t,r);return s?u:u.ke()}Xe(e,t,r,s){const u=new Pc(e,We.empty(),t,r);return s?u.ke():u}je(e,t){const r=new Kv(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let d=null;for(const m of u)r.$e(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return _e.forEach(this.Qe(t),s=>this.je(e,s).next(u=>{u?0!==r&&u.fields.length<function(d){let m=new hn(wr.comparator),w=!1;for(const I of d.filters){const T=I;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?w=!0:m=m.add(T.field))}for(const I of d.orderBy)I.field.isKeyField()||(m=m.add(I.field));return m.size+(w?1:0)}(s)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new Cp;for(const s of Tc(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const d=r.Ne(s.kind);ru.fe.Zt(u,d)}return r.Se()}Je(e){const t=new Cp;return ru.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Cp;return ru.fe.Zt(Dc(this.databaseId,t),r.Ne(function(s){const u=Tc(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let s=[];s.push(new Cp);let u=0;for(const d of Tc(e)){const m=r[u++];for(const w of s)if(this.en(t,d.fieldPath)&&ch(m))s=this.nn(s,d,m);else{const I=w.Ne(d.kind);ru.fe.Zt(m,I)}}return this.sn(s)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const s=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of s){const w=new Cp;w.seed(m.Se()),ru.fe.Zt(d,w.Ne(t.kind)),u.push(w)}return u}en(e,t){return!!e.filters.find(r=>r instanceof br&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Ch(e),s=Dp(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const d=[];return _e.forEach(u,m=>s.get([m.indexId,this.uid]).next(w=>{d.push(function(I,T){const M=T?new tp(T.sequenceNumber,new Xs(ll(T.readTime),new We(ga(T.documentKey)),T.largestBatchId)):tp.empty(),L=I.fields.map(([G,ae])=>new km(wr.fromServerFormat(G),ae));return new ep(I.indexId,I.collectionGroup,L,M)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Bt(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Ch(e),u=Dp(e);return this.rn(e).next(d=>s.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>_e.forEach(m,w=>{return u.put({indexId:w.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:wh((L=r).readTime),documentKey:Wr(L.documentKey.path),largestBatchId:L.largestBatchId});var L})))}updateIndexEntries(e,t){const r=new Map;return _e.forEach(t,(s,u)=>{const d=r.get(s.collectionGroup);return(d?_e.resolve(d):this.getFieldIndexes(e,s.collectionGroup)).next(m=>(r.set(s.collectionGroup,m),_e.forEach(m,w=>this.on(e,s,w).next(I=>{const T=this.un(u,w);return I.isEqual(T)?_e.resolve():this.an(e,u,w,I,T)}))))})}cn(e,t,r,s){return Ip(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,s){return Ip(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const s=Ip(e);let u=new hn(bh);return s.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,m)=>{u=u.add(new Pc(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}un(e,t){let r=new hn(bh);const s=this.Ze(t,e);if(null==s)return r;const u=Rm(t);if(null!=u){const d=e.data.field(u.fieldPath);if(ch(d))for(const m of d.arrayValue.values||[])r=r.add(new Pc(t.indexId,e.key,this.Je(m),s))}else r=r.add(new Pc(t.indexId,e.key,Km,s));return r}an(e,t,r,s,u){$e("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,w,I,T,M){const L=m.getIterator(),G=w.getIterator();let ae=dh(L),xe=dh(G);for(;ae||xe;){let Ne=!1,gt=!1;if(ae&&xe){const Ct=I(ae,xe);Ct<0?gt=!0:Ct>0&&(Ne=!0)}else null!=ae?gt=!0:Ne=!0;Ne?(T(xe),xe=dh(G)):gt?(M(ae),ae=dh(L)):(ae=dh(L),xe=dh(G))}}(s,u,bh,m=>{d.push(this.cn(e,t,r,m))},m=>{d.push(this.hn(e,t,r,m))}),_e.waitFor(d)}rn(e){let t=1;return Dp(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>bh(d,m)).filter((d,m,w)=>!m||0!==bh(d,w[m-1]));const s=[];s.push(e);for(const d of r){const m=bh(d,e),w=bh(d,t);if(0===m)s[0]=e.ke();else if(m>0&&w<0)s.push(d),s.push(d.ke());else if(w>0)break}s.push(t);const u=[];for(let d=0;d<s.length;d+=2)u.push(IDBKeyRange.bound([s[d].indexId,this.uid,s[d].arrayValue,s[d].directionalValue,Km,[]],[s[d+1].indexId,this.uid,s[d+1].arrayValue,s[d+1].directionalValue,Km,[]]));return u}getMinOffset(e,t){let r;return _e.forEach(this.Qe(t),s=>this.je(e,s).next(u=>{u?(!r||KE(u.indexState.offset,r)<0)&&(r=u.indexState.offset):r=Xs.min()})).next(()=>r)}}function Qb(n){return Kr(n,"collectionParents")}function Ip(n){return Kr(n,"indexEntries")}function Ch(n){return Kr(n,"indexConfiguration")}function Dp(n){return Kr(n,"indexState")}const Qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ts{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ts(e,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jv(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=r.Wt({range:d},(T,M,L)=>(m++,L.delete()));u.push(w.next(()=>{Ft(1===m)}));const I=[];for(const T of t.mutations){const M=Uv(e,T.key.path,t.batchId);u.push(s.delete(M)),I.push(T.key)}return _e.waitFor(u).next(()=>I)}function Ym(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ut();e=n.noDocument}return JSON.stringify(e).length}ts.DEFAULT_COLLECTION_PERCENTILE=10,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ts.DEFAULT=new ts(41943040,ts.DEFAULT_COLLECTION_PERCENTILE,ts.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ts.DISABLED=new ts(-1,0,0);class Xv{constructor(e,t,r,s){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=s,this.ln={}}static Yt(e,t,r,s){Ft(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Xv(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ma(e).Wt({index:"userMutationsIndex",range:r},(s,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=io(e),d=ma(e);return d.add({}).next(m=>{Ft("number"==typeof m);const w=new Zb(m,t,r,s),I=function(L,G,ae){const xe=ae.baseMutations.map(gt=>_p(L.Jt,gt)),Ne=ae.mutations.map(gt=>_p(L.Jt,gt));return{userId:G,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:xe,mutations:Ne}}(this.M,this.userId,w),T=[];let M=new hn((L,G)=>Bt(L.canonicalString(),G.canonicalString()));for(const L of s){const G=Uv(this.userId,L.key.path,m);M=M.add(L.key.path.popLast()),T.push(d.put(I)),T.push(u.put(G,Ob))}return M.forEach(L=>{T.push(this.indexManager.addToCollectionParentIndex(e,L))}),e.addOnCommittedListener(()=>{this.ln[m]=w.keys()}),_e.waitFor(T).next(()=>w)})}lookupMutationBatch(e,t){return ma(e).get(t).next(r=>r?(Ft(r.userId===this.userId),cl(this.M,r)):null)}fn(e,t){return this.ln[t]?_e.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.ln[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return ma(e).Wt({index:"userMutationsIndex",range:s},(d,m,w)=>{m.userId===this.userId&&(Ft(m.batchId>=r),u=cl(this.M,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ma(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(s,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ma(e).qt("userMutationsIndex",t).next(r=>r.map(s=>cl(this.M,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=_h(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return io(e).Wt({range:s},(d,m,w)=>{const[I,T,M]=d,L=ga(T);if(I===this.userId&&t.path.isEqual(L))return ma(e).get(M).next(G=>{if(!G)throw ut();Ft(G.userId===this.userId),u.push(cl(this.M,G))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hn(Bt);const s=[];return t.forEach(u=>{const d=_h(this.userId,u.path),m=IDBKeyRange.lowerBound(d),w=io(e).Wt({range:m},(I,T,M)=>{const[L,G,ae]=I,xe=ga(G);L===this.userId&&u.path.isEqual(xe)?r=r.add(ae):M.done()});s.push(w)}),_e.waitFor(s).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=_h(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new hn(Bt);return io(e).Wt({range:d},(w,I,T)=>{const[M,L,G]=w,ae=ga(L);M===this.userId&&r.isPrefixOf(ae)?ae.length===s&&(m=m.add(G)):T.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(ma(e).get(u).next(d=>{if(null===d)throw ut();Ft(d.userId===this.userId),r.push(cl(this.M,d))}))}),_e.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return Jv(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),_e.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _e.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return io(e).Wt({range:r},(u,d,m)=>{if(u[0]===this.userId){const w=ga(u[1]);s.push(w)}else m.done()}).next(()=>{Ft(0===s.length)})})}containsKey(e,t){return Jb(e,this.userId,t)}wn(e){return e0(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Jb(n,e,t){const r=_h(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return io(n).Wt({range:u,jt:!0},(m,w,I)=>{const[T,M,L]=m;T===e&&M===s&&(d=!0),I.done()}).next(()=>d)}function ma(n){return Kr(n,"mutations")}function io(n){return Kr(n,"documentMutations")}function e0(n){return Kr(n,"mutationQueues")}class dl{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new dl(0)}static yn(){return new dl(-1)}}class jD{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new dl(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Mt.fromTimestamp(new mn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.In(e,s)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Tp(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Ft(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return Tp(e).Wt((d,m)=>{const w=Eh(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(s++,u.push(this.removeTargetData(e,w)))}).next(()=>_e.waitFor(u)).next(()=>s)}forEachTarget(e,t){return Tp(e).Wt((r,s)=>{const u=Eh(s);t(u)})}pn(e){return Xb(e).get("targetGlobalKey").next(t=>(Ft(null!==t),t))}In(e,t){return Xb(e).put("targetGlobalKey",t)}Tn(e,t){return Tp(e).put(qv(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=il(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Tp(e).Wt({range:s,index:"queryTargetsIndex"},(d,m,w)=>{const I=Eh(m);np(t,I.target)&&(u=I,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=hl(e);return t.forEach(d=>{const m=Wr(d.path);s.push(u.put({targetId:r,path:m})),s.push(this.referenceDelegate.addReference(e,r,d))}),_e.waitFor(s)}removeMatchingKeys(e,t,r){const s=hl(e);return _e.forEach(t,u=>{const d=Wr(u.path);return _e.waitFor([s.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=hl(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=hl(e);let u=Xt();return s.Wt({range:r,jt:!0},(d,m,w)=>{const I=ga(d[1]),T=new We(I);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=Wr(t.path),s=IDBKeyRange.bound([r],[BE(r)],!1,!0);let u=0;return hl(e).Wt({index:"documentTargetsIndex",jt:!0,range:s},([d,m],w,I)=>{0!==d&&(u++,I.done())}).next(()=>u>0)}Et(e,t){return Tp(e).get(t).next(r=>r?Eh(r):null)}}function Tp(n){return Kr(n,"targets")}function Xb(n){return Kr(n,"targetGlobal")}function hl(n){return Kr(n,"targetDocuments")}function Fc(n){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,pe.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==Hv)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),Qm.apply(this,arguments)}function eC([n,e],[t,r]){const s=Bt(n,t);return 0===s?Bt(e,r):s}class $D{constructor(e){this.An=e,this.buffer=new hn(eC),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();eC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FS{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;$e("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,pe.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(s){ul(s)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Fc(s)}yield t.Sn(e)}))}}class t0{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return _e.resolve(es.A);const r=new $D(t);return this.Dn.forEachTarget(e,s=>r.Pn(s.sequenceNumber)).next(()=>this.Dn.xn(e,s=>r.Pn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(Qv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qv):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,s,u,d,m,w,I;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),s=this.params.maximumSequenceNumbersToCollect):s=M,d=Date.now(),this.nthSequenceNumber(e,s))).next(M=>(r=M,m=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(I=Date.now(),dv()<=Gu.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${s} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${M} documents in `+(I-w)+`ms\nTotal Duration: ${I-T}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:M})))}}class tC{constructor(e,t){this.db=e,this.garbageCollector=new t0(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,s)=>t(s))}addReference(e,t,r){return Jm(e,r)}removeReference(e,t,r){return Jm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Jm(e,t)}On(e,t){return function(r,s){let u=!1;return e0(r).zt(d=>Jb(r,d,s).next(m=>(m&&(u=!0),_e.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Mn(e,(d,m)=>{if(m<=t){const w=this.On(e,d).next(I=>{if(!I)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Mt.min()),hl(e).delete([0,Wr(d.path)])))});s.push(w)}}).next(()=>_e.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Jm(e,t)}Mn(e,t){const r=hl(e);let s,u=es.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:I})=>{0===d?(u!==es.A&&t(new We(ga(s)),u),u=I,s=w):u=es.A}).next(()=>{u!==es.A&&t(new We(ga(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jm(n,e){return hl(n).put((r=n.currentSequenceNumber,{targetId:0,path:Wr(e.path),sequenceNumber:r}));var r}class nC{constructor(){this.changes=new ol(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?_e.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rC{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return fl(e).put(r)}removeEntry(e,t,r){return fl(e).delete(function(s,u){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Oc(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=yn.newInvalidDocument(t);return fl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ap(t))},(s,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:yn.newInvalidDocument(t)};return fl(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ap(t))},(s,u)=>{r={document:this.$n(t,u),size:Ym(u)}}).next(()=>r)}getEntries(e,t){let r=no();return this.Ln(e,t,(s,u)=>{const d=this.$n(s,u);r=r.insert(s,d)}).next(()=>r)}Un(e,t){let r=no(),s=new Qn(We.comparator);return this.Ln(e,t,(u,d)=>{const m=this.$n(u,d);r=r.insert(u,m),s=s.insert(u,Ym(d))}).next(()=>({documents:r,qn:s}))}Ln(e,t,r){if(t.isEmpty())return _e.resolve();let s=new hn(s0);t.forEach(w=>s=s.add(w));const u=IDBKeyRange.bound(Ap(s.first()),Ap(s.last())),d=s.getIterator();let m=d.getNext();return fl(e).Wt({index:"documentKeyIndex",range:u},(w,I,T)=>{const M=We.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;m&&s0(m,M)<0;)r(m,null),m=d.getNext();m&&m.isEqual(M)&&(r(m,I),m=d.hasNext()?d.getNext():null),m?T.Ut(Ap(m)):T.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const s=[t.popLast().toArray(),t.lastSegment(),Oc(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fl(e).qt(IDBKeyRange.bound(s,u,!0)).next(d=>{let m=no();for(const w of d){const I=this.$n(We.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);m=m.insert(I.key,I)}return m})}getAllFromCollectionGroup(e,t,r,s){let u=no();const d=r0(t,r),m=r0(t,Xs.max());return fl(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,I,T)=>{const M=this.$n(We.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(M.key,M),u.size===s&&T.done()}).next(()=>u)}newChangeBuffer(e){return new n0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Xm(e).get("remoteDocumentGlobalKey").next(t=>(Ft(!!t),t))}Fn(e,t){return Xm(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function NS(n,e){let t;if(e.document)t=kv(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),s=ll(e.noDocument.readTime);t=yn.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ut();{const r=We.fromSegments(e.unknownDocument.path),s=ll(e.unknownDocument.version);t=yn.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new mn(r[0],r[1]);return Mt.fromTimestamp(s)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Mt.min()))return r}return yn.newInvalidDocument(e)}}class n0 extends nC{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new ol(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new hn((u,d)=>Bt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const w=OD(this.Kn.M,d);s=s.add(u.path.popLast()),r+=Ym(w)-m.size,t.push(this.Kn.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=OD(this.Kn.M,d.convertToNoDocument(Mt.min()));t.push(this.Kn.addEntry(e,u,w))}}),s.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),_e.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:s})=>(s.forEach((u,d)=>{this.Gn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function Xm(n){return Kr(n,"remoteDocumentGlobal")}function fl(n){return Kr(n,"remoteDocumentsV14")}function Ap(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function r0(n,e){const t=e.documentKey.path.toArray();return[n,Oc(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function s0(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=Bt(t[u],r[u]),s)return s;return s=Bt(t.length,r.length),s||(s=Bt(t[t.length-2],r[r.length-2]),s||Bt(t[t.length-1],r[r.length-1]))}class HD{constructor(e){this.M=e}kt(e,t,r,s){const u=new wp("createOrUpgrade",t);var m;r<1&&s>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nb,{unique:!0}),m.createObjectStore("documentMutations"),iC(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=_e.resolve();return r<3&&s>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),iC(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",I)}(u))),r<4&&s>=4&&(0!==r&&(d=d.next(()=>function(m,w){return w.store("mutations").qt().next(I=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Nb,{unique:!0});const T=w.store("mutations"),M=I.map(L=>T.put(L));return _e.waitFor(M)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(d=d.next(()=>this.Qn(u))),r<6&&s>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&s>=7&&(d=d.next(()=>this.Wn(u))),r<8&&s>=8&&(d=d.next(()=>this.zn(e,u))),r<9&&s>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(d=d.next(()=>this.Hn(u))),r<11&&s>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:kS});w.createIndex("collectionPathOverlayIndex",RD,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",kD,{unique:!1})}(e)})),r<13&&s>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:zm});w.createIndex("documentKeyIndex",Vv),w.createIndex("collectionGroupIndex",RS)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:Lb}).createIndex("sequenceNumberIndex",MD,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Bv}).createIndex("documentKeyIndex",jv,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,s)=>{t+=Ym(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(s=>_e.forEach(s,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>_e.forEach(m,w=>{Ft(w.userId===u.userId);const I=cl(this.M,w);return Jv(e,u.userId,I).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.Wt((d,m)=>{const w=new Wt(d),I=[0,Wr(w)];u.push(t.get(I).next(T=>T?_e.resolve():t.put({targetId:0,path:Wr(w),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>_e.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Wm});const r=t.store("collectionParents"),s=new Es,u=d=>{if(s.add(d)){const m=d.lastSegment(),w=d.popLast();return r.put({collectionId:m,parent:Wr(w)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const w=new Wt(d);return u(w.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,w],I)=>{const T=ga(m);return u(T.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,s)=>{const u=Eh(s),d=qv(this.M,u);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),s=[];return r.Wt((u,d)=>{const m=t.store("remoteDocumentsV14"),w=(I=d,I.document?new We(Wt.fromString(I.document.name).popFirst(5)):I.noDocument?We.fromSegments(I.noDocument.path):I.unknownDocument?We.fromSegments(I.unknownDocument.path):ut()).path.toArray();var I;const T={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};s.push(m.put(T))}).next(()=>_e.waitFor(s))}}function iC(n){n.createObjectStore("targetDocuments",{keyPath:xD}).createIndex("documentTargetsIndex",Fb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pb,{unique:!0}),n.createObjectStore("targetGlobal")}const sC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oC{constructor(e,t,r,s,u,d,m,w,I,T,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=d,this.document=m,this.Xn=I,this.Zn=T,this.ts=M,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=L=>Promise.resolve(),!oC.vt())throw new Fe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tC(this,s),this.hs=t+"main",this.M=new ND(w),this.ls=new Lo(this.hs,this.ts,new HD(this.M)),this.fs=new jD(this.referenceDelegate,this.M),this.ds=new rC(this.M),this._s=new PD,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&$n("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(me.FAILED_PRECONDITION,sC);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new es(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,pe.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ey(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(ul(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Ih(e).get("owner").next(t=>_e.resolve(this.Ps(t)))}Vs(e){return ey(e).delete(this.clientId)}vs(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=Kr(r,"clientMetadata");return s.qt().next(u=>{const d=e.Ds(u,18e5),m=u.filter(w=>-1===d.indexOf(w));return _e.forEach(m,w=>s.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?_e.resolve(!0):Ih(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Fe(me.FAILED_PRECONDITION,sC);return!1}}return!(!this.networkEnabled||!this.inForeground)||ey(e).qt().next(r=>void 0===this.Ds(r,5e3).find(s=>{if(this.clientId!==s.clientId){const d=!this.inForeground&&s.inForeground,m=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Gv(t,es.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>ey(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return Xv.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Yv(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Wv.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){$e("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=14===(d=this.ts)?Bb:13===d?Vb:12===d?Ub:11===d?$v:void ut();var d;let m;return this.ls.runTransaction(e,s,u,w=>(m=new Gv(w,this.es?this.es.next():es.A),"readwrite-primary"===t?this.Es(m).next(I=>!!I||this.As(m)).next(I=>{if(!I)throw $n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Fe(me.FAILED_PRECONDITION,Hv);return r(m)}).next(I=>this.bs(m).next(()=>I)):this.$s(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}$s(e){return Ih(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(me.FAILED_PRECONDITION,sC)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ih(e).put("owner",t)}static vt(){return Lo.vt()}Rs(e){const t=Ih(e);return t.get("owner").next(r=>this.Ps(r)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_e.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&($n(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Ot.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return $e("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return $n("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){$n("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ih(n){return Kr(n,"owner")}function ey(n){return Kr(n,"clientMetadata")}function o0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class GD{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(s=>{for(const u of r)u.applyToLocalView(s);return s})}qs(e,t){e.forEach((r,s)=>{for(const u of t)u.applyToLocalView(s)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return We.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.js(e,t.path):nb(t)?this.Ws(e,t,r):this.zs(e,t,r);var s}js(e,t){return this.Ls(e,new We(t)).next(r=>{let s=Mv();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}Ws(e,t,r){const s=t.collectionGroup;let u=Mv();return this.indexManager.getCollectionParents(e,s).next(d=>_e.forEach(d,m=>{const w=(I=t,T=m.child(s),new eu(T,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,T;return this.zs(e,w,r).next(I=>{I.forEach((T,M)=>{u=u.insert(T,M)})})}).next(()=>u))}zs(e,t,r){let s;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(s=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const d of u)for(const m of d.mutations){const w=m.key;let I=s.get(w);null==I&&(I=yn.newInvalidDocument(w),s=s.insert(w,I)),Bm(m,I,d.localWriteTime),I.isFoundDocument()||(s=s.remove(w))}}).next(()=>(s.forEach((u,d)=>{Lm(t,d)||(s=s.remove(u))}),s))}}class aC{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=s}static Ys(e,t){let r=Xt(),s=Xt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new aC(e,t.fromCache,r,s)}}class qD{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,s){return this.ti(e,t).next(u=>u||this.ei(e,t,s,r)).next(u=>u||this.ni(e,t))}ti(e,t){return _e.resolve(null)}ei(e,t,r,s){return function fh(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||s.isEqual(Mt.min())?this.ni(e,t):this.Zs.Ks(e,r).next(u=>{const d=this.si(t,u);return this.ii(t,d,r,s)?this.ni(e,t):(dv()<=Gu.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fm(t)),this.ri(e,d,t,Nm(s,-1)))})}si(e,t){let r=new hn(op(e));return t.forEach((s,u)=>{Lm(e,u)&&(r=r.add(u))}),r}ii(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}ni(e,t){return dv()<=Gu.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",Fm(t)),this.Zs.Qs(e,t,Xs.min())}ri(e,t,r,s){return this.Zs.Qs(e,r,s).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class LS{constructor(e,t,r,s){this.persistence=e,this.oi=t,this.M=s,this.ui=new Qn(Bt),this.ai=new ol(u=>il(u),np),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new GD(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function ZD(n,e,t,r){return new LS(n,e,t,r)}function zD(n,e){return a0.apply(this,arguments)}function a0(){return a0=(0,pe.Z)(function*(n,e){const t=Qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.Bs.getAllMutationBatches(r).next(u=>(s=u,t.li(e),t.Bs.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let w=Xt();for(const I of s){d.push(I.batchId);for(const T of I.mutations)w=w.add(T.key)}for(const I of u){m.push(I.batchId);for(const T of I.mutations)w=w.add(T.key)}return t.fi.Ks(r,w).next(I=>({di:I,removedBatchIds:d,addedBatchIds:m}))})})}),a0.apply(this,arguments)}function ty(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,m,w,I){const T=w.batch,M=T.keys();let L=_e.resolve();return M.forEach(G=>{L=L.next(()=>I.getEntry(m,G)).next(ae=>{const xe=w.docVersions.get(G);Ft(null!==xe),ae.version.compareTo(xe)<0&&(T.applyToRemoteDocument(ae,w),ae.isValidDocument()&&(ae.setReadTime(w.commitVersion),I.addEntry(ae)))})}),L.next(()=>d.Bs.removeMutationBatch(m,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,s))})}function uC(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function WD(n,e){const t=Qe(n),r=e.snapshotVersion;let s=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});s=t.ui;const m=[];e.targetChanges.forEach((I,T)=>{const M=s.get(T);if(!M)return;m.push(t.fs.removeMatchingKeys(u,I.removedDocuments,T).next(()=>t.fs.addMatchingKeys(u,I.addedDocuments,T)));let L=M.withSequenceNumber(u.currentSequenceNumber);var G,ae,xe;e.targetMismatches.has(T)?L=L.withResumeToken(Er.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):I.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(I.resumeToken,r)),s=s.insert(T,L),ae=L,xe=I,(0===(G=M).resumeToken.approximateByteSize()||ae.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(u,L))});let w=no();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,I))}),m.push(u0(u,d,e.documentUpdates).next(I=>{w=I})),!r.isEqual(Mt.min())){const I=t.fs.getLastRemoteSnapshotVersion(u).next(T=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(I)}return _e.waitFor(m).next(()=>d.apply(u)).next(()=>t.fi.Gs(u,w)).next(()=>w)}).then(u=>(t.ui=s,u))}function u0(n,e,t){let r=Xt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=no();return t.forEach((d,m)=>{const w=s.get(d);m.isNoDocument()&&m.version.isEqual(Mt.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!w.isValidDocument()||m.version.compareTo(w.version)>0||0===m.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):$e("LocalStore","Ignoring outdated watch update for ",d,". Current version:",w.version," Watch version:",m.version)}),u})}function Lc(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Uc(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.fs.getTargetData(r,e).next(u=>u?(s=u,_e.resolve(s)):t.fs.allocateTargetId(r).next(d=>(s=new Nc(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.ui.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function pl(n,e,t){return Sp.apply(this,arguments)}function Sp(){return Sp=(0,pe.Z)(function*(n,e,t){const r=Qe(n),s=r.ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!ul(d))throw d;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(s.target)}),Sp.apply(this,arguments)}function ny(n,e,t){const r=Qe(n);let s=Mt.min(),u=Xt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,w,I){const T=Qe(m),M=T.ai.get(I);return void 0!==M?_e.resolve(T.ui.get(M)):T.fs.getTargetData(w,I)}(r,d,eo(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,m.targetId).next(w=>{u=w})}).next(()=>r.oi.Qs(d,e,t?s:Mt.min(),t?u:Xt())).next(m=>(xp(r,Um(e),m),{documents:m,_i:u})))}function ry(n,e){const t=Qe(n),r=Qe(t.fs),s=t.ui.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(d=>d?d.target:null))}function iy(n,e){const t=Qe(n),r=t.ci.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.hi.getAllFromCollectionGroup(s,e,Nm(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(xp(t,e,s),s))}function xp(n,e,t){let r=Mt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ci.set(e,r)}function lC(){return lC=(0,pe.Z)(function*(n,e,t,r){const s=Qe(n);let u=Xt(),d=no();for(const I of t){const T=e.wi(I.metadata.name);I.document&&(u=u.add(T));const M=e.mi(I);M.setReadTime(e.gi(I.metadata.readTime)),d=d.insert(T,M)}const m=s.hi.newChangeBuffer({trackRemovals:!0}),w=yield Uc(s,(I=r,eo(hh(Wt.fromString(`__bundle__/docs/${I}`)))));var I;return s.persistence.runTransaction("Apply bundle documents","readwrite",I=>u0(I,m,d).next(T=>(m.apply(I),T)).next(T=>s.fs.removeMatchingKeysForTargetId(I,w.targetId).next(()=>s.fs.addMatchingKeys(I,u,w.targetId)).next(()=>s.fi.Gs(I,T)).next(()=>T)))}),lC.apply(this,arguments)}function VS(n,e){return cC.apply(this,arguments)}function cC(){return cC=(0,pe.Z)(function*(n,e,t=Xt()){const r=yield Uc(n,eo(Kb(e.bundledQuery))),s=Qe(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const d=zr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return s._s.saveNamedQuery(u,e);const m=r.withResumeToken(Er.EMPTY_BYTE_STRING,d);return s.ui=s.ui.insert(m.targetId,m),s.fs.updateTargetData(u,m).next(()=>s.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.fs.addMatchingKeys(u,t,r.targetId)).next(()=>s._s.saveNamedQuery(u,e))})}),cC.apply(this,arguments)}class dC{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return _e.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:zr(r.createTime)}),_e.resolve()}getNamedQuery(e,t){return _e.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:Kb(r.bundledQuery),readTime:zr(r.readTime)}),_e.resolve();var r}}class KD{constructor(){this.overlays=new Qn(We.comparator),this.Ii=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.Xt(e,t,u)}),_e.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ii.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ii.delete(r)),_e.resolve()}getOverlaysForCollection(e,t,r){const s=hp(),u=t.length+1,d=new We(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,I=w.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&w.largestBatchId>r&&s.set(w.getKey(),w)}return _e.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Qn((I,T)=>I-T);const d=this.overlays.getIterator();for(;d.hasNext();){const I=d.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let T=u.get(I.largestBatchId);null===T&&(T=hp(),u=u.insert(I.largestBatchId,T)),T.set(I.getKey(),I)}}const m=hp(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((I,T)=>m.set(I,T)),!(m.size()>=s)););return _e.resolve(m)}Xt(e,t,r){if(null===r)return;const s=this.overlays.get(r.key);if(null!==s){const d=this.Ii.get(s.largestBatchId).delete(r.key);this.Ii.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Wb(t,r));let u=this.Ii.get(t);void 0===u&&(u=Xt(),this.Ii.set(t,u)),this.Ii.set(t,u.add(r.key))}}class l0{constructor(){this.Ti=new hn(Pr.Ei),this.Ai=new hn(Pr.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Pr(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Pr(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new We(new Wt([])),r=new Pr(t,e),s=new Pr(t,e+1),u=[];return this.Ai.forEachInRange([r,s],d=>{this.Pi(d),u.push(d.key)}),u}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new We(new Wt([])),r=new Pr(t,e),s=new Pr(t,e+1);let u=Xt();return this.Ai.forEachInRange([r,s],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new Pr(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Pr{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return We.comparator(e.key,t.key)||Bt(e.Ci,t.Ci)}static Ri(e,t){return Bt(e.Ci,t.Ci)||We.comparator(e.key,t.key)}}class YD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new hn(Pr.Ei)}checkEmpty(e){return _e.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,s){const u=this.xi;this.xi++;const d=new Zb(u,t,r,s);this.Bs.push(d);for(const m of s)this.Ni=this.Ni.add(new Pr(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return _e.resolve(d)}lookupMutationBatch(e,t){return _e.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Mi(t+1),u=s<0?0:s;return _e.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return _e.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Pr(t,0),s=new Pr(t,Number.POSITIVE_INFINITY),u=[];return this.Ni.forEachInRange([r,s],d=>{const m=this.ki(d.Ci);u.push(m)}),_e.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new hn(Bt);return t.forEach(s=>{const u=new Pr(s,0),d=new Pr(s,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([u,d],m=>{r=r.add(m.Ci)})}),_e.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;We.isDocumentKey(u)||(u=u.child(""));const d=new Pr(new We(u),0);let m=new hn(Bt);return this.Ni.forEachWhile(w=>{const I=w.key.path;return!!r.isPrefixOf(I)&&(I.length===s&&(m=m.add(w.Ci)),!0)},d),_e.resolve(this.Oi(m))}Oi(e){const t=[];return e.forEach(r=>{const s=this.ki(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Ft(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return _e.forEach(t.mutations,s=>{const u=new Pr(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Pr(t,0),s=this.Ni.firstAfterOrEqual(r);return _e.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return _e.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class hC{constructor(e){this.$i=e,this.docs=new Qn(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return _e.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let r=no();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():yn.newInvalidDocument(s))}),_e.resolve(r)}getAllFromCollection(e,t,r){let s=no();const u=new We(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:w}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||KE(pD(w),r)<=0||(s=s.insert(w.key,w.mutableCopy()))}return _e.resolve(s)}getAllFromCollectionGroup(e,t,r,s){ut()}Bi(e,t){return _e.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fC(this)}getSize(e){return _e.resolve(this.size)}}class fC extends nC{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Kn.addEntry(e,s)):this.Kn.removeEntry(r)}),_e.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class pC{constructor(e){this.persistence=e,this.Li=new ol(t=>il(t),np),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new l0,this.targetCount=0,this.Ki=dl.gn()}forEachTarget(e,t){return this.Li.forEach((r,s)=>t(s)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),_e.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new dl(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.Tn(t),_e.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.Li.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Li.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),_e.waitFor(u).next(()=>s)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return _e.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),_e.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(d=>{u.push(s.markPotentiallyOrphaned(e,d))}),_e.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return _e.resolve(r)}containsKey(e,t){return _e.resolve(this.qi.containsKey(t))}}class QD{constructor(e,t){this.Gi={},this.overlays={},this.es=new es(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new pC(this),this.indexManager=new BD,this.ds=new hC(r=>this.referenceDelegate.Qi(r)),this.M=new ND(t),this._s=new dC(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new KD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new YD(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){$e("MemoryPersistence","Starting transaction:",e);const s=new JD(this.es.next());return this.referenceDelegate.ji(),r(s).next(u=>this.referenceDelegate.Wi(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}zi(e,t){return _e.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class JD extends jb{constructor(e){super(),this.currentSequenceNumber=e}}class sy{constructor(e){this.persistence=e,this.Hi=new l0,this.Ji=null}static Yi(e){return new sy(e)}get Xi(){if(this.Ji)return this.Ji;throw ut()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),_e.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),_e.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(s=>this.Xi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Xi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Xi,r=>{const s=We.fromPath(r);return this.Zi(e,s).next(u=>{u||t.removeEntry(s,Mt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return _e.or([()=>_e.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function oy(n,e){return`firestore_clients_${n}_${e}`}function XD(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function ay(n,e){return`firestore_targets_${n}_${e}`}class Dh{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static tr(e,t,r){const s=JSON.parse(r);let u,d="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new Fe(s.error.code,s.error.message))),d?new Dh(e,t,s.state,u):($n("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Fe(r.error.code,r.error.message))),u?new Mp(e,r.state,s):($n("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=$m();for(let d=0;s&&d<r.activeTargetIds.length;++d)s=hD(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return s?new uy(e,u):($n("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gC{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gC(t.clientId,t.onlineState):($n("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mC{constructor(){this.activeTargetIds=$m()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c0{constructor(e,t,r,s,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Qn(Bt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.hr=oy(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new mC),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.Fs();for(const s of t){if(s===e.ir)continue;const u=e.getItem(oy(e.persistenceKey,s));if(u){const d=uy.tr(s,u);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const s=e.pr(r);s&&e.Ir(s)}for(const s of e.cr)e.ur(s);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(ay(this.persistenceKey,e));if(r){const s=Mp.tr(e,r);s&&(t=s.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ay(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Ar(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if($e("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void $n("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const s=t.vr(r.key);return t.Sr(s,null)}{const s=t.Dr(r.key,r.newValue);if(s)return t.Sr(s.clientId,s)}}else if(t._r.test(r.key)){if(null!==r.newValue){const s=t.Cr(r.key,r.newValue);if(s)return t.Nr(s)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const s=t.kr(r.key,r.newValue);if(s)return t.Mr(s)}}else if(r.key===t.mr){if(null!==r.newValue){const s=t.pr(r.newValue);if(s)return t.Ir(s)}}else if(r.key===t.lr){const s=function(u){let d=es.A;if(null!=u)try{const m=JSON.parse(u);Ft("number"==typeof m),d=m}catch(m){$n("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);s!==es.A&&t.sequenceNumberHandler(s)}else if(r.key===t.gr){const s=t.Or(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Fr(u)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const s=new Dh(this.currentUser,e,t,r),u=XD(this.persistenceKey,this.currentUser,e);this.setItem(u,s.er())}Ar(e){const t=XD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const s=ay(this.persistenceKey,e),u=new Mp(e,t,r);this.setItem(s,u.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return uy.tr(r,t)}Cr(e,t){const r=this._r.exec(e),s=Number(r[1]);return Dh.tr(new Or(void 0!==r[2]?r[2]:null),s,t)}kr(e,t){const r=this.wr.exec(e),s=Number(r[1]);return Mp.tr(s,t)}pr(e){return gC.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),s=this.Tr(this.ar),u=this.Tr(r),d=[],m=[];return u.forEach(w=>{s.has(w)||d.push(w)}),s.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.Lr(d,m).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=$m();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class yC{constructor(){this.Ur=new mC,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new mC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BS{Kr(e){}shutdown(){}}class eT{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const jS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $S{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class HS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,s,u){const d=this.ho(e,t);$e("RestConnection","Sending: ",d,r);const m={};return this.lo(m,s,u),this.fo(e,d,m,r).then(w=>($e("RestConnection","Received: ",w),w),w=>{throw Cm("RestConnection",`${e} failed with error: `,w,"url: ",d,"request:",r),w})}_o(e,t,r,s,u){return this.co(e,t,r,s,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}ho(e,t){return`${this.uo}/v1/${t}:${jS[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,s){return new Promise((u,d)=>{const m=new PE;m.listenOnce(kE.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case bm.NO_ERROR:const I=m.getResponseJson();$e("Connection","XHR received:",JSON.stringify(I)),u(I);break;case bm.TIMEOUT:$e("Connection",'RPC "'+e+'" timed out'),d(new Fe(me.DEADLINE_EXCEEDED,"Request time out"));break;case bm.HTTP_ERROR:const T=m.getStatus();if($e("Connection",'RPC "'+e+'" failed with status:',T,"response text:",m.getResponseText()),T>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const L=function(G){const ae=G.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(ae)>=0?ae:me.UNKNOWN}(M.status);d(new Fe(L,M.message))}else d(new Fe(me.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Fe(me.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{$e("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(s);m.send(t,"POST",w,r,15)})}wo(e,t,r){const s=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ME(),d=RE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new OE({})),this.lo(m.initMessageHeaders,t,r),(0,Ot.uI)()||(0,Ot.b$)()||(0,Ot.d)()||(0,Ot.w1)()||(0,Ot.Mn)()||(0,Ot.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const w=s.join("");$e("Connection","Creating WebChannel: "+w,m);const I=u.createWebChannel(w,m);let T=!1,M=!1;const L=new $S({Jr:ae=>{M?$e("Connection","Not sending because WebChannel is closed:",ae):(T||($e("Connection","Opening WebChannel transport."),I.open(),T=!0),$e("Connection","WebChannel sending:",ae),I.send(ae))},Yr:()=>I.close()}),G=(ae,xe,Ne)=>{ae.listen(xe,gt=>{try{Ne(gt)}catch(Ct){setTimeout(()=>{throw Ct},0)}})};return G(I,Yf.EventType.OPEN,()=>{M||$e("Connection","WebChannel transport opened.")}),G(I,Yf.EventType.CLOSE,()=>{M||(M=!0,$e("Connection","WebChannel transport closed"),L.ro())}),G(I,Yf.EventType.ERROR,ae=>{M||(M=!0,Cm("Connection","WebChannel transport errored:",ae),L.ro(new Fe(me.UNAVAILABLE,"The operation could not be completed")))}),G(I,Yf.EventType.MESSAGE,ae=>{var xe;if(!M){const Ne=ae.data[0];Ft(!!Ne);const gt=Ne,Ct=gt.error||(null===(xe=gt[0])||void 0===xe?void 0:xe.error);if(Ct){$e("Connection","WebChannel received error:",Ct);const ct=Ct.status;let rt=function(it){const It=Jn[it];if(void 0!==It)return xv(It)}(ct),St=Ct.message;void 0===rt&&(rt=me.INTERNAL,St="Unknown error status: "+ct+" with message "+Ct.message),M=!0,L.ro(new Fe(rt,St)),I.close()}else $e("Connection","WebChannel received:",Ne),L.oo(Ne)}}),G(d,NE.STAT_EVENT,ae=>{ae.stat===lv.PROXY?$e("Connection","Detected buffering proxy"):ae.stat===lv.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{L.io()},0),L}}function _C(){return"undefined"!=typeof window?window:null}function d0(){return"undefined"!=typeof document?document:null}function ly(n){return new Rv(n,!0)}class vC{constructor(e,t,r=1e3,s=1.5,u=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=s,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),s=Math.max(0,t-r);s>0&&$e("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class tT{constructor(e,t,r,s,u,d,m,w){this.Yn=e,this.Vo=r,this.vo=s,this.So=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new vC(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,pe.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,pe.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===me.RESOURCE_EXHAUSTED?($n(t.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===me.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Do===t&&this.Qo(r,s)},r=>{e(()=>{const s=new Fe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(s)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(s=>{r(()=>this.jo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Oo(){var e=this;this.state=5,this.No.Ro((0,pe.Z)(function*(){e.state=0,e.start()}))}jo(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i extends tT{constructor(e,t,r,s,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.M=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Sb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:ut(),s=e.targetChange.targetIds||[],u=function(w,I){return w.N?(Ft(void 0===I||"string"==typeof I),Er.fromBase64String(I||"")):(Ft(void 0===I||I instanceof Uint8Array),Er.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const I=void 0===w.code?me.UNKNOWN:xv(w.code);return new Fe(I,w.message||"")}(d);t=new vb(r,s,u,m||null)}else if("documentChange"in e){const r=e.documentChange,s=ro(n,r.document.name),u=zr(r.document.updateTime),d=new fi({mapValue:{fields:r.document.fields}}),m=yn.newFoundDocument(s,u,d);t=new Hm(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,s=ro(n,r.document),u=r.readTime?zr(r.readTime):Mt.min(),d=yn.newNoDocument(s,u);t=new Hm([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,s=ro(n,r.document);t=new Hm([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return ut();{const r=e.filter,u=new mb(r.count||0);t=new _b(r.targetId,u)}}var w;return t}(this.M,e),r=function(s){if(!("targetChange"in s))return Mt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?Mt.min():u.readTime?zr(u.readTime):Mt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=yp(this.M),t.addTarget=function(s,u){let d;const m=u.target;return d=rp(m)?{documents:Mb(s,m)}:{query:Ov(s,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=Ib(s,u.resumeToken):u.snapshotVersion.compareTo(Mt.min())>0&&(d.readTime=gh(s,u.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function TD(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=yp(this.M),t.removeTarget=e,this.Lo(t)}}class o extends tT{constructor(e,t,r,s,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.M=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function xb(n,e){return n&&n.length>0?(Ft(void 0!==e),n.map(t=>function(r,s){let u=zr(r.updateTime?r.updateTime:s);return u.isEqual(Mt.min())&&(u=zr(s)),new ub(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=zr(e.commitTime);return this.listener.tu(r,t)}return Ft(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=yp(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>_p(this.M,r))};this.Lo(t)}}class a extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=s,this.su=!1}iu(){if(this.su)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.So.co(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(me.UNKNOWN,s.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.So._o(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(me.UNKNOWN,s.toString())})}terminate(){this.su=!0}}class l{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?($n(t),this.uu=!1):$e("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class h{constructor(e,t,r,s,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.Kr(m=>{r.enqueueAndForget((0,pe.Z)(function*(){var w;Ue(d)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,pe.Z)(function*(I){const T=Qe(I);T.wu.add(4),yield E(T),T.yu.set("Unknown"),T.wu.delete(4),yield p(T)}),function(I){return w.apply(this,arguments)})(d))}))}),this.yu=new l(r,s)}}function p(n){return _.apply(this,arguments)}function _(){return _=(0,pe.Z)(function*(n){if(Ue(n))for(const e of n.mu)yield e(!0)}),_.apply(this,arguments)}function E(n){return b.apply(this,arguments)}function b(){return b=(0,pe.Z)(function*(n){for(const e of n.mu)yield e(!1)}),b.apply(this,arguments)}function S(n,e){const t=Qe(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Ie(t)?re(t):fy(t).Mo()&&P(t,e))}function x(n,e){const t=Qe(n),r=fy(t);t._u.delete(e),r.Mo()&&H(t,e),0===t._u.size&&(r.Mo()?r.$o():Ue(t)&&t.yu.set("Unknown"))}function P(n,e){n.pu.Z(e.targetId),fy(n).Ho(e)}function H(n,e){n.pu.Z(e),fy(n).Jo(e)}function re(n){n.pu=new Gm({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),fy(n).start(),n.yu.au()}function Ie(n){return Ue(n)&&!fy(n).ko()&&n._u.size>0}function Ue(n){return 0===Qe(n).wu.size}function Ze(n){n.pu=void 0}function st(n){return Me.apply(this,arguments)}function Me(){return Me=(0,pe.Z)(function*(n){n._u.forEach((e,t)=>{P(n,e)})}),Me.apply(this,arguments)}function wt(n,e){return qt.apply(this,arguments)}function qt(){return qt=(0,pe.Z)(function*(n,e){Ze(n),Ie(n)?(n.yu.lu(e),re(n)):n.yu.set("Unknown")}),qt.apply(this,arguments)}function rn(n,e,t){return Ti.apply(this,arguments)}function Ti(){return Ti=(0,pe.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof vb&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(s,u){const d=u.cause;for(const m of u.targetIds)s._u.has(m)&&(yield s.remoteSyncer.rejectListen(m,d),s._u.delete(m),s.pu.removeTarget(m))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ya(n,r)}else if(e instanceof Hm?n.pu.ut(e):e instanceof _b?n.pu._t(e):n.pu.ht(e),!t.isEqual(Mt.min()))try{const r=yield uC(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const d=s.pu.yt(u);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const I=s._u.get(w);I&&s._u.set(w,I.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const w=s._u.get(m);if(!w)return;s._u.set(m,w.withResumeToken(Er.EMPTY_BYTE_STRING,w.snapshotVersion)),H(s,m);const I=new Nc(w.target,m,1,w.sequenceNumber);P(s,I)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),yield ya(n,r)}var r}),Ti.apply(this,arguments)}function ya(n,e,t){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,pe.Z)(function*(n,e,t){if(!ul(e))throw e;n.wu.add(1),yield E(n),n.yu.set("Offline"),t||(t=()=>uC(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield p(n)}))}),Rp.apply(this,arguments)}function cy(n,e){return e().catch(t=>ya(n,t,e))}function gl(n){return kp.apply(this,arguments)}function kp(){return kp=(0,pe.Z)(function*(n){const e=Qe(n),t=Th(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;h0(e);)try{const s=yield Lc(e.localStore,r);if(null===s){0===e.du.length&&t.$o();break}r=s.batchId,f0(e,s)}catch(s){yield ya(e,s)}dy(e)&&hy(e)}),kp.apply(this,arguments)}function h0(n){return Ue(n)&&n.du.length<10}function f0(n,e){n.du.push(e);const t=Th(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function dy(n){return Ue(n)&&!Th(n).ko()&&n.du.length>0}function hy(n){Th(n).start()}function p0(n){return nT.apply(this,arguments)}function nT(){return nT=(0,pe.Z)(function*(n){Th(n).nu()}),nT.apply(this,arguments)}function pR(n){return rT.apply(this,arguments)}function rT(){return rT=(0,pe.Z)(function*(n){const e=Th(n);for(const t of n.du)e.Zo(t.mutations)}),rT.apply(this,arguments)}function gR(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=(0,pe.Z)(function*(n,e,t){const r=n.du.shift(),s=zb.from(r,e,t);yield cy(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield gl(n)}),iT.apply(this,arguments)}function mR(n,e){return sT.apply(this,arguments)}function sT(){return sT=(0,pe.Z)(function*(n,e){var t;e&&Th(n).Xo&&(yield(t=(0,pe.Z)(function*(r,s){if(Sv(u=s.code)&&u!==me.ABORTED){const d=r.du.shift();Th(r).Fo(),yield cy(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield gl(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),dy(n)&&hy(n)}),sT.apply(this,arguments)}function GS(n,e){return oT.apply(this,arguments)}function oT(){return oT=(0,pe.Z)(function*(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=Ue(t);t.wu.add(3),yield E(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield p(t)}),oT.apply(this,arguments)}function aT(n,e){return uT.apply(this,arguments)}function uT(){return uT=(0,pe.Z)(function*(n,e){const t=Qe(n);e?(t.wu.delete(2),yield p(t)):e||(t.wu.add(2),yield E(t),t.yu.set("Unknown"))}),uT.apply(this,arguments)}function fy(n){return n.Iu||(n.Iu=function(e,t,r){const s=Qe(e);return s.iu(),new i(t,s.So,s.authCredentials,s.appCheckCredentials,s.M,r)}(n.datastore,n.asyncQueue,{Xr:st.bind(null,n),eo:wt.bind(null,n),zo:rn.bind(null,n)}),n.mu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Iu.Fo(),Ie(n)?re(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Ze(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Th(n){return n.Tu||(n.Tu=function(e,t,r){const s=Qe(e);return s.iu(),new o(t,s.So,s.authCredentials,s.appCheckCredentials,s.M,r)}(n.datastore,n.asyncQueue,{Xr:p0.bind(null,n),eo:mR.bind(null,n),eu:pR.bind(null,n),tu:gR.bind(null,n)}),n.mu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Tu.Fo(),yield gl(n)):(yield n.Tu.stop(),n.du.length>0&&($e("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class lT{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,s,u){const d=Date.now()+r,m=new lT(e,t,d,s,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function py(n,e){if($n("AsyncQueue",`${e}: ${n}`),ul(n))return new Fe(me.UNAVAILABLE,`${e}: ${n}`);throw n}class gy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||We.comparator(t.key,r.key):(t,r)=>We.comparator(t.key,r.key),this.keyedMap=Mv(),this.sortedSet=new Qn(this.comparator)}static emptySet(e){return new gy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new gy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class qS{constructor(){this.Eu=new Qn(We.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ut():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class my{constructor(e,t,r,s,u,d,m,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,s){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new my(e,t,gy.emptySet(t),u,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class yR{constructor(){this.Ru=void 0,this.listeners=[]}}class _R{constructor(){this.queries=new ol(e=>ib(e),sp),this.onlineState="Unknown",this.bu=new Set}}function cT(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,pe.Z)(function*(n,e){const t=Qe(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new yR),s)try{u.Ru=yield t.onListen(r)}catch(d){const m=py(d,`Initialization of query '${Fm(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.Vu(u.Ru)&&pT(t)}),dT.apply(this,arguments)}function hT(n,e){return fT.apply(this,arguments)}function fT(){return fT=(0,pe.Z)(function*(n,e){const t=Qe(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),fT.apply(this,arguments)}function vR(n,e){const t=Qe(n);let r=!1;for(const s of e){const d=t.queries.get(s.query);if(d){for(const m of d.listeners)m.Vu(s)&&(r=!0);d.Ru=s}}r&&pT(t)}function wR(n,e,t){const r=Qe(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function pT(n){n.bu.forEach(e=>{e.next()})}class gT{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new my(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=my.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class ER{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class ZS{constructor(e){this.M=e}wi(e){return ro(this.M,e)}mi(e){return e.metadata.exists?kv(this.M,e.document,!1):yn.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return zr(e)}}class bR{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zS(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Wt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new ZS(this.M);for(const s of e)if(s.metadata.queries){const u=r.wi(s.metadata.name);for(const d of s.metadata.queries){const m=(t.get(d)||Xt()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function US(n,e,t,r){return lC.apply(this,arguments)}(e.localStore,new ZS(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const s of e.queries)yield VS(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function zS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class WS{constructor(e){this.key=e}}class KS{constructor(e){this.key=e}}class YS{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Xt(),this.mutatedKeys=Xt(),this.Gu=op(e),this.Qu=new gy(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new qS,s=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=s,m=!1;const w="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,I="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((T,M)=>{const L=s.get(T),G=Lm(this.query,M)?M:null,ae=!!L&&this.mutatedKeys.has(L.key),xe=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Ne=!1;L&&G?L.data.isEqual(G.data)?ae!==xe&&(r.track({type:3,doc:G}),Ne=!0):this.Hu(L,G)||(r.track({type:2,doc:G}),Ne=!0,(w&&this.Gu(G,w)>0||I&&this.Gu(G,I)<0)&&(m=!0)):!L&&G?(r.track({type:0,doc:G}),Ne=!0):L&&!G&&(r.track({type:1,doc:L}),Ne=!0,(w||I)&&(m=!0)),Ne&&(G?(d=d.add(G),u=xe?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Qu:d,zu:r,ii:m,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((I,T)=>function(M,L){const G=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return G(M)-G(L)}(I.type,T.type)||this.Gu(I.doc,T.doc)),this.Ju(r);const d=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,w=m!==this.qu;return this.qu=m,0!==u.length||w?{snapshot:new my(this.query,e.Qu,s,u,e.mutatedKeys,0===m,w,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new qS,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Xt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new KS(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new WS(r))}),t}ta(e){this.Uu=e._i,this.Ku=Xt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return my.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class CR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class IR{constructor(e){this.key=e,this.na=!1}}class DR{constructor(e,t,r,s,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new ol(m=>ib(m),sp),this.ra=new Map,this.oa=new Set,this.ua=new Qn(We.comparator),this.aa=new Map,this.ca=new l0,this.ha={},this.la=new Map,this.fa=dl.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function TR(n,e){return mT.apply(this,arguments)}function mT(){return mT=(0,pe.Z)(function*(n,e){const t=VT(n);let r,s;const u=t.ia.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.ea();else{const d=yield Uc(t.localStore,eo(e));t.isPrimaryClient&&S(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,s=yield yT(t,e,r,"current"===m)}return s}),mT.apply(this,arguments)}function yT(n,e,t,r){return _T.apply(this,arguments)}function _T(){return _T=(0,pe.Z)(function*(n,e,t,r){n._a=(T,M,L)=>{return(G=(0,pe.Z)(function*(ae,xe,Ne,gt){let Ct=xe.view.Wu(Ne);Ct.ii&&(Ct=yield ny(ae.localStore,xe.query,!1).then(({documents:St})=>xe.view.Wu(St,Ct)));const ct=gt&&gt.targetChanges.get(xe.targetId),rt=xe.view.applyChanges(Ct,ae.isPrimaryClient,ct);return ST(ae,xe.targetId,rt.Xu),rt.snapshot}),function(ae,xe,Ne,gt){return G.apply(this,arguments)})(n,T,M,L);var G};const s=yield ny(n.localStore,e,!0),u=new YS(e,s._i),d=u.Wu(s.documents),m=nu.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=u.applyChanges(d,n.isPrimaryClient,m);ST(n,t,w.Xu);const I=new CR(e,t,u);return n.ia.set(e,I),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),w.snapshot}),_T.apply(this,arguments)}function AR(n,e){return vT.apply(this,arguments)}function vT(){return vT=(0,pe.Z)(function*(n,e){const t=Qe(n),r=t.ia.get(e),s=t.ra.get(r.targetId);if(s.length>1)return t.ra.set(r.targetId,s.filter(u=>!sp(u,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pl(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),x(t.remoteStore,r.targetId),yy(t,r.targetId)}).catch(Fc))):(yy(t,r.targetId),yield pl(t.localStore,r.targetId,!0))}),vT.apply(this,arguments)}function wT(){return wT=(0,pe.Z)(function*(n,e,t){const r=BT(n);try{const s=yield function(u,d){const m=Qe(u),w=mn.now(),I=d.reduce((M,L)=>M.add(L.key),Xt());let T;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.fi.Ks(M,I).next(L=>{T=L;const G=[];for(const ae of d){const xe=cb(ae,T.get(ae.key));null!=xe&&G.push(new Rc(ae.key,xe,Mm(xe.value.mapValue),Cr.exists(!0)))}return m.Bs.addMutationBatch(M,w,G,d)})).then(M=>(M.applyToLocalDocumentSet(T),{batchId:M.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,m){let w=u.ha[u.currentUser.toKey()];w||(w=new Qn(Bt)),w=w.insert(d,m),u.ha[u.currentUser.toKey()]=w}(r,s.batchId,t),yield Vc(r,s.changes),yield gl(r.remoteStore)}catch(s){const u=py(s,"Failed to persist write");t.reject(u)}}),wT.apply(this,arguments)}function QS(n,e){return ET.apply(this,arguments)}function ET(){return ET=(0,pe.Z)(function*(n,e){const t=Qe(n);try{const r=yield WD(t.localStore,e);e.targetChanges.forEach((s,u)=>{const d=t.aa.get(u);d&&(Ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.na=!0:s.modifiedDocuments.size>0?Ft(d.na):s.removedDocuments.size>0&&(Ft(d.na),d.na=!1))}),yield Vc(t,r,e)}catch(r){yield Fc(r)}}),ET.apply(this,arguments)}function JS(n,e,t){const r=Qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ia.forEach((u,d)=>{const m=d.view.Pu(e);m.snapshot&&s.push(m.snapshot)}),function(u,d){const m=Qe(u);m.onlineState=d;let w=!1;m.queries.forEach((I,T)=>{for(const M of T.listeners)M.Pu(d)&&(w=!0)}),w&&pT(m)}(r.eventManager,e),s.length&&r.sa.zo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xR(n,e,t){return bT.apply(this,arguments)}function bT(){return bT=(0,pe.Z)(function*(n,e,t){const r=Qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.aa.get(e),u=s&&s.key;if(u){let d=new Qn(We.comparator);d=d.insert(u,yn.newNoDocument(u,Mt.min()));const m=Xt().add(u),w=new al(Mt.min(),new Map,new hn(Bt),d,m);yield QS(r,w),r.ua=r.ua.remove(u),r.aa.delete(e),xT(r)}else yield pl(r.localStore,e,!1).then(()=>yy(r,e,t)).catch(Fc)}),bT.apply(this,arguments)}function MR(n,e){return CT.apply(this,arguments)}function CT(){return CT=(0,pe.Z)(function*(n,e){const t=Qe(n),r=e.batch.batchId;try{const s=yield ty(t.localStore,e);AT(t,r,null),TT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vc(t,s)}catch(s){yield Fc(s)}}),CT.apply(this,arguments)}function RR(n,e,t){return IT.apply(this,arguments)}function IT(){return IT=(0,pe.Z)(function*(n,e,t){const r=Qe(n);try{const s=yield function(u,d){const m=Qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let I;return m.Bs.lookupMutationBatch(w,d).next(T=>(Ft(null!==T),I=T.keys(),m.Bs.removeMutationBatch(w,T))).next(()=>m.Bs.performConsistencyCheck(w)).next(()=>m.fi.Ks(w,I))})}(r.localStore,e);AT(r,e,t),TT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vc(r,s)}catch(s){yield Fc(s)}}),IT.apply(this,arguments)}function DT(){return DT=(0,pe.Z)(function*(n,e){const t=Qe(n);Ue(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=Qe(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const s=t.la.get(r)||[];s.push(e),t.la.set(r,s)}catch(r){const s=py(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),DT.apply(this,arguments)}function TT(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function AT(n,e,t){const r=Qe(n);let s=r.ha[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.ha[r.currentUser.toKey()]=s}}function yy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||XS(n,r)})}function XS(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(x(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),xT(n))}function ST(n,e,t){for(const r of t)r instanceof WS?(n.ca.addReference(r.key,e),NR(n,r)):r instanceof KS?($e("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||XS(n,r.key)):ut()}function NR(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||($e("SyncEngine","New document in limbo: "+t),n.oa.add(r),xT(n))}function xT(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new We(Wt.fromString(e)),r=n.fa.next();n.aa.set(r,new IR(t)),n.ua=n.ua.insert(t,r),S(n.remoteStore,new Nc(eo(hh(t.path)),r,2,es.A))}}function Vc(n,e,t){return MT.apply(this,arguments)}function MT(){return MT=(0,pe.Z)(function*(n,e,t){const r=Qe(n),s=[],u=[],d=[];var m;r.ia.isEmpty()||(r.ia.forEach((m,w)=>{d.push(r._a(w,e,t).then(I=>{if(I){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,I.fromCache?"not-current":"current"),s.push(I);const T=aC.Ys(w.targetId,I);u.push(T)}}))}),yield Promise.all(d),r.sa.zo(s),yield(m=(0,pe.Z)(function*(w,I){const T=Qe(w);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>_e.forEach(I,L=>_e.forEach(L.Hs,G=>T.persistence.referenceDelegate.addReference(M,L.targetId,G)).next(()=>_e.forEach(L.Js,G=>T.persistence.referenceDelegate.removeReference(M,L.targetId,G)))))}catch(M){if(!ul(M))throw M;$e("LocalStore","Failed to update sequence numbers: "+M)}for(const M of I){const L=M.targetId;if(!M.fromCache){const G=T.ui.get(L),xe=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);T.ui=T.ui.insert(L,xe)}}}),function(w,I){return m.apply(this,arguments)})(r.localStore,u))}),MT.apply(this,arguments)}function OR(n,e){return RT.apply(this,arguments)}function RT(){return RT=(0,pe.Z)(function*(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=yield zD(t.localStore,e);t.currentUser=e,(s=t).la.forEach(d=>{d.forEach(m=>{m.reject(new Fe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vc(t,r.di)}var s}),RT.apply(this,arguments)}function PR(n,e){const t=Qe(n),r=t.aa.get(e);if(r&&r.na)return Xt().add(r.key);{let s=Xt();const u=t.ra.get(e);if(!u)return s;for(const d of u){const m=t.ia.get(d);s=s.unionWith(m.view.ju)}return s}}function FR(n,e){return kT.apply(this,arguments)}function kT(){return kT=(0,pe.Z)(function*(n,e){const t=Qe(n),r=yield ny(t.localStore,e.query,!0),s=e.view.ta(r);return t.isPrimaryClient&&ST(t,e.targetId,s.Xu),s}),kT.apply(this,arguments)}function LR(n,e){return NT.apply(this,arguments)}function NT(){return NT=(0,pe.Z)(function*(n,e){const t=Qe(n);return iy(t.localStore,e).then(r=>Vc(t,r))}),NT.apply(this,arguments)}function UR(n,e,t,r){return OT.apply(this,arguments)}function OT(){return OT=(0,pe.Z)(function*(n,e,t,r){const s=Qe(n),u=yield function(d,m){const w=Qe(d),I=Qe(w.Bs);return w.persistence.runTransaction("Lookup mutation documents","readonly",T=>I.fn(T,m).next(M=>M?w.fi.Ks(T,M):_e.resolve(null)))}(s.localStore,e);var m;null!==u?("pending"===t?yield gl(s.remoteStore):"acknowledged"===t||"rejected"===t?(AT(s,e,r||null),TT(s,e),m=e,Qe(Qe(s.localStore).Bs)._n(m)):ut(),yield Vc(s,u)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),OT.apply(this,arguments)}function PT(){return PT=(0,pe.Z)(function*(n,e){const t=Qe(n);if(VT(t),BT(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield ex(t,r.toArray());t.da=!0,yield aT(t.remoteStore,!0);for(const u of s)S(t.remoteStore,u)}else if(!1===e&&!1!==t.da){const r=[];let s=Promise.resolve();t.ra.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):s=s.then(()=>(yy(t,d),pl(t.localStore,d,!0))),x(t.remoteStore,d)}),yield s,yield ex(t,r),function(u){const d=Qe(u);d.aa.forEach((m,w)=>{x(d.remoteStore,w)}),d.ca.Si(),d.aa=new Map,d.ua=new Qn(We.comparator)}(t),t.da=!1,yield aT(t.remoteStore,!1)}}),PT.apply(this,arguments)}function ex(n,e,t){return FT.apply(this,arguments)}function FT(){return FT=(0,pe.Z)(function*(n,e,t){const r=Qe(n),s=[],u=[];for(const d of e){let m;const w=r.ra.get(d);if(w&&0!==w.length){m=yield Uc(r.localStore,eo(w[0]));for(const I of w){const T=r.ia.get(I),M=yield FR(r,T);M.snapshot&&u.push(M.snapshot)}}else{const I=yield ry(r.localStore,d);m=yield Uc(r.localStore,I),yield yT(r,tx(I),d,!1)}s.push(m)}return r.sa.zo(u),s}),FT.apply(this,arguments)}function tx(n){return ip(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function BR(n){const e=Qe(n);return Qe(Qe(e.localStore).persistence).Fs()}function jR(n,e,t,r){return LT.apply(this,arguments)}function LT(){return LT=(0,pe.Z)(function*(n,e,t,r){const s=Qe(n);if(s.da)return void $e("SyncEngine","Ignoring unexpected query state notification.");const u=s.ra.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield iy(s.localStore,Um(u[0])),m=al.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Vc(s,d,m);break}case"rejected":yield pl(s.localStore,e,!0),yy(s,e,r);break;default:ut()}}),LT.apply(this,arguments)}function $R(n,e,t){return UT.apply(this,arguments)}function UT(){return UT=(0,pe.Z)(function*(n,e,t){const r=VT(n);if(r.da){for(const s of e){if(r.ra.has(s)){$e("SyncEngine","Adding an already active target "+s);continue}const u=yield ry(r.localStore,s),d=yield Uc(r.localStore,u);yield yT(r,tx(u),d.targetId,!1),S(r.remoteStore,d)}for(const s of t)r.ra.has(s)&&(yield pl(r.localStore,s,!1).then(()=>{x(r.remoteStore,s),yy(r,s)}).catch(Fc))}}),UT.apply(this,arguments)}function VT(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=QS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xR.bind(null,e),e.sa.zo=vR.bind(null,e.eventManager),e.sa.wa=wR.bind(null,e.eventManager),e}function BT(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RR.bind(null,e),e}class nx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.M=ly(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return ZD(this.persistence,new qD,e.initialUser,this.M)}ya(e){return new QD(sy.Yi,this.M)}ga(e){return new yC}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class rx extends nx{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield BT(r.Ta.syncEngine),yield gl(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return ZD(this.persistence,new qD,e.initialUser,this.M)}pa(e){return new FS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=o0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ts.withCacheSize(this.cacheSizeBytes):ts.DEFAULT;return new oC(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,_C(),d0(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new yC}}class GR extends rx{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const s=r.Ta.syncEngine;r.sharedClientState instanceof c0&&(r.sharedClientState.syncEngine={$r:UR.bind(null,s),Br:jR.bind(null,s),Lr:$R.bind(null,s),Fs:BR.bind(null,s),Fr:LR.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,pe.Z)(function*(d){yield function VR(n,e){return PT.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}ga(e){const t=_C();if(!c0.vt(t))throw new Fe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=o0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new c0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class jT{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>JS(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=OR.bind(null,r.syncEngine),yield aT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _R}createDatastore(e){const t=ly(e.databaseInfo.databaseId),r=new HS(e.databaseInfo);return new a(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=m=>JS(this.syncEngine,m,0),d=eT.vt()?new eT:new BS,new h(t,r,s,u,d);var t,r,s,u,d}createSyncEngine(e,t){return function(r,s,u,d,m,w,I){const T=new DR(r,s,u,d,m,w);return I&&(T.da=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=Qe(t);$e("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield E(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ix(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class wC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class qR{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Yn,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),s=Number(r);isNaN(s)&&e.va(`length string (${r}) is not valid number`);const u=yield e.Sa(s);return new ER(JSON.parse(u),t.length+s)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,pe.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class ZR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,pe.Z)(function*(u,d){const m=Qe(u),w=yp(m.M)+"/documents",I={documents:d.map(G=>mh(m.M,G))},T=yield m._o("BatchGetDocuments",w,I),M=new Map;T.forEach(G=>{const ae=function Nv(n,e){return"found"in e?function(t,r){Ft(!!r.found);const s=ro(t,r.found.name),u=zr(r.found.updateTime),d=new fi({mapValue:{fields:r.found.fields}});return yn.newFoundDocument(s,u,d)}(n,e):"missing"in e?function(t,r){Ft(!!r.missing),Ft(!!r.readTime);const s=ro(t,r.missing),u=zr(r.readTime);return yn.newNoDocument(s,u)}(n,e):ut()}(m.M,G);M.set(ae.key.toString(),ae)});const L=[];return d.forEach(G=>{const ae=M.get(G.toString());Ft(!!ae),L.push(ae)}),L}),function(u,d){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new tu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=We.fromPath(s);e.mutations.push(new jm(u,e.precondition(u)))}),yield(r=(0,pe.Z)(function*(s,u){const d=Qe(s),m=yp(d.M)+"/documents",w={writes:u.map(I=>_p(d.M,I))};yield d.co("Commit",m,w)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ut();t=Mt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Cr.updateTime(t):Cr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new Fe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cr.updateTime(t)}return Cr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class zR{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.xa=r.maxAttempts,this.No=new vC(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,pe.Z)(function*(){const t=new ZR(e.datastore),r=e.ka(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Ma(u)}))}).catch(s=>{e.Ma(s)})}))}ka(e){try{const t=this.updateFunction(e);return!Sm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Sv(t)}return!1}}class WR{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Or.UNAUTHENTICATED,this.clientId=hv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,pe.Z)(function*(m){$e("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>($e("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=py(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function sx(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,pe.Z)(function*(u){r.isEqual(u)||(yield zD(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),$T.apply(this,arguments)}function ox(n,e){return HT.apply(this,arguments)}function HT(){return HT=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield GT(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>GS(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>GS(e.remoteStore,u)),n.onlineComponents=e}),HT.apply(this,arguments)}function GT(n){return qT.apply(this,arguments)}function qT(){return qT=(0,pe.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield sx(n,new nx)),n.offlineComponents}),qT.apply(this,arguments)}function EC(n){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,pe.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield ox(n,new jT)),n.onlineComponents}),ZT.apply(this,arguments)}function ax(n){return GT(n).then(e=>e.persistence)}function zT(n){return GT(n).then(e=>e.localStore)}function ux(n){return EC(n).then(e=>e.remoteStore)}function WT(n){return EC(n).then(e=>e.syncEngine)}function _y(n){return KT.apply(this,arguments)}function KT(){return KT=(0,pe.Z)(function*(n){const e=yield EC(n),t=e.eventManager;return t.onListen=TR.bind(null,e.syncEngine),t.onUnlisten=AR.bind(null,e.syncEngine),t}),KT.apply(this,arguments)}function lx(n,e,t={}){const r=new Yn;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(s,u,d,m,w){const I=new wC({next:M=>{u.enqueueAndForget(()=>hT(s,T));const L=M.docs.has(d);!L&&M.fromCache?w.reject(new Fe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&M.fromCache&&m&&"server"===m.source?w.reject(new Fe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(M)},error:M=>w.reject(M)}),T=new gT(hh(d.path),I,{includeMetadataChanges:!0,ku:!0});return cT(s,T)}(yield _y(n),n.asyncQueue,e,t,r)})),r.promise}function cx(n,e,t={}){const r=new Yn;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(s,u,d,m,w){const I=new wC({next:M=>{u.enqueueAndForget(()=>hT(s,T)),M.fromCache&&"server"===m.source?w.reject(new Fe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(M)},error:M=>w.reject(M)}),T=new gT(d,I,{includeMetadataChanges:!0,ku:!0});return cT(s,T)}(yield _y(n),n.asyncQueue,e,t,r)})),r.promise}const dx=new Map;function YT(n,e,t){if(!t)throw new Fe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hx(n,e,t,r){if(!0===e&&!0===r)throw new Fe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fx(n){if(!We.isDocumentKey(n))throw new Fe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function px(n){if(We.isDocumentKey(n))throw new Fe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ut()}function Jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bC(n);throw new Fe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gx(n,e){if(e<=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class mx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class g0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mx({}),this._settingsFrozen=!1,e instanceof Qa?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Fe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(s.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Dm;switch(t.type){case"gapi":const r=t.client;return Ft(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new LE(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dx.get(e);t&&($e("ComponentProvider","Removing Datastore"),dx.delete(e),t.terminate())}(this),Promise.resolve()}}class On{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class ns{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class ml extends ns{constructor(e,t,r){super(e,t,hh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new We(e))}withConverter(e){return new ml(this.firestore,e,this._path)}}function yx(n,e,...t){if(n=(0,Ot.m9)(n),YT("collection","path",e),n instanceof g0){const r=Wt.fromString(e,...t);return px(r),new ml(n,null,r)}{if(!(n instanceof On||n instanceof ml))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return px(r),new ml(n.firestore,null,r)}}function CC(n,e,...t){if(n=(0,Ot.m9)(n),1===arguments.length&&(e=hv.R()),YT("doc","path",e),n instanceof g0){const r=Wt.fromString(e,...t);return fx(r),new On(n,null,new We(r))}{if(!(n instanceof On||n instanceof ml))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return fx(r),new On(n.firestore,n instanceof ml?n.converter:null,new We(r))}}function _x(n,e){return n=(0,Ot.m9)(n),e=(0,Ot.m9)(e),(n instanceof On||n instanceof ml)&&(e instanceof On||e instanceof ml)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function vx(n,e){return n=(0,Ot.m9)(n),e=(0,Ot.m9)(e),n instanceof ns&&e instanceof ns&&n.firestore===e.firestore&&sp(n._query,e._query)&&n.converter===e.converter}class sk{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new vC(this,"async_queue_retry"),this.Qa=()=>{const t=d0();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=d0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=d0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Yn;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,pe.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!ul(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,$n("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const s=lT.createAndSchedule(this,e,t,r,u=>this.Ha(u));return this.La.push(s),s}ja(){this.Ua&&ut()}verifyOperationInProgress(){}Ja(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function QT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class ok{constructor(){this._progressObserver={},this._taskCompletionResolver=new Yn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Gn extends g0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new sk,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||wx(this),this._firestoreClient.terminate()}}function Fr(n){return n._firestoreClient||wx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function wx(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new dD(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new WR(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Ex(n,e,t){const r=new Yn;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield sx(n,t),yield ox(n,e),r.resolve()}catch(s){if(!("FirebaseError"===(u=s).name?u.code===me.FAILED_PRECONDITION||u.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var u})).then(()=>r.promise)}function bx(n){if(n._initialized||n._terminated)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Bc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(Er.fromBase64String(e))}catch(t){throw new Fe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yl(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Np{constructor(e){this._methodName=e}}class IC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const mk=/^__.*__$/;class yk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Rc(e,this.data,this.fieldMask,t,this.fieldTransforms):new dp(e,this.data,t,this.fieldTransforms)}}class Cx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Rc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ix(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class DC{constructor(e,t,r,s,u,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=s,void 0===u&&this.tc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new DC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.nc({path:r,ic:!1});return s.rc(e),s}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.nc({path:r,ic:!1});return s.tc(),s}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return SC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(Ix(this.ec)&&mk.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class _k{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||ly(e)}lc(e,t,r,s=!1){return new DC({ec:e,methodName:t,hc:r,path:wr.emptyPath(),ic:!1,cc:s},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Op(n){const e=n._freezeSettings(),t=ly(n._databaseId);return new _k(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TC(n,e,t,r,s,u={}){const d=n.lc(u.merge||u.mergeFields?2:0,e,t,s);tA("Data must be an object, but it was:",d,r);const m=Ax(r,d);let w,I;if(u.merge)w=new ha(d.fieldMask),I=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const M of u.mergeFields){const L=nA(e,M,t);if(!d.contains(L))throw new Fe(me.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);xx(T,L)||T.push(L)}w=new ha(T),I=d.fieldTransforms.filter(M=>w.covers(M.field))}else w=null,I=d.fieldTransforms;return new yk(new fi(m),w,I)}class m0 extends Np{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof m0}}function Dx(n,e,t){return new DC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class JT extends Np{_toFieldTransform(e){return new lp(e.path,new up)}isEqual(e){return e instanceof JT}}class vk extends Np{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Dx(this,e,!0),r=this.fc.map(u=>Pp(u,t)),s=new Mc(r);return new lp(e.path,s)}isEqual(e){return this===e}}class wk extends Np{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Dx(this,e,!0),r=this.fc.map(u=>Pp(u,t)),s=new to(r);return new lp(e.path,s)}isEqual(e){return this===e}}class Ek extends Np{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Po(e.M,Iv(e.M,this.dc));return new lp(e.path,t)}isEqual(e){return this===e}}function XT(n,e,t,r){const s=n.lc(1,e,t);tA("Data must be an object, but it was:",s,r);const u=[],d=fi.empty();bc(r,(w,I)=>{const T=AC(e,w,t);I=(0,Ot.m9)(I);const M=s.oc(T);if(I instanceof m0)u.push(T);else{const L=Pp(I,M);null!=L&&(u.push(T),d.set(T,L))}});const m=new ha(u);return new Cx(d,m,s.fieldTransforms)}function eA(n,e,t,r,s,u){const d=n.lc(1,e,t),m=[nA(e,r,t)],w=[s];if(u.length%2!=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let L=0;L<u.length;L+=2)m.push(nA(e,u[L])),w.push(u[L+1]);const I=[],T=fi.empty();for(let L=m.length-1;L>=0;--L)if(!xx(I,m[L])){const G=m[L];let ae=w[L];ae=(0,Ot.m9)(ae);const xe=d.oc(G);if(ae instanceof m0)I.push(G);else{const Ne=Pp(ae,xe);null!=Ne&&(I.push(G),T.set(G,Ne))}}const M=new ha(I);return new Cx(T,M,d.fieldTransforms)}function Tx(n,e,t,r=!1){return Pp(t,n.lc(r?4:3,e))}function Pp(n,e){if(Sx(n=(0,Ot.m9)(n)))return tA("Unsupported field value:",e,n),Ax(n,e);if(n instanceof Np)return function(t,r){if(!Ix(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const d of t){let m=Pp(d,r.uc(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Ot.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Iv(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=mn.fromDate(t);return{timestampValue:gh(r.M,s)}}if(t instanceof mn){const s=new mn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:gh(r.M,s)}}if(t instanceof IC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof yl)return{bytesValue:Ib(r.M,t._byteString)};if(t instanceof On){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r.ac(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:gp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${bC(t)}`)}(n,e)}function Ax(n,e){const t={};return Qf(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bc(n,(r,s)=>{const u=Pp(s,e.sc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Sx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof mn||n instanceof IC||n instanceof yl||n instanceof On||n instanceof Np)}function tA(n,e,t){if(!Sx(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=bC(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function nA(n,e,t){if((e=(0,Ot.m9)(e))instanceof Bc)return e._internalPath;if("string"==typeof e)return AC(n,e);throw SC("Field path arguments must be of type string or ",n,!1,void 0,t)}const bk=new RegExp("[~\\*/\\[\\]]");function AC(n,e,t){if(e.search(bk)>=0)throw SC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bc(...e.split("."))._internalPath}catch(r){throw SC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function SC(n,e,t,r,s){const u=r&&!r.isEmpty(),d=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||d)&&(w+=" (found",u&&(w+=` in field ${r}`),d&&(w+=` in document ${s}`),w+=")"),new Fe(me.INVALID_ARGUMENT,m+n+w)}function xx(n,e){return n.some(t=>t.isEqual(e))}class y0{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ck(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ck extends y0{data(){return super.data()}}function xC(n,e){return"string"==typeof e?AC(n,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}class Fp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jc extends y0{constructor(e,t,r,s,u,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _0 extends jc{data(e={}){return super.data(e)}}class Ah{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Fp(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _0(this._firestore,this._userDataWriter,r.key,r,new Fp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new _0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Fp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const m=new _0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Fp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,I=-1;return 0!==d.type&&(w=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),I=u.indexOf(d.doc.key)),{type:Ik(d.type),doc:m,oldIndex:w,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Ik(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function Mx(n,e){return n instanceof jc&&e instanceof jc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ah&&e instanceof Ah&&n._firestore===e._firestore&&vx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Rx(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v0{}function Sh(n,...e){for(const t of e)n=t._apply(n);return n}class Dk extends v0{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Op(e.firestore),r=function(s,u,d,m,w,I,T){let M;if(w.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){Lx(T,I);const G=[];for(const ae of T)G.push(Fx(m,s,ae));M={arrayValue:{values:G}}}else M=Fx(m,s,T)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||Lx(T,I),M=Tx(d,"where",T,"in"===I||"not-in"===I);const L=br.create(w,I,M);return function(G,ae){if(ae.S()){const Ne=bv(G);if(null!==Ne&&!Ne.isEqual(ae.field))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ne.toString()}' and '${ae.field.toString()}'`);const gt=Sc(G);null!==gt&&Ux(0,ae.field,gt)}const xe=function(Ne,gt){for(const Ct of Ne.filters)if(gt.indexOf(Ct.op)>=0)return Ct.op;return null}(G,function(Ne){switch(Ne){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ae.op));if(null!==xe)throw new Fe(me.INVALID_ARGUMENT,xe===ae.op?`Invalid query. You cannot use more than one '${ae.op.toString()}' filter.`:`Invalid query. You cannot use '${ae.op.toString()}' filters with '${xe.toString()}' filters.`)}(s,L),L}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new ns(e.firestore,e.converter,function(s,u){const d=s.filters.concat([u]);return new eu(s.path,s.collectionGroup,s.explicitOrderBy.slice(),d,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class Ak extends v0{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Ac(s,u);return function(m,w){if(null===Sc(m)){const I=bv(m);null!==I&&Ux(0,I,w.field)}}(r,d),d}(e._query,this._c,this.gc);return new ns(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new eu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class kx extends v0{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new ns(e.firestore,e.converter,rb(e._query,this.yc,this.Ic))}}class Nx extends v0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=Px(e,this.type,this.Tc,this.Ec);return new ns(e.firestore,e.converter,(s=t,new eu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class Ox extends v0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=Px(e,this.type,this.Tc,this.Ec);return new ns(e.firestore,e.converter,(s=t,new eu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function Px(n,e,t,r){if(t[0]=(0,Ot.m9)(t[0]),t[0]instanceof y0)return function(s,u,d,m,w){if(!m)throw new Fe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const I=[];for(const T of xc(s))if(T.field.isKeyField())I.push(Dc(u,m.key));else{const M=m.data.field(T.field);if(Am(M))throw new Fe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const L=T.field.canonicalString();throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${L}' (used as the orderBy) does not exist.`)}I.push(M)}return new sl(I,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Op(n.firestore);return function(u,d,m,w,I,T){const M=u.explicitOrderBy;if(I.length>M.length)throw new Fe(me.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const L=[];for(let G=0;G<I.length;G++){const ae=I[G];if(M[G].field.isKeyField()){if("string"!=typeof ae)throw new Fe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ae}`);if(!nb(u)&&-1!==ae.indexOf("/"))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${ae}' contains a slash.`);const xe=u.path.child(Wt.fromString(ae));if(!We.isDocumentKey(xe))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${xe}' is not because it contains an odd number of segments.`);const Ne=new We(xe);L.push(Dc(d,Ne))}else{const xe=Tx(m,w,ae);L.push(xe)}}return new sl(L,T)}(n._query,n.firestore._databaseId,s,e,t,r)}}function Fx(n,e,t){if("string"==typeof(t=(0,Ot.m9)(t))){if(""===t)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nb(e)&&-1!==t.indexOf("/"))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Wt.fromString(t));if(!We.isDocumentKey(r))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dc(n,new We(r))}if(t instanceof On)return Dc(n,t._key);throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bC(t)}.`)}function Lx(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ux(n,e,t){if(!t.isEqual(e))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Pk={maxAttempts:5};class rA{convertValue(e,t="none"){switch(Ic(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ut()}}convertObject(e,t){const r={};return bc(e.fields,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new IC(Nn(e.latitude),Nn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=HE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ah(e));default:return null}}convertTimestamp(e){const t=nl(e);return new mn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);Ft(kb(r));const s=new Qa(r.get(1),r.get(3)),u=new We(r.popFirst(5));return s.isEqual(t)||$n(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function MC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Fk extends rA{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}class Vx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Op(e)}set(e,t,r){this._verifyNotCommitted();const s=xh(e,this._firestore),u=MC(s.converter,t,r),d=TC(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(d.toMutation(s._key,Cr.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=xh(e,this._firestore);let d;return d="string"==typeof(t=(0,Ot.m9)(t))||t instanceof Bc?eA(this._dataReader,"WriteBatch.update",u._key,t,r,s):XT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,Cr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xh(e,this._firestore);return this._mutations=this._mutations.concat(new tu(t._key,Cr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xh(n,e){if((n=(0,Ot.m9)(n)).firestore!==e)throw new Fe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lp extends rA{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function Bx(n,e,t){n=Jt(n,On);const r=Jt(n.firestore,Gn),s=MC(n.converter,e,t);return vy(r,[TC(Op(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Cr.none())])}function jx(n,e,t,...r){n=Jt(n,On);const s=Jt(n.firestore,Gn),u=Op(s);let d;return d="string"==typeof(e=(0,Ot.m9)(e))||e instanceof Bc?eA(u,"updateDoc",n._key,e,t,r):XT(u,"updateDoc",n._key,e),vy(s,[d.toMutation(n._key,Cr.exists(!0))])}function $x(n,...e){var t,r,s;n=(0,Ot.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||QT(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(QT(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(s=M.complete)||void 0===s?void 0:s.bind(M)}let w,I,T;if(n instanceof On)I=Jt(n.firestore,Gn),T=hh(n._key.path),w={next:M=>{e[d]&&e[d](iA(I,n,M))},error:e[d+1],complete:e[d+2]};else{const M=Jt(n,ns);I=Jt(M.firestore,Gn),T=M._query;const L=new Lp(I);w={next:G=>{e[d]&&e[d](new Ah(I,L,M,G))},error:e[d+1],complete:e[d+2]},Rx(n._query)}return function(M,L,G,ae){const xe=new wC(ae),Ne=new gT(L,xe,G);return M.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return cT(yield _y(M),Ne)})),()=>{xe.Aa(),M.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return hT(yield _y(M),Ne)}))}}(Fr(I),T,m,w)}function vy(n,e){return function(t,r){const s=new Yn;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function SR(n,e,t){return wT.apply(this,arguments)}(yield WT(t),r,s)})),s.promise}(Fr(n),e)}function iA(n,e,t){const r=t.docs.get(e._key),s=new Lp(n);return new jc(n,s,e._key,r,new Fp(t.hasPendingWrites,t.fromCache),e.converter)}class Zk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Op(e)}get(e){const t=xh(e,this._firestore),r=new Fk(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return ut();const u=s[0];if(u.isFoundDocument())return new y0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new y0(this._firestore,r,t._key,null,t.converter);throw ut()})}set(e,t,r){const s=xh(e,this._firestore),u=MC(s.converter,t,r),d=TC(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,d),this}update(e,t,r,...s){const u=xh(e,this._firestore);let d;return d="string"==typeof(t=(0,Ot.m9)(t))||t instanceof Bc?eA(this._dataReader,"Transaction.update",u._key,t,r,s):XT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=xh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xh(e,this._firestore),r=new Lp(this._firestore);return super.get(e).then(s=>new jc(this._firestore,r,t._key,s._document,new Fp(!1,!1),t.converter))}}function sA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Gx(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function qx(){if(!function Jf(){return"undefined"!=typeof atob}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Qs=_s.SDK_VERSION,(0,_s._registerComponent)(new Hu.wA("firestore",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),u=new Gn(s,new Hn(t.getProvider("auth-internal")),new uD(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,_s.registerVersion)(cv,"3.4.9",n),(0,_s.registerVersion)(cv,"3.4.9","esm2017")}();class w0{constructor(e){this._delegate=e}static fromBase64String(e){return qx(),new w0(yl.fromBase64String(e))}static fromUint8Array(e){return Gx(),new w0(yl.fromUint8Array(e))}toBase64(){return qx(),this._delegate.toBase64()}toUint8Array(){return Gx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function oA(n){return function tN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class nN{enableIndexedDbPersistence(e,t){return function uk(n,e){bx(n=Jt(n,Gn));const t=Fr(n),r=n._freezeSettings(),s=new jT;return Ex(t,s,new rx(s,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function lk(n){bx(n=Jt(n,Gn));const e=Fr(n),t=n._freezeSettings(),r=new jT;return Ex(e,r,new GR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ck(n){if(n._initialized&&!n._terminated)throw new Fe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Yn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!Lo.vt())return Promise.resolve();const s=r+"main";yield Lo.delete(s)}),function(r){return t.apply(this,arguments)})(o0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Zx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Qa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function rk(n,e,t,r={}){var s;const u=(n=Jt(n,g0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Cm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Or.MOCK_USER;else{d=(0,Ot.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Fe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Or(w)}n._authCredentials=new Tm(new FE(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function hk(n){return function KR(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield ax(n),t=yield ux(n);return e.setNetworkEnabled(!0),function(r){const s=Qe(r);return s.wu.delete(0),p(s)}(t)}))}(Fr(n=Jt(n,Gn)))}(this._delegate)}disableNetwork(){return function fk(n){return function YR(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield ax(n),t=yield ux(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(s){const u=Qe(s);u.wu.add(0),yield E(u),u.yu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Fr(n=Jt(n,Gn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,hx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function dk(n){return function(e){const t=new Yn;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function kR(n,e){return DT.apply(this,arguments)}(yield WT(e),t)})),t.promise}(Fr(n=Jt(n,Gn)))}(this._delegate)}onSnapshotsInSync(e){return function qk(n,e){return function XR(n,e){const t=new wC(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield _y(n),s=t,Qe(r).bu.add(s),void s.next();var r,s})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield _y(n),s=t,void Qe(r).bu.delete(s);var r,s}))}}(Fr(n=Jt(n,Gn)),QT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wy(this,yx(this._delegate,e))}catch(t){throw bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new _a(this,CC(this._delegate,e))}catch(t){throw bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cs(this,function ik(n,e){if(n=Jt(n,g0),YT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ns(n,null,(t=e,new eu(Wt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function zk(n,e,t){n=Jt(n,Gn);const r=Object.assign(Object.assign({},Pk),t);return function(s){if(s.maxAttempts<1)throw new Fe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function ek(n,e,t){const r=new Yn;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const s=yield(u=n,EC(u).then(d=>d.datastore));var u;new zR(n.asyncQueue,s,t,e,r).run()})),r.promise}(Fr(n),s=>e(new Zk(n,s)),r)}(this._delegate,t=>e(new zx(this,t)))}batch(){return Fr(this._delegate),new Wx(new Vx(this._delegate,e=>vy(this._delegate,e)))}loadBundle(e){return function pk(n,e){const t=Fr(n=Jt(n,Gn)),r=new ok;return function tk(n,e,t,r){const s=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,I){if(w instanceof Uint8Array)return ix(w,I);if(w instanceof ArrayBuffer)return ix(new Uint8Array(w),I);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new qR(w,d);var w}(t,ly(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function HR(n,e,t){const r=Qe(n);var s;(s=(0,pe.Z)(function*(u,d,m){try{const w=yield d.getMetadata();if(yield function(L,G){const ae=Qe(L),xe=zr(G.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",Ne=>ae._s.getBundleMetadata(Ne,G.id)).then(Ne=>!!Ne&&Ne.createTime.compareTo(xe)>=0)}(u.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(L=w).totalDocuments,bytesLoaded:L.totalBytes,totalDocuments:L.totalDocuments,totalBytes:L.totalBytes}),Promise.resolve(new Set);m._updateProgress(zS(w));const I=new bR(w,u.localStore,d.M);let T=yield d.ma();for(;T;){const L=yield I.Fu(T);L&&m._updateProgress(L),T=yield d.ma()}const M=yield I.complete();return yield Vc(u,M.Lu,void 0),yield function(L,G){const ae=Qe(L);return ae.persistence.runTransaction("Save bundle","readwrite",xe=>ae._s.saveBundleMetadata(xe,G))}(u.localStore,w),m._completeWith(M.progress),Promise.resolve(M.Bu)}catch(w){return Cm("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var L}),function(u,d,m){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield WT(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function gk(n,e){return function nk(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const s=Qe(t);return s.persistence.runTransaction("Get named query","readonly",u=>s._s.getNamedQuery(u,r))}(yield zT(n),e)}))}(Fr(n=Jt(n,Gn)),e).then(t=>t?new ns(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Cs(this,t):null)}}class RC extends rA{constructor(e){super(),this.firestore=e}convertBytes(e){return new w0(new yl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _a.forKey(t,this.firestore,null)}}class zx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new RC(e)}get(e){const t=Vp(e);return this._delegate.get(t).then(r=>new E0(this._firestore,new jc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=Vp(e);return r?(sA("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Vp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Vp(e);return this._delegate.delete(t),this}}class Wx{constructor(e){this._delegate=e}set(e,t,r){const s=Vp(e);return r?(sA("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Vp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Vp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Up{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new b0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Up.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Up(e,new RC(e),t),s.set(t,u)),u}}Up.INSTANCES=new WeakMap;class _a{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _a(t,new On(t._delegate,r,new We(e)))}static forKey(e,t,r){return new _a(t,new On(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wy(this.firestore,yx(this._delegate,e))}catch(t){throw bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ot.m9)(e))instanceof On&&_x(this._delegate,e)}set(e,t){t=sA("DocumentReference.set",t);try{return t?Bx(this._delegate,e,t):Bx(this._delegate,e)}catch(r){throw bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?jx(this._delegate,e):jx(this._delegate,e,t,...r)}catch(s){throw bs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function Hk(n){return vy(Jt(n.firestore,Gn),[new tu(n._key,Cr.none())])}(this._delegate)}onSnapshot(...e){const t=Kx(e),r=Yx(e,s=>new E0(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return $x(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Uk(n){n=Jt(n,On);const e=Jt(n.firestore,Gn),t=Fr(e),r=new Lp(e);return function QR(n,e){const t=new Yn;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(s,u,d){try{const m=yield function(w,I){const T=Qe(w);return T.persistence.runTransaction("read document","readonly",M=>T.fi.Ls(M,I))}(s,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Fe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=py(m,`Failed to get document '${u} from cache`);d.reject(w)}}),function(s,u,d){return r.apply(this,arguments)})(yield zT(n),e,t);var r})),t.promise}(t,n._key).then(s=>new jc(e,r,n._key,s,new Fp(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Vk(n){n=Jt(n,On);const e=Jt(n.firestore,Gn);return lx(Fr(e),n._key,{source:"server"}).then(t=>iA(e,n,t))}(this._delegate):function Lk(n){n=Jt(n,On);const e=Jt(n.firestore,Gn);return lx(Fr(e),n._key).then(t=>iA(e,n,t))}(this._delegate),t.then(r=>new E0(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new _a(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function bs(n,e,t){return n.message=n.message.replace(e,t),n}function Kx(n){for(const e of n)if("object"==typeof e&&!oA(e))return e;return{}}function Yx(n,e){var t,r;let s;return s=oA(n[0])?n[0]:oA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class E0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Mx(this._delegate,e._delegate)}}class b0 extends E0{data(e){const t=this._delegate.data(e);return function Tt(n,e){n||ut()}(void 0!==t),t}}class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RC(e)}where(e,t,r){try{return new Cs(this.firestore,Sh(this._delegate,function Tk(n,e,t){const r=e,s=xC("where",n);return new Dk(s,r,t)}(e,t,r)))}catch(s){throw bs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cs(this.firestore,Sh(this._delegate,function Sk(n,e="asc"){const t=e,r=xC("orderBy",n);return new Ak(r,t)}(e,t)))}catch(r){throw bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cs(this.firestore,Sh(this._delegate,function xk(n){return gx("limit",n),new kx("limit",n,"F")}(e)))}catch(t){throw bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Cs(this.firestore,Sh(this._delegate,function Mk(n){return gx("limitToLast",n),new kx("limitToLast",n,"L")}(e)))}catch(t){throw bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cs(this.firestore,Sh(this._delegate,function Rk(...n){return new Nx("startAt",n,!0)}(...e)))}catch(t){throw bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cs(this.firestore,Sh(this._delegate,function kk(...n){return new Nx("startAfter",n,!1)}(...e)))}catch(t){throw bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cs(this.firestore,Sh(this._delegate,function Nk(...n){return new Ox("endBefore",n,!1)}(...e)))}catch(t){throw bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cs(this.firestore,Sh(this._delegate,function Ok(...n){return new Ox("endAt",n,!0)}(...e)))}catch(t){throw bs(t,"endAt()","Query.endAt()")}}isEqual(e){return vx(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function jk(n){n=Jt(n,ns);const e=Jt(n.firestore,Gn),t=Fr(e),r=new Lp(e);return function JR(n,e){const t=new Yn;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(s,u,d){try{const m=yield ny(s,u,!0),w=new YS(u,m._i),I=w.Wu(m.documents),T=w.applyChanges(I,!1);d.resolve(T.snapshot)}catch(m){const w=py(m,`Failed to execute query '${u} against cache`);d.reject(w)}}),function(s,u,d){return r.apply(this,arguments)})(yield zT(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Ah(e,r,n,s))}(this._delegate):"server"===(null==e?void 0:e.source)?function $k(n){n=Jt(n,ns);const e=Jt(n.firestore,Gn),t=Fr(e),r=new Lp(e);return cx(t,n._query,{source:"server"}).then(s=>new Ah(e,r,n,s))}(this._delegate):function Bk(n){n=Jt(n,ns);const e=Jt(n.firestore,Gn),t=Fr(e),r=new Lp(e);return Rx(n._query),cx(t,n._query).then(s=>new Ah(e,r,n,s))}(this._delegate),t.then(r=>new aA(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Kx(e),r=Yx(e,s=>new aA(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return $x(this._delegate,t,r)}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}class iN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new b0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new b0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new iN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new b0(this._firestore,r))})}isEqual(e){return Mx(this._delegate,e._delegate)}}class wy extends Cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _a(this.firestore,e):null}doc(e){try{return new _a(this.firestore,void 0===e?CC(this._delegate):CC(this._delegate,e))}catch(t){throw bs(t,"doc()","CollectionReference.doc()")}}add(e){return function Gk(n,e){const t=Jt(n.firestore,Gn),r=CC(n),s=MC(n.converter,e);return vy(t,[TC(Op(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new _a(this.firestore,t))}isEqual(e){return _x(this._delegate,e._delegate)}withConverter(e){return new wy(this.firestore,this._delegate.withConverter(e?Up.getInstance(this.firestore,e):null))}}function Vp(n){return Jt(n,On)}class uA{constructor(...e){this._delegate=new Bc(...e)}static documentId(){return new uA(wr.keyField().canonicalString())}isEqual(e){return(e=(0,Ot.m9)(e))instanceof Bc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Kk(){return new JT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Bp(e)}static delete(){const e=function Wk(){return new m0("deleteField")}();return e._methodName="FieldValue.delete",new Bp(e)}static arrayUnion(...e){const t=function Yk(...n){return new vk("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Bp(t)}static arrayRemove(...e){const t=function Qk(...n){return new wk("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Bp(t)}static increment(e){const t=function Jk(n){return new Ek("increment",n)}(e);return t._methodName="FieldValue.increment",new Bp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sN={Firestore:Zx,GeoPoint:IC,Timestamp:mn,Blob:w0,Transaction:zx,WriteBatch:Wx,DocumentReference:_a,DocumentSnapshot:E0,Query:Cs,QueryDocumentSnapshot:b0,QuerySnapshot:aA,CollectionReference:wy,FieldPath:uA,FieldValue:Bp,setLogLevel:function rN(n){!function ih(n){tl.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Qx(n,e){return function uN(n,e=df.z){return new wn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function lA(n,e){return Qx(n,e).pipe((0,vt.U)(t=>({payload:t,type:"query"})))}function kC(n,e){return lA(n,e).pipe(Do(void 0),Wg(),(0,vt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const w=s.find(T=>T.doc.ref.isEqual(d.ref)),I=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&I&&JSON.stringify(I.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function Jx(n,e,t){return kC(n,t).pipe($i((r,s)=>function cN(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function dN(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return cA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return cA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function UI(n,e=ji.y){return n=null!=n?n:C_,(0,jn.e)((t,r)=>{let s,u=!0;t.subscribe((0,Bn.x)(r,d=>{const m=e(d);(u||!n(s,m))&&(u=!1,s=m,r.next(d))}))})}(),(0,vt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function cA(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function Xx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function aN(n){(function oN(n,e){n.INTERNAL.registerComponent(new Hu.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},sN)))})(n,(e,t)=>new Zx(e,t,new nN)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(Mw.Z);class eM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=kC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Do(void 0),Wg(),zn(([r,s])=>s.length>0||!r),(0,vt.U)(([r,s])=>s),kn.iC)}auditTrail(e){return this.stateChanges(e).pipe($i((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Xx(e);return Jx(this.query,t,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(e={}){return lA(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),kn.iC)}get(e){return(0,Qt.D)(this.query.get(e)).pipe(kn.iC)}add(e){return this.ref.add(e)}doc(e){return new tM(this.ref.doc(e),this.afs)}}class tM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=iM(r,t);return new eM(s,u,this.afs)}snapshotChanges(){return function lN(n,e){return Qx(n,e).pipe(Do(void 0),Wg(),(0,vt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Qt.D)(this.ref.get(e)).pipe(kn.iC)}}class hN{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?kC(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),zn(t=>t.length>0),kn.iC):kC(this.query,this.afs.schedulers.outsideAngular).pipe(kn.iC)}auditTrail(e){return this.stateChanges(e).pipe($i((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Xx(e);return Jx(this.query,t,this.afs.schedulers.outsideAngular).pipe(kn.iC)}valueChanges(e={}){return lA(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),kn.iC)}get(e){return(0,Qt.D)(this.query.get(e)).pipe(kn.iC)}}const nM=new c.OlP("angularfire2.enableFirestorePersistence"),rM=new c.OlP("angularfire2.firestore.persistenceSettings"),fN=new c.OlP("angularfire2.firestore.settings"),pN=new c.OlP("angularfire2.firestore.use-emulator");function iM(n,e=(t=>t)){return{query:e(n),ref:n}}let dA=(()=>{class n{constructor(t,r,s,u,d,m,w,I,T,M,L,G,ae,xe,Ne,gt,Ct){this.schedulers=w;const ct=(0,pt.on)(t,m,r),rt=T;M&&zg(ct,m,L,ae,xe,Ne,G,gt),[this.firestore,this.persistenceEnabled$]=(0,pt.cc)(`${ct.name}.firestore`,"AngularFirestore",ct.name,()=>{const St=m.runOutsideAngular(()=>ct.firestore());if(u&&St.settings(u),rt&&St.useEmulator(...rt),s&&!Go(d)){const it=()=>{try{return(0,Qt.D)(St.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(It){return"undefined"!=typeof console&&console.warn(It),ot(!1)}};return[St,m.runOutsideAngular(it)]}return[St,ot(!1)]},[u,rt,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=iM(s,r),m=this.schedulers.ngZone.run(()=>u);return new eM(m,d,this)}collectionGroup(t,r){const s=r||(d=>d),u=this.firestore.collectionGroup(t);return new hN(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new tM(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pt.Dh),c.LFG(pt.xv,8),c.LFG(nM,8),c.LFG(fN,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(kn.HU),c.LFG(rM,8),c.LFG(pN,8),c.LFG(ac,8),c.LFG(LI,8),c.LFG(qg,8),c.LFG(b_,8),c.LFG(Zg,8),c.LFG(Hd,8),c.LFG(Sw,8),c.LFG(Gg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sM=(()=>{class n{constructor(){bf.Z.registerVersion("angularfire",kn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:nM,useValue:!0},{provide:rM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[dA]}),n})(),Ey=(()=>{class n{constructor(t,r,s,u){this.auth=t,this.db=r,this.route=s,this.router=u,this.redirect=!1,this.currentUser=null,this.userCollection=this.db.collection("users"),this.isAuthenticated$=t.user.pipe((0,vt.U)(d=>!!d)),this.isAuthenticatedWithDelay$=this.isAuthenticated$.pipe(function uI(n,e=df.z){const t=function Ro(n=0,e,t=df.P){let r=-1;return null!=e&&((0,oI.K)(e)?t=e:r=e),new wn.y(s=>{let u=function aI(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let d=0;return t.schedule(function(){s.closed||(s.next(d++),0<=r?this.schedule(void 0,r):s.complete())},u)})}(n,e);return Jy(()=>t)}(1e3)),this.router.events.pipe(zn(d=>d instanceof Hi),(0,vt.U)(d=>this.route.firstChild),dn(d=>{var m;return null!==(m=null==d?void 0:d.data)&&void 0!==m?m:ot({})})).subscribe(d=>{var m;this.redirect=null!==(m=d.authOnly)&&void 0!==m&&m}),this.auth.user.subscribe(d=>this.currentUser=d)}getUser(){return this.auth.user}createUser(t,r){return(0,Qt.D)(this.auth.createUserWithEmailAndPassword(t.email,r)).pipe(oi(d=>{throw console.log(d),d}),(0,si.q)(1),wi(d=>{if(null==d)throw Error("User credentials conn't be null !!\u{1f480}");return(0,Qt.D)(this.userCollection.doc(d.user.uid).set(t)).pipe((0,bn.z)(()=>(0,Qt.D)(d.user.updateProfile({displayName:t.name}))))})).pipe((0,vt.U)(d=>t),(0,si.q)(1))}login(t,r){var s=this;return(0,pe.Z)(function*(){yield s.auth.signInWithEmailAndPassword(t,r)})()}logout(){var t=this;return(0,pe.Z)(function*(){yield t.auth.signOut(),t.redirect&&(yield t.router.navigateByUrl("/"))})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ac),c.LFG(dA),c.LFG(Ao),c.LFG(Rn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),by=(()=>{class n{constructor(){this.modalsBag=[]}register(t){if(this.modalsBag.some(r=>r.Id==t))throw Error(`Dublicate modal key !! \u{1f480}\u{1f480} ... the key ${t} already exists \u{1f914}`);this.modalsBag.push({Id:t,visible:!1})}unRegister(t){this.modalsBag=this.modalsBag.filter(r=>r.Id!=t)}isModalOpen(t){var r,s;return null!==(s=null===(r=this.modalsBag.find(u=>u.Id==t))||void 0===r?void 0:r.visible)&&void 0!==s&&s}toggleModal(t){var r;let s=this.modalsBag.find(u=>u.Id==t);s&&(s.visible=null!==(r=!(null==s?void 0:s.visible))&&void 0!==r&&r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li")(1,"a",14),c.NdJ("click",function(s){return c.CHM(t),c.oxw().openModal(s)}),c._uU(2,"Login / Register"),c.qZA()()}}const hA=function(){return{exact:!0}},mN=function(){return{sort:"1"}};function yN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li")(1,"a",15),c._uU(2,"Manage"),c.qZA()(),c.TgZ(3,"li")(4,"a",16),c._uU(5,"Upload"),c.qZA()(),c.TgZ(6,"li")(7,"a",14),c.NdJ("click",function(s){return c.CHM(t),c.oxw().logout(s)}),c._uU(8,"Logout"),c.qZA()()}2&n&&(c.xp6(1),c.Q6J("routerLinkActiveOptions",c.DdM(3,hA))("queryParams",c.DdM(4,mN)),c.xp6(3),c.Q6J("routerLinkActiveOptions",c.DdM(5,hA)))}let _N=(()=>{class n{constructor(t,r,s){this.modalService=t,this.authService=r,this.router=s}ngOnInit(){}openModal(t){t.preventDefault(),this.modalService.toggleModal("auth-modal")}logout(t){var r=this;return(0,pe.Z)(function*(){t.preventDefault(),yield r.authService.logout()})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(by),c.Y36(Ey),c.Y36(Rn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-nav"]],decls:24,vars:6,consts:[["id","header",1,"bg-secondary"],[1,"container","mx-auto","flex","justify-start","items-center","py-8","px-4"],["routerLink","",1,"text-3xl","text-indigo-400","font-bold","uppercase","mr-4"],[1,"flex","flex-grow","items-center"],[1,"flex","flex-row","mt-1"],[4,"ngIf","ngIfElse"],["authenticatedLinks",""],["routerLink","/about","routerLinkActive","text-indigo-400",1,"px-2",3,"routerLinkActiveOptions"],[1,"flex","flex-row","ml-auto"],["href","#"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAA1CAMAAACA7r40AAAA/FBMVEWyIjNPN2Y8O27///8/PnBOTXxycpY9PG9RUX5HR3dIR3dLSnlPTny4uMpWVYFFRHVwb5VlZIx7e52DgqOIh6aIiKc+PXBJSHhTUn9hYYqyIjReXohgX4lYV4Lr6/C2tcjPdYB0c5haWYRYV4Nra5GJiac+PW/FxdTHYG1RUH3eoajltbtOTXvty89BQHHg3+hSUX6GYoC6usyVlbFycZa7u8yUk6+sq8FCQXO0tMe1tMhiYYpMS3pDQnNvbpTExNN8fJ7GxdTGxtWCgqLHx9WXlrLXi5SYl7Kiobrg4Oiiorrn5u3n5+2jo7ukpLvw8PTx8fX09Pf19firqsC5sMNxAAAAAnRSTlPQ9qN1Xw4AAAGlSURBVHhe7ZXFiiRBFEVjznvp5W7t7j3u7m7//y8D1dAMGbnI4jW5KOpsgjibCxFcrrtVEmcBGAGQJHB98d3EgEM/ygsg/nwRAy15rxQ4Ywh3JQX49hVgKA/Ad1hDkkGTMSQJjGkOEmo133FmwAEQyl8FfSj3gFgkzjsQAw6AZ796AP2fGcDBS8/ZQ7ZQlJ2d+bEFqp6zhuh9Cf9/pDtKkTs04KBTD4jgx3eICOodoshz1p7M6UUAUQ+Ap2Pf2UMI5UBBX18/Ut7ZQ84Jui10QKsbcA7dt77jxIBDt+sxMNzrD4HL+rZS4Iw9iTZkCjRFmsBUHkcUOGMI7dkpKezuQsrprM3zR76zN572ekdBX623gaONJ0d5B5sGHAA1+QTwRQJgX2Q/7+w9GZGlDZKERpoxgkbDc8s0WscGSo+WGMiNVlgwWuFNjdafPsDe7wzg3RvP2UNCFGVtbX6EoOo7PhgoO1rGnswHiquB4mqgfIcxpBTGkNslMf2JVMAShRxXgJtUwBKFbFbAqicL4U4qYNWThXCHFbDqyUK4swpY9WQhXBX8A2rVjaQ6HWXmAAAAAElFTkSuQmCC","alt","en","width","22","height","14",1,"inline-block"],[1,"ml-1"],[2,"display","none"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABDBAMAAACYZb3pAAAAHlBMVEUpQqK2q8384OL3qa/tKTkAI5Wrt9z////5t7ztKTlzpJCAAAAABXRSTlP++vjs1BQWlgsAAAAxSURBVHgBYmRAA4yKaAJCAugqQgHtyzENAAAAAiD7pzaDr4MfRVEURVGU36IoipK5FLWNJ6UFusbWAAAAAElFTkSuQmCC","alt","fr","width","22","height","14",1,"inline-block"],["href","#",1,"px-2",3,"click"],["routerLink","/manage","routerLinkActive","text-indigo-400",1,"px-2",3,"routerLinkActiveOptions","queryParams"],["routerLink","/upload","routerLinkActive","text-indigo-400",1,"px-2",3,"routerLinkActiveOptions"]],template:function(t,r){if(1&t&&(c.TgZ(0,"header",0)(1,"nav",1)(2,"a",2),c._uU(3,"Clipz"),c.qZA(),c.TgZ(4,"div",3)(5,"ul",4),c.YNc(6,gN,3,0,"li",5),c.ALo(7,"async"),c.YNc(8,yN,9,6,"ng-template",null,6,c.W1O),c.TgZ(10,"li")(11,"a",7),c._uU(12,"About"),c.qZA()()(),c.TgZ(13,"ul",8)(14,"li")(15,"a",9),c._UZ(16,"img",10),c.TgZ(17,"span",11),c._uU(18,"English"),c.qZA()()(),c.TgZ(19,"li",12)(20,"a",9),c._UZ(21,"img",13),c.TgZ(22,"span",11),c._uU(23,"French"),c.qZA()()()()()()()),2&t){const s=c.MAs(9);c.xp6(6),c.Q6J("ngIf",!c.lcZ(7,3,r.authService.isAuthenticatedWithDelay$))("ngIfElse",s),c.xp6(5),c.Q6J("routerLinkActiveOptions",c.DdM(5,hA))}},directives:[qa,un,B0],pipes:[Wc],styles:[""]}),n})();const vN=[[["","heading",""]],"*"],wN=function(n){return{hidden:n}},EN=["[heading]","*"];let oM=(()=>{class n{constructor(t,r){this.modalService=t,this.element=r,this._modalId=""}set modalId(t){this.modalService.register(t),this._modalId=t}get modalId(){return this._modalId}closeModal(){this.modalService.toggleModal(this.modalId)}isModalOpen(){return this.modalService.isModalOpen(this.modalId)}ngOnInit(){document.body.appendChild(this.element.nativeElement)}ngOnDestroy(){this.modalService.unRegister(this.modalId),document.body.removeChild(this.element.nativeElement)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(by),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-modal"]],inputs:{modalId:"modalId"},ngContentSelectors:EN,decls:13,vars:3,consts:[["id","modal",1,"fixed","z-50","inset-0","overflow-y-auto",3,"ngClass"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","transition-opacity",3,"click"],[1,"absolute","inset-0","bg-gray-800","opacity-75"],[1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-secondary","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"],[1,"py-4","text-left","px-6"],[1,"flex","justify-between","items-center","pb-4"],[1,"modal-close","cursor-pointer","z-50",3,"click"]],template:function(t,r){1&t&&(c.F$t(vN),c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c.NdJ("click",function(){return r.closeModal()}),c._UZ(3,"div",3),c.qZA(),c.TgZ(4,"span",4),c._uU(5,"\u200b"),c.qZA(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.Hsn(9),c.TgZ(10,"div",8),c.NdJ("click",function(){return r.closeModal()}),c._uU(11," \u2715 "),c.qZA()(),c.Hsn(12,1),c.qZA()()()()),2&t&&c.Q6J("ngClass",c.VKq(1,wN,!r.isModalOpen()))},directives:[Br],styles:[""]}),n})();function bN(n,e){1&n&&c.Hsn(0,0,["*ngIf","isActive"])}const CN=["*"];let aM=(()=>{class n{constructor(){this.title="",this.isActive=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-tab"]],inputs:{title:"title",isActive:"isActive"},ngContentSelectors:CN,decls:1,vars:1,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(c.F$t(),c.YNc(0,bN,1,0,"ng-content",0)),2&t&&c.Q6J("ngIf",r.isActive)},directives:[un],styles:[""]}),n})();const IN=function(n,e){return{"hover:text-indigo-400":n,"hover:text-white text-white bg-indigo-400":e}};function DN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",2)(1,"a",3),c.NdJ("click",function(){const u=c.CHM(t).$implicit;return c.oxw().selectTab(u)}),c._uU(2),c.qZA()()}if(2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngClass",c.WLB(2,IN,!t.isActive,t.isActive)),c.xp6(1),c.Oqu(t.title)}}const TN=["*"];let AN=(()=>{class n{constructor(){this.tabs=new c.n_E}ngAfterContentInit(){const t=this.tabs.filter(r=>r.isActive);(null==t?void 0:t.length)||this.selectTab(this.tabs.first),(null==t?void 0:t.length)>1&&this.selectTab(t[0])}selectTab(t){return this.tabs.forEach(r=>{r.isActive=!1}),t.isActive=!0,!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-tabs-container"]],contentQueries:function(t,r,s){if(1&t&&c.Suo(s,aM,4),2&t){let u;c.iGM(u=c.CRH())&&(r.tabs=u)}},ngContentSelectors:TN,decls:3,vars:1,consts:[[1,"flex","flex-wrap","mb-4"],["class","flex-auto text-center",4,"ngFor","ngForOf"],[1,"flex-auto","text-center"],["href","#",1,"block","rounded","py-3","px-4","transition","hover:text-white","text-white","bg-indigo-400",3,"ngClass","click"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"ul",0),c.YNc(1,DN,3,5,"li",1),c.qZA(),c.Hsn(2)),2&t&&(c.xp6(1),c.Q6J("ngForOf",r.tabs))},directives:[An,Br],styles:[""]}),n})(),SN=(()=>{class n{}return n.emailPattern=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/,n})();const xN=["*"];let NC=(()=>{class n{constructor(){this.color="blue"}get bgColor(){return`bg-${this.color}-400`}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-alert"]],inputs:{color:"color"},ngContentSelectors:xN,decls:2,vars:1,consts:[[1,"text-white","text-center","font-bold","p-4","mb-4","rounded-md",3,"ngClass"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA()),2&t&&c.Q6J("ngClass",r.bgColor)},directives:[Br],styles:[""]}),n})();function fA(...n){const e=(0,Na.jO)(n),{args:t,keys:r}=En(n),s=new wn.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let w=d,I=d;for(let T=0;T<d;T++){let M=!1;(0,Ul.Xf)(t[T]).subscribe((0,Bn.x)(u,L=>{M||(M=!0,I--),m[T]=L},()=>w--,void 0,()=>{(!w||!M)&&(I||u.next(r?Ll(r,m):m),u.complete())}))}});return e?s.pipe(Fl(e)):s}let uM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),jp=(()=>{class n extends uM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const iu=new c.OlP("NgValueAccessor"),RN={provide:iu,useExisting:(0,c.Gpc)(()=>C0),multi:!0},NN=new c.OlP("CompositionEventMode");let C0=(()=>{class n extends uM{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kN(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(NN,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([RN]),c.qOj]}),n})();function Mh(n){return null==n||0===n.length}function cM(n){return null!=n&&"number"==typeof n.length}const Ai=new c.OlP("NgValidators"),Rh=new c.OlP("NgAsyncValidators"),ON=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Si{static min(e){return function dM(n){return e=>{if(Mh(e.value)||Mh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function hM(n){return e=>{if(Mh(e.value)||Mh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return fM(e)}static requiredTrue(e){return function pM(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function gM(n){return Mh(n.value)||ON.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function mM(n){return e=>Mh(e.value)||!cM(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function yM(n){return e=>cM(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return _M(e)}static nullValidator(e){return null}static compose(e){return IM(e)}static composeAsync(e){return DM(e)}}function fM(n){return Mh(n.value)?{required:!0}:null}function _M(n){if(!n)return OC;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Mh(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}function OC(n){return null}function vM(n){return null!=n}function wM(n){const e=(0,c.QGY)(n)?(0,Qt.D)(n):n;return(0,c.CqO)(e),e}function EM(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function bM(n,e){return e.map(t=>t(n))}function CM(n){return n.map(e=>function PN(n){return!n.validate}(e)?e:t=>e.validate(t))}function IM(n){if(!n)return null;const e=n.filter(vM);return 0==e.length?null:function(t){return EM(bM(t,e))}}function pA(n){return null!=n?IM(CM(n)):null}function DM(n){if(!n)return null;const e=n.filter(vM);return 0==e.length?null:function(t){return fA(bM(t,e).map(wM)).pipe((0,vt.U)(EM))}}function gA(n){return null!=n?DM(CM(n)):null}function TM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function AM(n){return n._rawValidators}function SM(n){return n._rawAsyncValidators}function mA(n){return n?Array.isArray(n)?n:[n]:[]}function PC(n,e){return Array.isArray(n)?n.includes(e):n===e}function xM(n,e){const t=mA(e);return mA(n).forEach(s=>{PC(t,s)||t.push(s)}),t}function MM(n,e){return mA(e).filter(t=>!PC(n,t))}class RM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class kh extends RM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Is extends RM{get formDirective(){return null}get path(){return null}}class kM{constructor(e){this._cd=e}is(e){var t,r,s;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[e])}}let yA=(()=>{class n extends kM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(kh,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),I0=(()=>{class n extends kM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Is,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function D0(n,e){wA(n,e),e.valueAccessor.writeValue(n.value),function HN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&OM(n,e)})}(n,e),function qN(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function GN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&OM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function $N(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function UC(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),BC(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function VC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function wA(n,e){const t=AM(n);null!==e.validator?n.setValidators(TM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=SM(n);null!==e.asyncValidator?n.setAsyncValidators(TM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();VC(e._rawValidators,s),VC(e._rawAsyncValidators,s)}function BC(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=AM(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(d=>d!==e.validator);u.length!==s.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const s=SM(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(d=>d!==e.asyncValidator);u.length!==s.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return VC(e._rawValidators,r),VC(e._rawAsyncValidators,r),t}function OM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function PM(n,e){wA(n,e)}function EA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function LM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bA(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===C0?t=u:function WN(n){return Object.getPrototypeOf(n.constructor)===jp}(u)?r=u:s=u}),s||r||t||null}function CA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const T0="VALID",jC="INVALID",Cy="PENDING",A0="DISABLED";function DA(n){return($C(n)?n.validators:n)||null}function UM(n){return Array.isArray(n)?pA(n):n||null}function TA(n,e){return($C(e)?e.asyncValidators:n)||null}function VM(n){return Array.isArray(n)?gA(n):n||null}function $C(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const BM=n=>n instanceof su,AA=n=>n instanceof Iy;function jM(n){return BM(n)?n.value:n.getRawValue()}function $M(n,e){const t=AA(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function HM(n,e){AA(n),n._forEachChild((r,s)=>{if(void 0===e[s])throw new c.vHH(1002,"")})}class SA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=UM(this._rawValidators),this._composedAsyncValidatorFn=VM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===T0}get invalid(){return this.status===jC}get pending(){return this.status==Cy}get disabled(){return this.status===A0}get enabled(){return this.status!==A0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=UM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=VM(e)}addValidators(e){this.setValidators(xM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(MM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(MM(e,this._rawAsyncValidators))}hasValidator(e){return PC(this._rawValidators,e)}hasAsyncValidator(e){return PC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Cy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=A0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=T0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===T0||this.status===Cy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?A0:T0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Cy,this._hasOwnPendingAsyncValidator=!0;const t=wM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function KN(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(s=>{r=AA(r)?r.controls.hasOwnProperty(s)?r.controls[s]:null:(n=>n instanceof QN)(r)&&r.at(s)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?A0:this.errors?jC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cy)?Cy:this._anyControlsHaveStatus(jC)?jC:T0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$C(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class su extends SA{constructor(e=null,t,r){super(DA(t),TA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$C(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){CA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){CA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Iy extends SA{constructor(e,t,r){super(DA(t),TA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){HM(this,e),Object.keys(e).forEach(r=>{$M(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=jM(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class QN extends SA{constructor(e,t,r){super(DA(t),TA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){HM(this,e),e.forEach((r,s)=>{$M(this,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>jM(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const JN={provide:Is,useExisting:(0,c.Gpc)(()=>HC)},S0=(()=>Promise.resolve(null))();let HC=(()=>{class n extends Is{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new Iy({},pA(t),gA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){S0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),D0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){S0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){S0.then(()=>{const r=this._findContainer(t.path),s=new Iy({});PM(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){S0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){S0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,LM(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ai,10),c.Y36(Rh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([JN]),c.qOj]}),n})();const eO={provide:kh,useExisting:(0,c.Gpc)(()=>xA)},ZM=(()=>Promise.resolve(null))();let xA=(()=>{class n extends kh{constructor(t,r,s,u,d){super(),this._changeDetectorRef=d,this.control=new su,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=bA(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),EA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ZM.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=""===r||r&&"false"!==r;ZM.then(()=>{var u;s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?function LC(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Is,9),c.Y36(Ai,10),c.Y36(Rh,10),c.Y36(iu,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([eO]),c.qOj,c.TTD]}),n})(),x0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),WM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const MA=new c.OlP("NgModelWithFormControlWarning"),sO={provide:kh,useExisting:(0,c.Gpc)(()=>RA)};let RA=(()=>{class n extends kh{constructor(t,r,s,u){super(),this._ngModelWarningConfig=u,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=bA(0,s)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&UC(r,this,!1),D0(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}EA(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&UC(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Ai,10),c.Y36(Rh,10),c.Y36(iu,10),c.Y36(MA,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([sO]),c.qOj,c.TTD]}),n})();const oO={provide:Is,useExisting:(0,c.Gpc)(()=>Dy)};let Dy=(()=>{class n extends Is{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(BC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return D0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){UC(t.control||null,t,!1),CA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,LM(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(UC(r||null,t),BM(s)&&(D0(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);PM(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function ZN(n,e){return BC(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wA(this.form,this),this._oldForm&&BC(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ai,10),c.Y36(Rh,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([oO]),c.qOj,c.TTD]}),n})();const cO={provide:iu,useExisting:(0,c.Gpc)(()=>OA),multi:!0};function XM(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let OA=(()=>{class n extends jp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const s=XM(this._getOptionId(t),t);this.setProperty("value",s)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function dO(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([cO]),c.qOj]}),n})(),e1=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(XM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(OA,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const hO={provide:iu,useExisting:(0,c.Gpc)(()=>PA),multi:!0};function t1(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let PA=(()=>{class n extends jp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const s=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(s.indexOf(d.toString())>-1)}}else r=(s,u)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const s=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let m=0;m<d.length;m++){const I=this._getOptionValue(d[m].value);s.push(I)}}else{const d=r.options;for(let m=0;m<d.length;m++){const w=d[m];if(w.selected){const I=this._getOptionValue(w.value);s.push(I)}}}this.value=s,t(s)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function fO(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([hO]),c.qOj]}),n})(),n1=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(t1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(t1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(PA,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),$p=(()=>{class n{constructor(){this._validator=OC}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):OC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const yO={provide:Ai,useExisting:(0,c.Gpc)(()=>GC),multi:!0};let GC=(()=>{class n extends $p{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function pO(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>fM}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([yO]),c.qOj]}),n})();const bO={provide:Ai,useExisting:(0,c.Gpc)(()=>FA),multi:!0};let FA=(()=>{class n extends $p{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>_M(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[c._Bn([bO]),c.qOj]}),n})(),d1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[WM]]}),n})(),CO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[d1]}),n})(),LA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:MA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[d1]}),n})();function IO(n,e){if(1&n&&(c.TgZ(0,"app-alert",11),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Q6J("color",t.alertColor),c.xp6(1),c.Oqu(t.alertMessage)}}function DO(n,e){1&n&&(c.TgZ(0,"p",12),c._uU(1," Field is required !! "),c.qZA())}function TO(n,e){1&n&&(c.TgZ(0,"p",12),c._uU(1," You must enter a valid email !! "),c.qZA())}function AO(n,e){1&n&&(c.TgZ(0,"p",12),c._uU(1," Field is required !! "),c.qZA())}let SO=(()=>{class n{constructor(t,r){this.auth=t,this.modalService=r,this.constatns=SN,this.showAlert=!1,this.alertColor="blue",this.alertMessage="",this.credentials={email:"",password:""}}ngOnInit(){}login(){var t=this;return(0,pe.Z)(function*(){var r;try{t.showAlert=!0,t.alertColor="orange",t.alertMessage="Please wait ... \u{1f607}";const{email:s,password:u}=t.credentials;yield t.auth.login(s,u),t.showAlert=!1,t.modalService.toggleModal("auth-modal")}catch(s){t.showAlert=!0,t.alertColor="red",t.alertMessage=null!==(r=s.message)&&void 0!==r?r:"somthing went wrong !! \u{1f616}\u{1f613}",console.error(s)}})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ey),c.Y36(by))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:8,consts:[[3,"color",4,"ngIf"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"mb-3"],[1,"inline-block","mb-2"],["type","email","name","email","placeholder","Enter Email","required","",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","pattern","ngModelChange"],["email","ngModel"],["class","text-red-400",4,"ngIf"],["type","password","name","password","required","","placeholder","Password",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"block","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition","hover:bg-indigo-500",3,"disabled"],[3,"color"],[1,"text-red-400"]],template:function(t,r){if(1&t&&(c.YNc(0,IO,2,2,"app-alert",0),c.TgZ(1,"form",1,2),c.NdJ("ngSubmit",function(){return r.login()}),c.TgZ(3,"div",3)(4,"label",4),c._uU(5,"Email"),c.qZA(),c.TgZ(6,"input",5,6),c.NdJ("ngModelChange",function(u){return r.credentials.email=u}),c.qZA(),c.YNc(8,DO,2,0,"p",7),c.YNc(9,TO,2,0,"p",7),c.qZA(),c.TgZ(10,"div",3)(11,"label",4),c._uU(12,"Password"),c.qZA(),c.TgZ(13,"input",8,9),c.NdJ("ngModelChange",function(u){return r.credentials.password=u}),c.qZA(),c.YNc(15,AO,2,0,"p",7),c.qZA(),c.TgZ(16,"button",10),c._uU(17," Submit "),c.qZA()()),2&t){const s=c.MAs(2),u=c.MAs(7),d=c.MAs(14);c.Q6J("ngIf",r.showAlert),c.xp6(6),c.Q6J("ngModel",r.credentials.email)("pattern",r.constatns.emailPattern),c.xp6(2),c.Q6J("ngIf",u.dirty&&(null==u.errors?null:u.errors.required)),c.xp6(1),c.Q6J("ngIf",u.dirty&&(null==u.errors?null:u.errors.required)),c.xp6(4),c.Q6J("ngModel",r.credentials.password),c.xp6(2),c.Q6J("ngIf",d.dirty&&(null==d.errors?null:d.errors.required)),c.xp6(1),c.Q6J("disabled",s.invalid)}},directives:[un,NC,x0,I0,HC,C0,GC,yA,xA,FA],styles:[""]}),n})();class xO{static match(e,t,r=""){return s=>{const u=s.get(e),d=s.get(t);return u&&d?(u.value!==d.value&&d.setErrors({noMatch:r}),null):(console.error("Form control can not be found in the form group !!"),{controlNotFound:!1})}}}let h1=(()=>{class n{constructor(t){this.auth=t,this.validate=r=>this.auth.fetchSignInMethodsForEmail(r.value).then(s=>s.length?{emailTaken:!0}:null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ac))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();var MO=k(655);const qC=new c.OlP("ngx-mask config"),f1=new c.OlP("new ngx-mask config"),p1=new c.OlP("initial ngx-mask config"),RO={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new c.vpe,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},U:{pattern:new RegExp("[A-Z]")},L:{pattern:new RegExp("[a-z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},kO=["Hh:m0:s0","Hh:m0","m0:s0"],NO=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let g1=(()=>{class n{constructor(t){this._config=t,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(r,s,u,d)=>{var m,w;let I=[],T="";if(Array.isArray(u)){const xe=new RegExp(u.map(Ne=>"[\\^$.|?*+()".indexOf(Ne)>=0?`\\${Ne}`:Ne).join("|"));I=r.split(xe),T=null!==(w=null===(m=r.match(xe))||void 0===m?void 0:m[0])&&void 0!==w?w:""}else I=r.split(u),T=u;const M=I.length>1?`${T}${I[1]}`:"";let L=I[0];const G=this.separatorLimit.replace(/\s/g,"");G&&+G&&(L="-"===L[0]?`-${L.slice(1,L.length).slice(0,G.length)}`:L.slice(0,G.length));const ae=/(\d+)(\d{3})/;for(;s&&ae.test(L);)L=L.replace(ae,"$1"+s+"$2");return void 0===d?L+M:0===d?L:L+M.substr(0,d+1)},this.percentage=r=>Number(r)>=0&&Number(r)<=100,this.getPrecision=r=>{const s=r.split(".");return s.length>1?Number(s[s.length-1]):1/0},this.checkAndRemoveSuffix=r=>{var s,u,d;for(let m=(null===(s=this.suffix)||void 0===s?void 0:s.length)-1;m>=0;m--){const w=this.suffix.substr(m,null===(u=this.suffix)||void 0===u?void 0:u.length);if(r.includes(w)&&(m-1<0||!r.includes(this.suffix.substr(m-1,null===(d=this.suffix)||void 0===d?void 0:d.length))))return r.replace(w,"")}return r},this.checkInputPrecision=(r,s,u)=>{if(s<1/0){if(Array.isArray(u)){const w=u.find(I=>I!==this.thousandSeparator);u=w||u[0]}const d=new RegExp(this._charToRegExpExpression(u)+`\\d{${s}}.*$`),m=r.match(d);m&&m[0].length-1>s&&(r=r.substring(0,r.length-(m[0].length-1-s))),0===s&&this._compareOrIncludes(r[r.length-1],u,this.thousandSeparator)&&(r=r.substring(0,r.length-1))}return r},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(t,r){const[s,u]=r;return this.customPattern=u,this.applyMask(t,s)}applyMask(t,r,s=0,u=!1,d=!1,m=(()=>{})){var w,I;if(!r||"string"!=typeof t)return"";let T=0,M="",L=!1,G=!1,ae=1,xe=!1;t.slice(0,this.prefix.length)===this.prefix&&(t=t.slice(this.prefix.length,t.length)),this.suffix&&(null==t?void 0:t.length)>0&&(t=this.checkAndRemoveSuffix(t));const Ne=t.toString().split("");"IP"===r&&(this.ipError=Ne.filter(it=>"."===it).length<3&&Ne.length<7,r="099.099.099.099");const gt=[];for(let it=0;it<t.length;it++)(null===(w=t[it])||void 0===w?void 0:w.match("\\d"))&&gt.push(t[it]);if("CPF_CNPJ"===r&&(this.cpfCnpjError=11!==gt.length&&14!==gt.length,r=gt.length>11?"00.000.000/0000-00":"000.000.000-00"),r.startsWith("percent")){if(t.match("[a-z]|[A-Z]")||t.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){t=this._stripToDecimal(t);const it=this.getPrecision(r);t=this.checkInputPrecision(t,it,this.decimalMarker)}t.indexOf(".")>0&&!this.percentage(t.substring(0,t.indexOf(".")))&&(t=`${t.substring(0,t.indexOf(".")-1)}${t.substring(t.indexOf("."),t.length)}`),M=this.percentage(t)?t:t.substring(0,t.length-1)}else if(r.startsWith("separator")){(t.match("[w\u0430-\u044f\u0410-\u042f]")||t.match("[\u0401\u0451\u0410-\u044f]")||t.match("[a-z]|[A-Z]")||t.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||t.match("[^A-Za-z0-9,]"))&&(t=this._stripToDecimal(t)),t=t.length>1&&"0"===t[0]&&!this._compareOrIncludes(t[1],this.decimalMarker,this.thousandSeparator)&&!d?t.slice(1,t.length):t,d&&(t=this._compareOrIncludes(t[t.length-1],this.decimalMarker,this.thousandSeparator)?t.slice(0,t.length-1):t);const it=this._charToRegExpExpression(this.thousandSeparator);let It='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(it,"");if(Array.isArray(this.decimalMarker))for(const Zp of this.decimalMarker)It=It.replace(this._charToRegExpExpression(Zp),"");else It=It.replace(this._charToRegExpExpression(this.decimalMarker),"");const pi=new RegExp("["+It+"]");(t.match(pi)||1===t.length&&this._compareOrIncludes(t,this.decimalMarker,this.thousandSeparator))&&(t=t.substring(0,t.length-1));const Gp=this.getPrecision(r),nS=(t=this.checkInputPrecision(t,Gp,this.decimalMarker)).replace(new RegExp(it,"g"),"");M=this._formatWithSeparators(nS,this.thousandSeparator,this.decimalMarker,Gp);const rS=M.indexOf(",")-t.indexOf(","),qp=M.length-t.length;if(qp>0&&","!==M[s]){G=!0;let Zp=0;do{this._shift.add(s+Zp),Zp++}while(Zp<qp)}else 0!==rS&&s>0&&!(M.indexOf(",")>=s&&s>3)||!(M.indexOf(".")>=s&&s>3)&&qp<=0?(this._shift.clear(),G=!0,ae=qp,this._shift.add(s+=qp)):this._shift.clear()}else for(let it=0,It=Ne[0];it<Ne.length&&T!==r.length;it++,It=Ne[it])if(this._checkSymbolMask(It,r[T])&&"?"===r[T+1])M+=It,T+=2;else if("*"===r[T+1]&&L&&this._checkSymbolMask(It,r[T+2]))M+=It,T+=3,L=!1;else if(this._checkSymbolMask(It,r[T])&&"*"===r[T+1])M+=It,L=!0;else if("?"===r[T+1]&&this._checkSymbolMask(It,r[T+2]))M+=It,T+=3;else if(this._checkSymbolMask(It,r[T])){if("H"===r[T]&&Number(It)>2){T+=1,this._shiftStep(r,T,Ne.length),it--,this.leadZeroDateTime&&(M+="0");continue}if("h"===r[T]&&"2"===M&&Number(It)>3){T+=1,it--;continue}if("m"===r[T]&&Number(It)>5){T+=1,this._shiftStep(r,T,Ne.length),it--,this.leadZeroDateTime&&(M+="0");continue}if("s"===r[T]&&Number(It)>5){T+=1,this._shiftStep(r,T,Ne.length),it--,this.leadZeroDateTime&&(M+="0");continue}const pi=31;if("d"===r[T]&&(Number(It)>3&&this.leadZeroDateTime||Number(t.slice(T,T+2))>pi||"/"===t[T+1])){T+=1,this._shiftStep(r,T,Ne.length),it--,this.leadZeroDateTime&&(M+="0");continue}if("M"===r[T]){const nS=0===T&&(Number(It)>2||Number(t.slice(T,T+2))>12||"/"===t[T+1]),rS=t.slice(T-3,T-1).includes("/")&&("/"===t[T-2]&&Number(t.slice(T-1,T+1))>12&&"/"!==t[T]||"/"===t[T]||"/"===t[T-3]&&Number(t.slice(T-2,T))>12&&"/"!==t[T-1]||"/"===t[T-1]),qp=Number(t.slice(T-3,T-1))<=pi&&!t.slice(T-3,T-1).includes("/")&&"/"===t[T-1]&&(Number(t.slice(T,T+2))>12||"/"===t[T+1]),Zp=Number(t.slice(T-3,T-1))>pi&&!t.slice(T-3,T-1).includes("/")&&!t.slice(T-2,T).includes("/")&&Number(t.slice(T-2,T))>12,CL=Number(t.slice(T-3,T-1))<=pi&&!t.slice(T-3,T-1).includes("/")&&"/"!==t[T-1]&&Number(t.slice(T-1,T+1))>12;if(Number(It)>1&&this.leadZeroDateTime||nS||rS||qp||Zp||CL){T+=1,this._shiftStep(r,T,Ne.length),it--,this.leadZeroDateTime&&(M+="0");continue}}M+=It,T++}else" "===It&&" "===r[T]?(M+=It,T++):-1!==this.maskSpecialCharacters.indexOf(r[T])?(M+=r[T],T++,this._shiftStep(r,T,Ne.length),it--):this.maskSpecialCharacters.indexOf(It)>-1&&this.maskAvailablePatterns[r[T]]&&(null===(I=this.maskAvailablePatterns[r[T]])||void 0===I?void 0:I.optional)?(!!Ne[T]&&"099.099.099.099"!==r&&"000.000.000-00"!==r&&"00.000.000/0000-00"!==r&&!r.match(/^9+\.0+$/)&&(M+=Ne[T]),T++,it--):"*"===this.maskExpression[T+1]&&this._findSpecialChar(this.maskExpression[T+2])&&this._findSpecialChar(It)===this.maskExpression[T+2]&&L||"?"===this.maskExpression[T+1]&&this._findSpecialChar(this.maskExpression[T+2])&&this._findSpecialChar(It)===this.maskExpression[T+2]&&L?(T+=3,M+=It):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(It)<0&&It!==this.placeHolderCharacter&&(xe=!0);M.length+1===r.length&&-1!==this.maskSpecialCharacters.indexOf(r[r.length-1])&&(M+=r[r.length-1]);let Ct=s+1;for(;this._shift.has(Ct);)ae++,Ct++;let ct=u&&!r.startsWith("separator")?T:this._shift.has(s)?ae:0;xe&&ct--,m(ct,G),ae<0&&this._shift.clear();let rt=!1;d&&(rt=Ne.every(it=>this.maskSpecialCharacters.includes(it)));let St=`${this.prefix}${rt?"":M}${this.suffix}`;return 0===M.length&&(St=`${this.prefix}${M}`),St}_findSpecialChar(t){return this.maskSpecialCharacters.find(r=>r===t)}_checkSymbolMask(t,r){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[r]&&this.maskAvailablePatterns[r].pattern&&this.maskAvailablePatterns[r].pattern.test(t)}_stripToDecimal(t){return t.split("").filter((r,s)=>r.match("^-?\\d")||r.match("\\s")||"."===r||","===r||"-"===r&&0===s&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(t){return t&&(" "===t?"\\s":"[\\^$.|?*+()".indexOf(t)>=0?`\\${t}`:t)}_shiftStep(t,r,s){const u=/[*?]/g.test(t.slice(0,r))?s:r;this._shift.add(u+this.prefix.length||0)}_compareOrIncludes(t,r,s){return Array.isArray(r)?r.filter(u=>u!==s).includes(t):t===r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),m1=(()=>{class n extends g1{constructor(t,r,s,u){super(r),this.document=t,this._config=r,this._elementRef=s,this._renderer=u,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=d=>{}}applyMask(t,r,s=0,u=!1,d=!1,m=(()=>{})){if(!r)return t!==this.actualValue?this.actualValue:t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const w=t&&"number"==typeof this.selStart?t[this.selStart]:"";let I="";if(this.hiddenInput&&!this.writingValue){let G=this.actualValue.split("");""!==t&&G.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(t.length>G.length?G.splice(this.selStart,0,w):t.length<G.length&&(G.length-t.length==1?G.splice(this.selStart-1,1):G.splice(this.selStart,this.selEnd-this.selStart))):G=[],this.showMaskTyped&&(t=this.removeMask(t)),I=this.actualValue.length&&G.length<=t.length?this.shiftTypedSymbols(G.join("")):t}I=Boolean(I)&&I.length?I:t;const T=super.applyMask(I,r,s,u,d,m);if(this.actualValue=this.getActualValue(T),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(G=>!this._compareOrIncludes(G,this.decimalMarker,this.thousandSeparator))),this.formControlResult(T),!this.showMaskTyped)return this.hiddenInput&&T&&T.length?this.hideInput(T,this.maskExpression):T;const M=T.length,L=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const G=this._numberSkipedSymbols(T);return T+L.slice(M+G)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?T+L:T+L.slice(M)}_numberSkipedSymbols(t){const r=/(^|\D)(\d\D)/g;let s=r.exec(t),u=0;for(;null!=s;)u+=1,s=r.exec(t);return u}applyValueChanges(t,r,s,u=(()=>{})){const d=this._elementRef.nativeElement;d.value=this.applyMask(d.value,this.maskExpression,t,r,s,u),d!==this._getActiveElement()&&this.clearIfNotMatchFn()}hideInput(t,r){return t.split("").map((s,u)=>{var d,m;return this.maskAvailablePatterns&&this.maskAvailablePatterns[r[u]]&&(null===(d=this.maskAvailablePatterns[r[u]])||void 0===d?void 0:d.symbol)?null===(m=this.maskAvailablePatterns[r[u]])||void 0===m?void 0:m.symbol:s}).join("")}getActualValue(t){const r=t.split("").filter((s,u)=>this._checkSymbolMask(s,this.maskExpression[u])||this.maskSpecialCharacters.includes(this.maskExpression[u])&&s===this.maskExpression[u]);return r.join("")===t?r.join(""):t}shiftTypedSymbols(t){let r="";return(t&&t.split("").map((u,d)=>{if(this.maskSpecialCharacters.includes(t[d+1])&&t[d+1]!==this.maskExpression[d+1])return r=u,t[d+1];if(r.length){const m=r;return r="",m}return u})||[]).join("")}numberToString(t){return t||0===t?Number(t).toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}):String(t)}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(t){if("IP"===this.maskExpression)return this._checkForIp(t);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(t)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const t=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==t.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(t.value,this.maskExpression))}set formElementProperty([t,r]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,t,r))}checkSpecialCharAmount(t){return t.split("").filter(s=>this._findSpecialChar(s)).length}removeMask(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(t){var r;if("#"===t)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const s=[];for(let u=0;u<t.length;u++)(null===(r=t[u])||void 0===r?void 0:r.match("\\d"))&&s.push(t[u]);return s.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:s.length>3&&s.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:s.length>6&&s.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(t){var r;const s=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,u=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===t)return s;const d=[];for(let m=0;m<t.length;m++)(null===(r=t[m])||void 0===r?void 0:r.match("\\d"))&&d.push(t[m]);return d.length<=3?s.slice(d.length,s.length):d.length>3&&d.length<=6?s.slice(d.length+1,s.length):d.length>6&&d.length<=9?s.slice(d.length+2,s.length):d.length>9&&d.length<11?s.slice(d.length+3,s.length):11===d.length?"":12===d.length?u.slice(17===t.length?16:15,u.length):d.length>12&&d.length<=14?u.slice(d.length+4,u.length):""}_getActiveElement(t=this.document){var r;const s=null===(r=null==t?void 0:t.activeElement)||void 0===r?void 0:r.shadowRoot;return(null==s?void 0:s.activeElement)?this._getActiveElement(s):t.activeElement}formControlResult(t){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(t)):this._removeSuffix(t))}_toNumber(t){if(!this.isNumberValue||""===t)return t;const r=Number(t);return Number.isNaN(r)?t:r}_removeMask(t,r){return t&&t.replace(this._regExpForRemove(r),"")}_removePrefix(t){return this.prefix?t&&t.replace(this.prefix,""):t}_removeSuffix(t){return this.suffix?t&&t.replace(this.suffix,""):t}_retrieveSeparatorValue(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.maskSpecialCharacters)}_regExpForRemove(t){return new RegExp(t.map(r=>`\\${r}`).join("|"),"gi")}_checkSymbols(t){if(""===t)return t;const r=this._retrieveSeparatorPrecision(this.maskExpression);let s=this._retrieveSeparatorValue(t);return"."!==this.decimalMarker&&!Array.isArray(this.decimalMarker)&&(s=s.replace(this.decimalMarker,".")),this.isNumberValue?r?t===this.decimalMarker?null:this._checkPrecision(this.maskExpression,s):Number(s):s}_retrieveSeparatorPrecision(t){const r=t.match(new RegExp("^separator\\.([^d]*)"));return r?Number(r[1]):null}_checkPrecision(t,r){return t.indexOf("2")>0?Number(r).toFixed(2):Number(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(qC),c.LFG(c.SBq),c.LFG(c.Qsj))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),OO=(()=>{class n{constructor(t,r,s){this.document=t,this._maskService=r,this._config=s,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new c.vpe,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=u=>{},this.onTouch=()=>{}}ngOnChanges(t){const{maskExpression:r,specialCharacters:s,patterns:u,prefix:d,suffix:m,thousandSeparator:w,decimalMarker:I,dropSpecialCharacters:T,hiddenInput:M,showMaskTyped:L,placeHolderCharacter:G,shownMaskExpression:ae,showTemplate:xe,clearIfNotMatch:Ne,validation:gt,separatorLimit:Ct,allowNegativeNumbers:ct,leadZeroDateTime:rt,triggerOnMaskChange:St}=t;if(r&&(r.currentValue!==r.previousValue&&!r.firstChange&&(this._maskService.maskChanged=!0),r.currentValue&&r.currentValue.split("||").length>1?(this._maskExpressionArray=r.currentValue.split("||").sort((it,It)=>it.length-It.length),this._setMask()):(this._maskExpressionArray=[],this._maskValue=r.currentValue||"",this._maskService.maskExpression=this._maskValue)),s){if(!s.currentValue||!Array.isArray(s.currentValue))return;this._maskService.maskSpecialCharacters=s.currentValue||[]}u&&u.currentValue&&(this._maskService.maskAvailablePatterns=u.currentValue),d&&(this._maskService.prefix=d.currentValue),m&&(this._maskService.suffix=m.currentValue),w&&(this._maskService.thousandSeparator=w.currentValue),I&&(this._maskService.decimalMarker=I.currentValue),T&&(this._maskService.dropSpecialCharacters=T.currentValue),M&&(this._maskService.hiddenInput=M.currentValue),L&&(this._maskService.showMaskTyped=L.currentValue),G&&(this._maskService.placeHolderCharacter=G.currentValue),ae&&(this._maskService.shownMaskExpression=ae.currentValue),xe&&(this._maskService.showTemplate=xe.currentValue),Ne&&(this._maskService.clearIfNotMatch=Ne.currentValue),gt&&(this._maskService.validation=gt.currentValue),Ct&&(this._maskService.separatorLimit=Ct.currentValue),ct&&(this._maskService.allowNegativeNumbers=ct.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(it=>"-"!==it))),rt&&(this._maskService.leadZeroDateTime=rt.currentValue),St&&(this._maskService.triggerOnMaskChange=St.currentValue),this._applyMask()}validate({value:t}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(t);if(this._maskService.cpfCnpjError)return this._createValidationError(t);if(this._maskValue.startsWith("separator")||NO.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(kO.includes(this._maskValue))return this._validateTime(t);if(t&&t.toString().length>=1){let r=0;for(const s in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[s].optional&&(this._maskValue.indexOf(s)!==this._maskValue.lastIndexOf(s)?r+=this._maskValue.split("").filter(d=>d===s).join("").length:-1!==this._maskValue.indexOf(s)&&r++,-1!==this._maskValue.indexOf(s)&&t.toString().length>=this._maskValue.indexOf(s)||r===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&t.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&t.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&t.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(t);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const s=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-r:this._maskValue.length-r;if(t.toString().length<s)return this._createValidationError(t)}}return t&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(t){(""===t||null==t)&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(t){const r=t.target;if(this._inputValue=r.value,this._setMask(),!this._maskValue)return void this.onChange(r.value);const s=1===r.selectionStart?r.selectionStart+this._maskService.prefix.length:r.selectionStart;let u=0,d=!1;if(this._maskService.applyValueChanges(s,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(w,I)=>{this._justPasted=!1,u=w,d=I}),this._getActiveElement()!==r)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let m=this._position?this._inputValue.length+s+u:s+("Backspace"!==this._code||d?u:0);m>this._getActualInputLength()&&(m=this._getActualInputLength()),m<0&&(m=0),r.setSelectionRange(m,m),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(t){if(!this._maskValue)return;const r=t.target;null!==r&&null!==r.selectionStart&&r.selectionStart===r.selectionEnd&&r.selectionStart>this._maskService.prefix.length&&38!==t.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),r.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===r.value?(r.focus(),r.setSelectionRange(0,0)):r.selectionStart>this._maskService.actualValue.length&&r.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const d=r.value&&r.value!==this._maskService.prefix?r.value:this._maskService.prefix+this._maskService.maskIsShown;r.value!==d&&(r.value=d),(r.selectionStart||r.selectionEnd)<=this._maskService.prefix.length?r.selectionStart=this._maskService.prefix.length:r.selectionEnd>this._getActualInputLength()&&(r.selectionEnd=this._getActualInputLength())}onKeyDown(t){var r;if(!this._maskValue)return;this._code=t.code?t.code:t.key;const s=t.target;if(this._inputValue=s.value,this._setMask(),38===t.keyCode&&t.preventDefault(),37===t.keyCode||8===t.keyCode||46===t.keyCode){if(8===t.keyCode&&0===s.value.length&&(s.selectionStart=s.selectionEnd),8===t.keyCode&&0!==s.selectionStart)if(this.specialCharacters=(null===(r=this.specialCharacters)||void 0===r?void 0:r.length)?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&s.selectionStart<=this.prefix.length)s.setSelectionRange(this.prefix.length,s.selectionEnd);else if(this._inputValue.length!==s.selectionStart&&1!==s.selectionStart)for(;this.specialCharacters.includes(this._inputValue[s.selectionStart-1].toString())&&(this.prefix.length>=1&&s.selectionStart>this.prefix.length||0===this.prefix.length);)s.setSelectionRange(s.selectionStart-1,s.selectionEnd);this.checkSelectionOnDeletion(s),this._maskService.prefix.length&&s.selectionStart<=this._maskService.prefix.length&&s.selectionEnd<=this._maskService.prefix.length&&t.preventDefault();const u=s.selectionStart;8===t.keyCode&&!s.readOnly&&0===u&&s.selectionEnd===s.value.length&&0!==s.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<s.selectionStart?s.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===t.keyCode&&t.ctrlKey||65===t.keyCode&&t.metaKey)&&(s.setSelectionRange(0,this._getActualInputLength()),t.preventDefault()),this._maskService.selStart=s.selectionStart,this._maskService.selEnd=s.selectionEnd}writeValue(t){return(0,MO.mG)(this,void 0,void 0,function*(){"object"==typeof t&&null!==t&&"value"in t&&("disable"in t&&this.setDisabledState(Boolean(t.disable)),t=t.value),("number"==typeof t||this._maskValue.startsWith("separator"))&&(t=this._maskService.numberToString(t),Array.isArray(this.decimalMarker)||(t="."!==this.decimalMarker?t.replace(".",this.decimalMarker):t),this._maskService.isNumberValue=!0),"string"!=typeof t&&(t=""),this._inputValue=t,this._setMask(),t&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(t,this._maskService.maskExpression)],this._maskService.writingValue=!1):this._maskService.formElementProperty=["value",t],this._inputValue=t})}registerOnChange(t){this.onChange=t,this._maskService.onChange=this.onChange}registerOnTouched(t){this.onTouch=t}_getActiveElement(t=this.document){var r;const s=null===(r=null==t?void 0:t.activeElement)||void 0===r?void 0:r.shadowRoot;return(null==s?void 0:s.activeElement)?this._getActiveElement(s):t.activeElement}checkSelectionOnDeletion(t){t.selectionStart=Math.min(Math.max(this.prefix.length,t.selectionStart),this._inputValue.length-this.suffix.length),t.selectionEnd=Math.min(Math.max(this.prefix.length,t.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(t){this._maskService.formElementProperty=["disabled",t]}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split("").reduce((r,s,u)=>{if(this._start="{"===s?u:this._start,"}"!==s)return this._maskService._findSpecialChar(s)?r+s:r;this._end=u;const d=Number(t.slice(this._start+1,this._end));return r+new Array(d+1).join(t[this._start-1])},"")||t}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(t){const r=this._maskValue.split("").filter(s=>":"!==s).length;return t&&(0==+t[t.length-1]&&t.length<r||t.length<=r-2)?this._createValidationError(t):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(t){return{mask:{requiredMask:this._maskValue,actualValue:t}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(t=>{var r,s;const u=(null===(r=this._maskService.removeMask(this._inputValue))||void 0===r?void 0:r.length)<=(null===(s=this._maskService.removeMask(t))||void 0===s?void 0:s.length);if(this._inputValue&&u)return this._maskValue=t,this.maskExpression=t,this._maskService.maskExpression=t,u;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(se),c.Y36(m1),c.Y36(qC))},n.\u0275dir=c.lG2({type:n,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(t,r){1&t&&c.NdJ("paste",function(){return r.onPaste()})("ngModelChange",function(u){return r.onModelChange(u)})("input",function(u){return r.onInput(u)})("blur",function(){return r.onBlur()})("click",function(u){return r.onClick(u)})("keydown",function(u){return r.onKeyDown(u)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[c._Bn([{provide:iu,useExisting:(0,c.Gpc)(()=>n),multi:!0},{provide:Ai,useExisting:(0,c.Gpc)(()=>n),multi:!0},m1]),c.TTD]}),n})();function PO(n,e){return Object.assign(Object.assign({},n),e instanceof Function?e():e)}let FO=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:f1,useValue:t},{provide:p1,useValue:RO},{provide:qC,useFactory:PO,deps:[p1,f1]},g1]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const y1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function LO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," Field is required !! "),c.qZA())}function UO(n,e){if(1&n&&(c.TgZ(0,"p",3),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.AsE(" The value you inputted is ",null==t.control.errors?null:t.control.errors.minlength.actualLength," characters long. It must be at least ",null==t.control.errors?null:t.control.errors.minlength.requiredLength," !! ")}}function VO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," You must enter a valid email !! "),c.qZA())}function BO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," Value too low !! "),c.qZA())}function jO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," Value too high !! "),c.qZA())}function $O(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," Password must be at least 8 characters, contain at least 1 uppercase letter, 1 lowercase letter, and 1 number, Can contain special characters !! "),c.qZA())}function HO(n,e){if(1&n&&(c.TgZ(0,"p",3),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.hij(" ",null==t.control.errors?null:t.control.errors.noMatch," ")}}function GO(n,e){if(1&n&&(c.ynx(0),c.YNc(1,LO,2,0,"p",2),c.YNc(2,UO,2,2,"p",2),c.YNc(3,VO,2,0,"p",2),c.YNc(4,BO,2,0,"p",2),c.YNc(5,jO,2,0,"p",2),c.YNc(6,$O,2,0,"p",2),c.YNc(7,HO,2,1,"p",2),c.Hsn(8),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.required),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.minlength),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.email),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.min),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.max),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.pattern),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.noMatch)}}y1.KeyboardEvent||(y1.KeyboardEvent=function(n,e){});const qO=[[["","validators",""]]],ZO=["[validators]"];let UA=(()=>{class n{constructor(){this.control=new su,this.placeholder="",this.type="text",this.format=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-input"]],inputs:{control:"control",placeholder:"placeholder",type:"type",format:"format"},ngContentSelectors:ZO,decls:2,vars:6,consts:[[1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"type","placeholder","formControl","mask","dropSpecialCharacters"],[4,"ngIf"],["class","text-red-400",4,"ngIf"],[1,"text-red-400"]],template:function(t,r){1&t&&(c.F$t(qO),c._UZ(0,"input",0),c.YNc(1,GO,9,7,"ng-container",1)),2&t&&(c.Q6J("type",r.type)("placeholder",r.placeholder)("formControl",r.control)("mask",r.format)("dropSpecialCharacters",!1),c.xp6(1),c.Q6J("ngIf",r.control.dirty||r.control.touched))},directives:[C0,OO,yA,RA,un],styles:[""]}),n})();function zO(n,e){if(1&n&&(c.TgZ(0,"app-alert",13),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Q6J("color",t.alertColor),c.xp6(1),c.Oqu(t.alertMessage)}}function WO(n,e){1&n&&(c.TgZ(0,"p",14),c._uU(1," The email is taken, Please use another email. "),c.qZA())}const KO=function(n,e){return{"opacity-50":n,"hover:bg-indigo-500":e}};let YO=(()=>{class n{constructor(t,r){this.authService=t,this.emailTaken=r,this.showAlert=!1,this.alertMessage="",this.alertColor="orange",this.inSubmission=!1,this.name=new su("",[Si.required,Si.minLength(3)]),this.email=new su("",[Si.required,Si.email],[this.emailTaken.validate]),this.age=new su("",[Si.required,Si.min(18),Si.max(120)]),this.password=new su("",[Si.required,Si.pattern(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/)]),this.confirm_password=new su("",[Si.required]),this.phoneNumber=new su("",[Si.required,Si.minLength(15),Si.maxLength(15)]),this.registerForm=new Iy({name:this.name,email:this.email,age:this.age,password:this.password,confirm_password:this.confirm_password,phoneNumber:this.phoneNumber},[xO.match("password","confirm_password","Confirm password doesn't match the entered password \u{1f914}\u{1f914}")])}ngOnInit(){}register(){this.inSubmission=!0,this.showAlert=!0,this.alertMessage="Please wait you account is being created. \u{1f607}";const t=this.registerForm.value.password,r={name:this.registerForm.value.name,email:this.registerForm.value.email,age:+this.registerForm.value.age,phoneNumber:this.registerForm.value.phoneNumber};try{this.authService.createUser(r,t).subscribe({next:s=>{this.alertMessage="Success! Your account has been created. \u{1f44c}\u{1f44c}",this.alertColor="green"},error:s=>{console.error(s),this.alertMessage=s.message,this.alertColor="red",this.inSubmission=!1},complete:()=>{this.inSubmission=!1}})}catch(s){return console.error(s),this.alertMessage=s.message,void(this.alertColor="red")}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ey),c.Y36(h1))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],features:[c._Bn([h1])],decls:30,vars:14,consts:[[3,"color",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"inline-block","mb-2"],["type","text","placeholder","Enter Name",3,"control"],["placeholder","Enter Email",3,"control"],["validators",""],["class","text-red-400",4,"ngIf"],["type","number","placeholder","Enter Age",3,"control"],["type","password","placeholder","Enter Password",3,"control"],["type","password","placeholder","Enter Confirm Password",3,"control"],["type","text","placeholder","Enter phone number","format","(000)0-00000000",3,"control"],["type","submit",1,"block","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition",3,"ngClass","disabled"],[3,"color"],[1,"text-red-400"]],template:function(t,r){1&t&&(c.YNc(0,zO,2,2,"app-alert",0),c.TgZ(1,"form",1),c.NdJ("ngSubmit",function(){return r.register()}),c.TgZ(2,"div",2)(3,"label",3),c._uU(4,"Name"),c.qZA(),c._UZ(5,"app-input",4),c.qZA(),c.TgZ(6,"div",2)(7,"label",3),c._uU(8,"Email"),c.qZA(),c.TgZ(9,"app-input",5),c.ynx(10,6),c.YNc(11,WO,2,0,"p",7),c.BQk(),c.qZA()(),c.TgZ(12,"div",2)(13,"label",3),c._uU(14,"Age"),c.qZA(),c._UZ(15,"app-input",8),c.qZA(),c.TgZ(16,"div",2)(17,"label",3),c._uU(18,"Password"),c.qZA(),c._UZ(19,"app-input",9),c.qZA(),c.TgZ(20,"div",2)(21,"label",3),c._uU(22,"Confirm Password"),c.qZA(),c._UZ(23,"app-input",10),c.qZA(),c.TgZ(24,"div",2)(25,"label",3),c._uU(26,"Phone Number"),c.qZA(),c._UZ(27,"app-input",11),c.qZA(),c.TgZ(28,"button",12),c._uU(29," Submit "),c.qZA()()),2&t&&(c.Q6J("ngIf",r.showAlert),c.xp6(1),c.Q6J("formGroup",r.registerForm),c.xp6(4),c.Q6J("control",r.name),c.xp6(4),c.Q6J("control",r.email),c.xp6(2),c.Q6J("ngIf",null==r.email.errors?null:r.email.errors.emailTaken),c.xp6(4),c.Q6J("control",r.age),c.xp6(4),c.Q6J("control",r.password),c.xp6(4),c.Q6J("control",r.confirm_password),c.xp6(4),c.Q6J("control",r.phoneNumber),c.xp6(1),c.Q6J("ngClass",c.WLB(11,KO,r.registerForm.invalid,r.registerForm.valid))("disabled",r.registerForm.invalid||r.inSubmission))},directives:[un,NC,x0,I0,Dy,UA,Br],styles:[""]}),n})(),QO=(()=>{class n{constructor(t){this.modalService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(by))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-auth-modal"]],decls:8,vars:0,consts:[["modalId","auth-modal"],["heading","",1,"text-2xl","font-bold"],["title","Login"],["title","Register"]],template:function(t,r){1&t&&(c.TgZ(0,"app-modal",0)(1,"p",1),c._uU(2,"Your Account"),c.qZA(),c.TgZ(3,"app-tabs-container")(4,"app-tab",2),c._UZ(5,"app-login"),c.qZA(),c.TgZ(6,"app-tab",3),c._UZ(7,"app-register"),c.qZA()()())},directives:[oM,AN,aM,SO,YO],styles:[""]}),n})();function JO(n,e){1&n&&c._UZ(0,"app-auth-modal")}let XO=(()=>{class n{constructor(t){this.authService=t,this.title="clips"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ey))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:3,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav")(1,"router-outlet"),c.YNc(2,JO,1,0,"app-auth-modal",0),c.ALo(3,"async")),2&t&&(c.xp6(2),c.Q6J("ngIf",!c.lcZ(3,1,r.authService.isAuthenticatedWithDelay$)))},directives:[_N,Ql,un,QO],pipes:[Wc],styles:[""]}),n})(),_1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[],imports:[[Da,LA,FO.forRoot()]]}),n})(),eP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Da,_1,LA,CO]]}),n})();const VA_firebaseConfig={apiKey:"AIzaSyCM2m0Tp1mHtZ366u5F5zI1f5rdnDRnNak",authDomain:"clibs-8ef23.firebaseapp.com",projectId:"clibs-8ef23",storageBucket:"clibs-8ef23.appspot.com",messagingSenderId:"687873988109",appId:"1:687873988109:web:e620587fa5d4c544c82744"},v1="firebasestorage.googleapis.com",w1="storageBucket";class ur extends Ot.ZR{constructor(e,t){super(BA(e),`Firebase Storage: ${t} (${BA(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ur.prototype)}_codeEquals(e){return BA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function BA(n){return"storage/"+n}function jA(){return new ur("unknown","An unknown error occurred, please check the error payload for server response.")}function E1(){return new ur("canceled","User canceled the upload/download.")}function b1(){return new ur("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ty(n){return new ur("invalid-argument",n)}function C1(){return new ur("app-deleted","The Firebase app was deleted.")}function I1(n){return new ur("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function M0(n,e){return new ur("invalid-format","String does not match format '"+n+"': "+e)}function R0(n){throw new ur("internal-error","Internal error: "+n)}class rs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=rs.makeFromUrl(e,t)}catch(s){return new rs(e,"")}if(""===r.path)return r;throw function dP(n){return new ur("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+s+"(/(.*))?$","i");function I(rt){rt.path_=decodeURIComponent(rt.path)}const M=t.replace(/[.]/g,"\\."),ct=[{regex:m,indices:{bucket:1,path:3},postModify:function u(rt){"/"===rt.path.charAt(rt.path.length-1)&&(rt.path_=rt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:I},{regex:new RegExp(`^https?://${t===v1?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:I}];for(let rt=0;rt<ct.length;rt++){const St=ct[rt],it=St.regex.exec(e);if(it){let pi=it[St.indices.path];pi||(pi=""),r=new rs(it[St.indices.bucket],pi),St.postModify(r);break}}if(null==r)throw function cP(n){return new ur("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class gP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ZC(n){return"string"==typeof n||n instanceof String}function D1(n){return $A()&&n instanceof Blob}function $A(){return"undefined"!=typeof Blob}function HA(n,e,t,r){if(r<e)throw Ty(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Ty(`Invalid value for '${n}'. Expected ${t} or less.`)}function $c(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function T1(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Nh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Nh||(Nh={})),Nh))();class EP{constructor(e,t,r,s,u,d,m,w,I,T,M){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=w,this.timeout_=I,this.progressCallback_=T,this.connectionFactory_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,G)=>{this.resolve_=L,this.reject_=G,this.start_()})}start_(){const t=(r,s)=>{const u=this.resolve_,d=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const w=this.callback_(m,m.getResponse());!function _P(n){return void 0!==n}(w)?u():u(w)}catch(w){d(w)}else if(null!==m){const w=jA();w.serverResponse=m.getErrorText(),d(this.errorCallback_?this.errorCallback_(m,w):w)}else d(s.canceled?this.appDelete_?C1():E1():function lP(){return new ur("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new zC(!1,null,!0)):this.backoffId_=function mP(n,e,t){let r=1,s=null,u=null,d=!1,m=0;function w(){return 2===m}let I=!1;function T(...Ne){I||(I=!0,e.apply(null,Ne))}function M(Ne){s=setTimeout(()=>{s=null,n(G,w())},Ne)}function L(){u&&clearTimeout(u)}function G(Ne,...gt){if(I)return void L();if(Ne)return L(),void T.call(null,Ne,...gt);if(w()||d)return L(),void T.call(null,Ne,...gt);let ct;r<64&&(r*=2),1===m?(m=2,ct=0):ct=1e3*(r+Math.random()),M(ct)}let ae=!1;function xe(Ne){ae||(ae=!0,L(),!I&&(null!==s?(Ne||(m=2),clearTimeout(s),M(0)):Ne||(m=1)))}return M(0),u=setTimeout(()=>{d=!0,xe(!0)},t),xe}((r,s)=>{if(s)return void r(!1,new zC(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const d=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const m=u.getErrorCode()===Nh.NO_ERROR,w=u.getStatus();if(!m||this.isRetryStatusCode_(w)){const T=u.getErrorCode()===Nh.ABORT;return void r(!1,new zC(!1,null,T))}const I=-1!==this.successCodes_.indexOf(w);r(!0,new zC(I,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function yP(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,s=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||s||u}}class zC{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function SP(...n){const e=function AP(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if($A())return new Blob(n);throw new ur("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Uo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class GA{constructor(e,t){this.data=e,this.contentType=t||null}}function qA(n,e){switch(n){case Uo.RAW:return new GA(A1(e));case Uo.BASE64:case Uo.BASE64URL:return new GA(S1(n,e));case Uo.DATA_URL:return new GA(function kP(n){const e=new x1(n);return e.base64?S1(Uo.BASE64,e.rest):function RP(n){let e;try{e=decodeURIComponent(n)}catch(t){throw M0(Uo.DATA_URL,"Malformed data URL.")}return A1(e)}(e.rest)}(e),function NP(n){return new x1(n).contentType}(e))}throw jA()}function A1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function S1(n,e){switch(n){case Uo.BASE64:{const s=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(s||u)throw M0(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Uo.BASE64URL:{const s=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(s||u)throw M0(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function MP(n){return atob(n)}(e)}catch(s){throw M0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class x1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw M0(Uo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function OP(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class _l{constructor(e,t){let r=0,s="";D1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(D1(this.data_)){const s=function xP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===s?null:new _l(s)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new _l(r,!0)}}static getBlob(...e){if($A()){const t=e.map(r=>r instanceof _l?r.data_:r);return new _l(SP.apply(null,t))}{const t=e.map(d=>ZC(d)?qA(Uo.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const s=new Uint8Array(r);let u=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)s[u++]=d[m]}),new _l(s,!0)}}uploadData(){return this.data_}}function ZA(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function wP(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function M1(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function LP(n,e){return e}class Ds{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||LP}}let WC=null;function k0(){if(WC)return WC;const n=[];n.push(new Ds("bucket")),n.push(new Ds("generation")),n.push(new Ds("metageneration")),n.push(new Ds("name","fullPath",!0));const t=new Ds("name");t.xform=function e(u,d){return function UP(n){return!ZC(n)||n.length<2?n:M1(n)}(d)},n.push(t);const s=new Ds("size");return s.xform=function r(u,d){return void 0!==d?Number(d):d},n.push(s),n.push(new Ds("timeCreated")),n.push(new Ds("updated")),n.push(new Ds("md5Hash",null,!0)),n.push(new Ds("cacheControl",null,!0)),n.push(new Ds("contentDisposition",null,!0)),n.push(new Ds("contentEncoding",null,!0)),n.push(new Ds("contentLanguage",null,!0)),n.push(new Ds("contentType",null,!0)),n.push(new Ds("metadata","customMetadata",!0)),WC=n,WC}function R1(n,e,t){const r=ZA(e);return null===r?null:function BP(n,e,t){const r={type:"file"},s=t.length;for(let u=0;u<s;u++){const d=t[u];r[d.local]=d.xform(r,e[d.server])}return function VP(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new rs(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function zA(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const u=e[s];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const k1="prefixes";class vl{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function wl(n){if(!n)throw jA()}function KC(n,e){return function t(r,s){const u=R1(n,s,e);return wl(null!==u),u}}function Ay(n){return function e(t,r){let s;return s=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function aP(){return new ur("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function oP(){return new ur("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function sP(n){return new ur("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function uP(n){return new ur("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,s.serverResponse=r.serverResponse,s}}function N0(n){const e=Ay(n);return function t(r,s){let u=e(r,s);return 404===r.getStatus()&&(u=function iP(n){return new ur("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=s.serverResponse,u}}function O1(n,e,t){const s=$c(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new vl(s,"GET",KC(n,t),d);return m.errorHandler=N0(e),m}function ZP(n,e,t,r,s){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),s&&(u.maxResults=s);const m=$c(e.bucketOnlyServerUrl(),n.host,n._protocol),I=n.maxOperationRetryTime,T=new vl(m,"GET",function GP(n,e){return function t(r,s){const u=function HP(n,e,t){const r=ZA(t);return null===r?null:function $P(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[k1])for(const s of t[k1]){const u=s.replace(/\/$/,""),d=n._makeStorageReference(new rs(e,u));r.prefixes.push(d)}if(t.items)for(const s of t.items){const u=n._makeStorageReference(new rs(e,s.name));r.items.push(u)}return r}(n,e,r)}(n,e,s);return wl(null!==u),u}}(n,e.bucket),I);return T.urlParams=u,T.errorHandler=Ay(e),T}function F1(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function YP(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class YC{constructor(e,t,r,s){this.current=e,this.total=t,this.finalized=!!r,this.metadata=s||null}}function WA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(s){wl(!1)}return wl(!!t&&-1!==(e||["active"]).indexOf(t)),t}const eF={STATE_CHANGED:"state_changed"},Ts={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function KA(n){switch(n){case"running":case"pausing":case"canceling":return Ts.RUNNING;case"paused":return Ts.PAUSED;case"success":return Ts.SUCCESS;case"canceled":return Ts.CANCELED;default:return Ts.ERROR}}class tF{constructor(e,t,r){if(function vP(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function Sy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class rF extends class nF{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Nh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Nh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Nh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw R0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const u in s)s.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,s[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw R0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw R0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw R0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw R0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ou(){return new rF}class B1{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=k0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,u)=>{this._resolve=s,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function QP(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),d=F1(e,r,s),m={name:d.fullPath},w=$c(u,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},M=zA(d,t),ae=new vl(w,"POST",function G(xe){let Ne;WA(xe);try{Ne=xe.getResponseHeader("X-Goog-Upload-URL")}catch(gt){wl(!1)}return wl(ZC(Ne)),Ne},n.maxUploadRetryTime);return ae.urlParams=m,ae.headers=T,ae.body=M,ae.errorHandler=Ay(e),ae}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ou,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const s=function JP(n,e,t,r){const w=new vl(t,"POST",function u(I){const T=WA(I,["active","final"]);let M=null;try{M=I.getResponseHeader("X-Goog-Upload-Size-Received")}catch(G){wl(!1)}M||wl(!1);const L=Number(M);return wl(!isNaN(L)),new YC(L,r.size(),"final"===T)},n.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=Ay(e),w}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(s,ou,t,r);this._request=u,u.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new YC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,u)=>{let d;try{d=function XP(n,e,t,r,s,u,d,m){const w=new YC(0,0);if(d?(w.current=d.current,w.total=d.total):(w.current=0,w.total=r.size()),r.size()!==w.total)throw function fP(){return new ur("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const I=w.total-w.current;let T=I;s>0&&(T=Math.min(T,s));const M=w.current,ae={"X-Goog-Upload-Command":T===I?"upload, finalize":"upload","X-Goog-Upload-Offset":`${w.current}`},xe=r.slice(M,M+T);if(null===xe)throw b1();const ct=new vl(t,"POST",function Ne(rt,St){const it=WA(rt,["active","final"]),It=w.current+T,pi=r.size();let Gp;return Gp="final"===it?KC(e,u)(rt,St):null,new YC(It,pi,"final"===it,Gp)},e.maxUploadRetryTime);return ct.headers=ae,ct.body=xe.uploadData(),ct.progressCallback=m||null,ct.errorHandler=Ay(n),ct}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const m=this._ref.storage._makeRequest(d,ou,s,u);this._request=m,m.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=O1(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,ou,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function L1(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},w=function m(){let ct="";for(let rt=0;rt<2;rt++)ct+=Math.random().toString().slice(2);return ct}();d["Content-Type"]="multipart/related; boundary="+w;const I=F1(e,r,s),T=zA(I,t),G=_l.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+w+"\r\nContent-Type: "+I.contentType+"\r\n\r\n",r,"\r\n--"+w+"--");if(null===G)throw b1();const ae={name:I.fullPath},xe=$c(u,n.host,n._protocol),gt=n.maxUploadRetryTime,Ct=new vl(xe,"POST",KC(n,t),gt);return Ct.urlParams=ae,Ct.headers=d,Ct.body=G.uploadData(),Ct.errorHandler=Ay(e),Ct}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ou,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=E1(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=KA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,s){const u=new tF(t||void 0,r||void 0,s||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(KA(this._state)){case Ts.SUCCESS:Sy(this._resolve.bind(null,this.snapshot))();break;case Ts.CANCELED:case Ts.ERROR:Sy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(KA(this._state)){case Ts.RUNNING:case Ts.PAUSED:e.next&&Sy(e.next.bind(e,this.snapshot))();break;case Ts.SUCCESS:e.complete&&Sy(e.complete.bind(e))();break;default:e.error&&Sy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Hp{constructor(e,t){this._service=e,this._location=t instanceof rs?t:rs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Hp(e,t)}get root(){const e=new rs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return M1(this._location.path)}get storage(){return this._service}get parent(){const e=function PP(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new rs(this._location.bucket,e);return new Hp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw I1(e)}}function $1(n,e,t){return YA.apply(this,arguments)}function YA(){return YA=(0,pe.Z)(function*(n,e,t){const s=yield H1(n,{pageToken:t});e.prefixes.push(...s.prefixes),e.items.push(...s.items),null!=s.nextPageToken&&(yield $1(n,e,s.nextPageToken))}),YA.apply(this,arguments)}function H1(n,e){null!=e&&"number"==typeof e.maxResults&&HA("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=ZP(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,ou)}function gF(n){n._throwIfRoot("getDownloadURL");const e=function zP(n,e,t){const s=$c(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new vl(s,"GET",function qP(n,e){return function t(r,s){const u=R1(n,s,e);return wl(null!==u),function jP(n,e,t,r){const s=ZA(e);if(null===s||!ZC(s.downloadTokens))return null;const u=s.downloadTokens;if(0===u.length)return null;const d=encodeURIComponent;return u.split(",").map(I=>{const M=n.fullPath;return $c("/b/"+d(n.bucket)+"/o/"+d(M),t,r)+T1({alt:"media",token:I})})[0]}(u,s,n.host,n._protocol)}}(n,t),d);return m.errorHandler=N0(e),m}(n.storage,n._location,k0());return n.storage.makeRequestWithTokens(e,ou).then(t=>{if(null===t)throw function pP(){return new ur("no-download-url","The given file does not have any download URLs.")}();return t})}function G1(n,e){const t=function FP(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new rs(n._location.bucket,t);return new Hp(n.storage,r)}function q1(n,e){if(n instanceof QA){const t=n;if(null==t._bucket)throw function hP(){return new ur("no-default-bucket","No default bucket found. Did you set the '"+w1+"' property when initializing the app?")}();const r=new Hp(t,t._bucket);return null!=e?q1(r,e):r}return void 0!==e?G1(n,e):n}function vF(n,e){if(e&&function yF(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof QA)return function _F(n,e){return new Hp(n,e)}(n,e);throw Ty("To use ref(service, url), the first argument must be a Storage instance.")}return q1(n,e)}function Z1(n,e){const t=null==e?void 0:e[w1];return null==t?null:rs.makeFromBucketSpec(t,n)}class QA{constructor(e,t,r,s,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=v1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?rs.makeFromBucketSpec(s,this._host):Z1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?rs.makeFromBucketSpec(this._url,e):Z1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hp(this,e)}_makeRequest(e,t,r,s){if(this._deleted)return new gP(C1());{const u=function TP(n,e,t,r,s,u){const d=T1(n.urlParams),m=n.url+d,w=Object.assign({},n.headers);return function IP(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function bP(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function CP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(w,u),function DP(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new EP(m,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s)}(e,this._appId,r,s,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,pe.Z)(function*(){const[s,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,s,u).getPromise()})()}}const z1="@firebase/storage";function Y1(n,e){return vF(n=(0,Ot.m9)(n),e)}function MF(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new QA(t,r,s,e,_s.SDK_VERSION)}!function RF(){(0,_s._registerComponent)(new Hu.wA("storage",MF,"PUBLIC").setMultipleInstances(!0)),(0,_s.registerVersion)(z1,"0.9.6",""),(0,_s.registerVersion)(z1,"0.9.6","esm2017")}();class QC{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Q1{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new QC(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new QC(r,this,this._ref))},t)}on(e,t,r,s){let u;return t&&(u="function"==typeof t?d=>t(new QC(d,this,this._ref)):{next:t.next?d=>t.next(new QC(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,s||void 0)}}class J1{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Hc(e,this._service))}get items(){return this._delegate.items.map(e=>new Hc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Hc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function SF(n,e){return G1(n,e)}(this._delegate,e);return new Hc(t,this.storage)}get root(){return new Hc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Hc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Q1(function EF(n,e,t){return function cF(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new B1(n,new _l(e),t)}(n=(0,Ot.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Uo.RAW,r){this._throwIfRoot("putString");const s=qA(t,e),u=Object.assign({},r);return null==u.contentType&&null!=s.contentType&&(u.contentType=s.contentType),new Q1(new B1(this._delegate,new _l(s.data,!0),u),this)}listAll(){return function DF(n){return function hF(n){const e={prefixes:[],items:[]};return $1(n,e).then(()=>e)}(n=(0,Ot.m9)(n))}(this._delegate).then(e=>new J1(e,this.storage))}list(e){return function IF(n,e){return H1(n=(0,Ot.m9)(n),e)}(this._delegate,e||void 0).then(t=>new J1(t,this.storage))}getMetadata(){return function bF(n){return function fF(n){n._throwIfRoot("getMetadata");const e=O1(n.storage,n._location,k0());return n.storage.makeRequestWithTokens(e,ou)}(n=(0,Ot.m9)(n))}(this._delegate)}updateMetadata(e){return function CF(n,e){return function pF(n,e){n._throwIfRoot("updateMetadata");const t=function WP(n,e,t,r){const u=$c(e.fullServerUrl(),n.host,n._protocol),m=zA(t,r),I=n.maxOperationRetryTime,T=new vl(u,"PATCH",KC(n,r),I);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=m,T.errorHandler=N0(e),T}(n.storage,n._location,e,k0());return n.storage.makeRequestWithTokens(t,ou)}(n=(0,Ot.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function TF(n){return gF(n=(0,Ot.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function AF(n){return function mF(n){n._throwIfRoot("deleteObject");const e=function KP(n,e){const r=$c(e.fullServerUrl(),n.host,n._protocol),m=new vl(r,"DELETE",function d(w,I){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=N0(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ou)}(n=(0,Ot.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw I1(e)}}class X1{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(eR(e))throw Ty("ref() expected a child path but got a URL, use refFromURL instead.");return new Hc(Y1(this._delegate,e),this)}refFromURL(e){if(!eR(e))throw Ty("refFromURL() expected a full URL but got a child path, use ref() instead.");try{rs.makeFromUrl(e,this._delegate.host)}catch(t){throw Ty("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hc(Y1(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function xF(n,e,t,r={}){!function wF(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken="string"==typeof s?s:(0,Ot.Sg)(s,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function eR(n){return/^[A-Za-z]+:\/\//.test(n)}function PF(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new X1(t,r)}function tR(n){const e=function LF(n){return new wn.y(e=>{const t=d=>e.next(d);t(n.snapshot);const u=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){u()}}).pipe(function tP(n,e=df.z){return(0,jn.e)((t,r)=>{let s=null,u=null,d=null;const m=()=>{if(s){s.unsubscribe(),s=null;const I=u;u=null,r.next(I)}};function w(){const I=d+n,T=e.now();if(T<I)return s=this.schedule(void 0,I-T),void r.add(s);m()}t.subscribe((0,Bn.x)(r,I=>{u=I,d=e.now(),s||(s=e.schedule(w,n),r.add(s))},()=>{m(),r.complete()},void 0,()=>{u=s=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,vt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function JC(n){return{getDownloadURL:()=>ot(void 0).pipe(kn.fc,dn(()=>n.getDownloadURL()),kn.iC),getMetadata:()=>ot(void 0).pipe(kn.fc,dn(()=>n.getMetadata()),kn.iC),delete:()=>(0,Qt.D)(n.delete()),child:e=>JC(n.child(e)),updateMetadata:e=>(0,Qt.D)(n.updateMetadata(e)),put:(e,t)=>tR(n.put(e,t)),putString:(e,t,r)=>tR(n.putString(e,t,r)),list:e=>(0,Qt.D)(n.list(e)),listAll:()=>(0,Qt.D)(n.listAll())}}!function FF(n){const e={TaskState:Ts,TaskEvent:eF,StringFormat:Uo,Storage:X1,Reference:Hc};n.INTERNAL.registerComponent(new Hu.wA("storage-compat",PF,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(Mw.Z);const UF=new c.OlP("angularfire2.storageBucket"),VF=new c.OlP("angularfire2.storage.maxUploadRetryTime"),BF=new c.OlP("angularfire2.storage.maxOperationRetryTime"),jF=new c.OlP("angularfire2.storage.use-emulator");let nR=(()=>{class n{constructor(t,r,s,u,d,m,w,I,T,M){const L=(0,pt.on)(t,d,r);this.storage=(0,pt.cc)(`${L.name}.storage.${s}`,"AngularFireStorage",L.name,()=>{const G=d.runOutsideAngular(()=>L.storage(s||void 0)),ae=T;return ae&&G.useEmulator(...ae),w&&G.setMaxUploadRetryTime(w),I&&G.setMaxOperationRetryTime(I),G},[w,I])}ref(t){return JC(this.storage.ref(t))}refFromURL(t){return JC(this.storage.refFromURL(t))}upload(t,r,s){return JC(this.storage.ref(t)).put(r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(pt.Dh),c.LFG(pt.xv,8),c.LFG(UF,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(kn.HU),c.LFG(VF,8),c.LFG(BF,8),c.LFG(jF,8),c.LFG(Gg,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),JA=(()=>{class n{constructor(t,r,s){this.db=t,this.auth=r,this.storage=s,this.clipsCollection=t.collection("clips")}createClip(t){return this.clipsCollection.add(t)}getUserClips(t){var r=this;return(0,pe.Z)(function*(){var s;return(yield r.clipsCollection.ref.where("uid","==",null===(s=r.auth.currentUser)||void 0===s?void 0:s.uid).orderBy("timestamp","1"===t?"desc":"asc").get()).docs})()}updateClip(t){return ot(this.clipsCollection.doc(t.id).set(t))}deleteClip(t){var r=this;return(0,pe.Z)(function*(){yield r.storage.ref(`${t.clipPath}`).delete(),yield r.storage.ref(`${t.screenshotPath}`).delete(),yield r.clipsCollection.doc(t.id).delete()})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(dA),c.LFG(Ey),c.LFG(nR))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $F(n,e){if(1&n&&(c.TgZ(0,"app-alert",9)(1,"p"),c._uU(2),c.qZA()()),2&n){const t=c.oxw();c.Q6J("color",t.alertMessageColor),c.xp6(2),c.Oqu(t.alertMessage)}}let HF=(()=>{class n{constructor(t,r){this.clipService=t,this.modalService=r,this.clip=null,this.clipUpdated=new c.vpe,this.alertMessageColor="red",this.alertMessage="",this.titleControl=new su("",[Si.required,Si.minLength(3)]),this.clipFormGroup=new Iy({title:this.titleControl})}ngOnChanges(t){!this.clip||this.titleControl.setValue(this.clip.title)}ngOnInit(){}get showAlertMessage(){return!!this.alertMessage}updateClip(){this.clip.title=this.titleControl.value,this.clipFormGroup.disable(),this.alertMessage="Please wait! Your clip is being updated ...",this.alertMessageColor="blue",this.clipService.updateClip(this.clip).subscribe({next:()=>{this.alertMessage="Success! Your clip is updated \u{1f973}",this.alertMessageColor="green",setTimeout(()=>{this.modalService.toggleModal("edit-clip")},1e3),this.clipUpdated.emit(this.clip)},error:t=>{this.alertMessage="Update is failed, Please try again later, Or if you curious check the cosole error ... \u{1f914}",console.error(t),this.alertMessageColor="red"}}),this.clipFormGroup.enable()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(JA),c.Y36(by))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit"]],inputs:{clip:"clip"},outputs:{clipUpdated:"clipUpdated"},features:[c.TTD],decls:12,vars:3,consts:[["modalId","edit-clip"],["heading","",1,"text-2xl","font-bold"],[3,"color",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mt-4"],[1,"block","text-xl","mb-4"],["placeholder","Enter Title",3,"control"],[1,"mt-4","text-right"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","rounded-md","text-white","bg-indigo-600","focus:outline-none"],[3,"color"]],template:function(t,r){1&t&&(c.TgZ(0,"app-modal",0)(1,"p",1),c._uU(2,"Edit Video"),c.qZA(),c.YNc(3,$F,3,2,"app-alert",2),c.TgZ(4,"form",3),c.NdJ("ngSubmit",function(){return r.updateClip()}),c.TgZ(5,"div",4)(6,"label",5),c._uU(7,"Title"),c.qZA(),c._UZ(8,"app-input",6),c.qZA(),c.TgZ(9,"div",7)(10,"button",8),c._uU(11," Update "),c.qZA()()()()),2&t&&(c.xp6(3),c.Q6J("ngIf",r.showAlertMessage),c.xp6(1),c.Q6J("formGroup",r.clipFormGroup),c.xp6(4),c.Q6J("control",r.titleControl))},directives:[oM,un,NC,x0,I0,Dy,UA],styles:[""]}),n})();function GF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",10)(1,"a",11),c._UZ(2,"img",12),c.qZA(),c.TgZ(3,"div",13)(4,"a",14),c._uU(5),c.qZA(),c.TgZ(6,"a",15),c._uU(7," Copy Link "),c.qZA()(),c.TgZ(8,"div",16)(9,"a",17),c.NdJ("click",function(s){const d=c.CHM(t).$implicit;return c.oxw().openModal(s,d)}),c.TgZ(10,"span",18),c._uU(11,"build"),c.qZA()(),c.TgZ(12,"a",19),c.NdJ("click",function(s){const d=c.CHM(t).$implicit;return c.oxw().deleteClip(s,d)}),c.TgZ(13,"span",18),c._uU(14,"delete"),c.qZA()()()()}if(2&n){const t=e.$implicit;c.xp6(5),c.hij(" ",t.title," ")}}let qF=(()=>{class n{constructor(t,r,s,u){this.router=t,this.activatedRoute=r,this.clipService=s,this.modalService=u,this.orderBy="1",this.clips=[],this.currentClip=null,this.sort$=new ii("1")}ngOnInit(){this.activatedRoute.queryParams.subscribe(t=>{this.orderBy="2"===t.sort?t.sort:"1",this.getUserClips()})}sort(t){const{value:r}=t.target;this.router.navigateByUrl(`/manage?sort=${r}`),this.sort$.next(r)}getUserClips(){this.clips=[],this.sort$.subscribe(t=>{this.clipService.getUserClips(t).then(r=>{r.forEach(s=>{this.clips.push(Object.assign(Object.assign({},s.data()),{id:s.id}))})})})}openModal(t,r){t.preventDefault(),this.currentClip=r,this.modalService.toggleModal("edit-clip")}onClipUpdated(t){}deleteClip(t,r){var s=this;return(0,pe.Z)(function*(){t.preventDefault();try{yield s.clipService.deleteClip(r),s.clips.forEach((u,d)=>{u.id==r.id&&s.clips.splice(d,1)})}catch(u){console.error(u)}})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Rn),c.Y36(Ao),c.Y36(JA),c.Y36(by))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-manage"]],decls:13,vars:4,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","justify-between"],["routerLink","/upload",1,"bg-indigo-400","text-white","py-4","px-10","text-xl"],[1,"text-black","px-8","text-xl","outline-none","appearance-none",3,"change"],["value","1",3,"selected"],["value","2",3,"selected"],[1,"container","mx-auto","my-8"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["class","mt-6 rounded-tl-2xl rounded-br-2xl shadow-xl bg-secondary flex flex-col justify-start",4,"ngFor","ngForOf"],[3,"clip","clipUpdated"],[1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","flex","flex-col","justify-start"],["href","#"],["src","assets/img/1.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"p-6","text-2xl"],["href","#",1,"font-bold","mb-2"],["href","#",1,"bg-gray-400","text-white","px-2","py-1","ml-2","text-sm","rounded"],[1,"flex","text-center","text-2xl","bg-gray-800","p-2","mt-auto"],[1,"flex-1","p-2","border-right","border-r-2","border-gray-700","transition","hover:text-indigo-400",3,"click"],[1,"material-icons","text-base"],[1,"flex-1","p-2","rounded-br-2xl","transition","hover:text-indigo-400",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"a",2),c._uU(3,"Upload Videos"),c.qZA(),c.TgZ(4,"select",3),c.NdJ("change",function(u){return r.sort(u)}),c.TgZ(5,"option",4),c._uU(6,"Recent Uploads"),c.qZA(),c.TgZ(7,"option",5),c._uU(8,"Oldest Uploads"),c.qZA()()()(),c.TgZ(9,"div",6)(10,"div",7),c.YNc(11,GF,15,1,"div",8),c.qZA()(),c.TgZ(12,"app-edit",9),c.NdJ("clipUpdated",function(u){return r.onClipUpdated(u)}),c.qZA()),2&t&&(c.xp6(5),c.Q6J("selected","1"==r.orderBy),c.xp6(2),c.Q6J("selected","2"==r.orderBy),c.xp6(4),c.Q6J("ngForOf",r.clips),c.xp6(1),c.Q6J("clip",r.currentClip))},directives:[qa,e1,n1,An,HF],styles:[""]}),n})();var XC,ZF=new Uint8Array(16);function zF(){if(!XC&&!(XC="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return XC(ZF)}const WF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,YF=function KF(n){return"string"==typeof n&&WF.test(n)};for(var xi=[],XA=0;XA<256;++XA)xi.push((XA+256).toString(16).substr(1));const eL=function XF(n,e,t){var r=(n=n||{}).random||(n.rng||zF)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=r[s];return e}return function QF(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(xi[n[e+0]]+xi[n[e+1]]+xi[n[e+2]]+xi[n[e+3]]+"-"+xi[n[e+4]]+xi[n[e+5]]+"-"+xi[n[e+6]]+xi[n[e+7]]+"-"+xi[n[e+8]]+xi[n[e+9]]+"-"+xi[n[e+10]]+xi[n[e+11]]+xi[n[e+12]]+xi[n[e+13]]+xi[n[e+14]]+xi[n[e+15]]).toLowerCase();if(!YF(t))throw TypeError("Stringified UUID is invalid");return t}(r)};var rR=k(260);let tL=(()=>{class n{constructor(){this.isReady=!1,this.isRunning=!1,this.ffmpeg=(0,rR.createFFmpeg)({log:!0})}init(){var t=this;return(0,pe.Z)(function*(){t.isReady||(yield t.ffmpeg.load(),t.isReady=!0)})()}getScreenshots(t){var r=this;return(0,pe.Z)(function*(){r.isRunning=!0;const s=yield(0,rR.fetchFile)(t);r.ffmpeg.FS("writeFile",t.name,s);const u=[1,2,3],d=[];u.forEach(w=>{d.push("-i",t.name,"-ss",`00:00:0${w}`,"-frames:v","1","-filter:v","scale=510:-1",`output_0${w}.png`)}),yield r.ffmpeg.run(...d);const m=[];return u.forEach(w=>{const I=r.ffmpeg.FS("readFile",`output_0${w}.png`),T=new Blob([I.buffer],{type:"image/png"}),M=URL.createObjectURL(T);m.push(M)}),r.isRunning=!1,m})()}blobFromURL(t){return(0,pe.Z)(function*(){return yield(yield fetch(t)).blob()})()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nL=(()=>{class n{hadleEvent(t){t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","app-event-bloker",""]],hostBindings:function(t,r){1&t&&c.NdJ("drop",function(u){return r.hadleEvent(u)})("dragover",function(u){return r.hadleEvent(u)})}}),n})(),rL=(()=>{class n{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustUrl(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(dd,16))},n.\u0275pipe=c.Yjl({name:"safeURL",type:n,pure:!0}),n})();function iL(n,e){1&n&&(c.TgZ(0,"span",9),c._uU(1," autorenew "),c.qZA())}const sL=function(n){return{"bg-indigo-400 border-indigo-400 border-solid":n}};function oL(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"input",6),c.NdJ("change",function(s){return c.CHM(t),c.oxw(2).storeFile(s)}),c.qZA(),c.TgZ(2,"div",7),c.NdJ("dragend",function(){return c.CHM(t),c.oxw(2).isDragover=!1})("dragover",function(){return c.CHM(t),c.oxw(2).isDragover=!0})("dragenter",function(){return c.CHM(t),c.oxw(2).isDragover=!0})("dragleave",function(){return c.CHM(t),c.oxw(2).isDragover=!1})("mouseleave",function(){return c.CHM(t),c.oxw(2).isDragover=!1})("drop",function(s){return c.CHM(t),c.oxw(2).storeFile(s)}),c.TgZ(3,"h5"),c._uU(4,"Drop your file here (mp4 only!)"),c.qZA(),c.YNc(5,iL,2,0,"span",8),c.qZA(),c.BQk()}if(2&n){const t=c.oxw(2);c.xp6(2),c.Q6J("ngClass",c.VKq(2,sL,t.isDragover)),c.xp6(3),c.Q6J("ngIf",t.isRunning)}}function aL(n,e){if(1&n&&(c.ynx(0),c.YNc(1,oL,6,4,"ng-container",3),c.BQk()),2&n){const t=c.oxw(),r=c.MAs(6);c.xp6(1),c.Q6J("ngIf",!t.nextStep)("ngIfElse",r)}}function uL(n,e){if(1&n&&(c.TgZ(0,"p"),c._uU(1),c.ALo(2,"percent"),c.qZA()),2&n){const t=c.oxw(3);c.xp6(1),c.Oqu(c.lcZ(2,1,t.percentage))}}function lL(n,e){if(1&n&&(c.TgZ(0,"app-alert",20)(1,"p"),c._uU(2),c.qZA(),c.YNc(3,uL,3,3,"p",21),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("color",t.alertMessageColor),c.xp6(2),c.Oqu(t.alertMessage),c.xp6(1),c.Q6J("ngIf",t.showPercentage)}}const cL=function(n,e){return{"border-green-400":n,"border-transparent":e}};function dL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",22)(1,"img",23),c.NdJ("click",function(){const u=c.CHM(t).$implicit;return c.oxw(2).imageSelected(u)}),c.ALo(2,"safeURL"),c.qZA()()}if(2&n){const t=e.$implicit,r=c.oxw(2);c.Q6J("ngClass",c.WLB(4,cL,t==r.selectedScreenshot,t!=r.selectedScreenshot)),c.xp6(1),c.Q6J("src",c.lcZ(2,2,t),c.LSH)}}const hL=function(n,e){return{"opacity-50":n,"hover:bg-indigo-700":e}};function fL(n,e){if(1&n){const t=c.EpF();c.YNc(0,lL,4,3,"app-alert",10),c.TgZ(1,"form",11),c.NdJ("ngSubmit",function(){return c.CHM(t),c.oxw().uploadFile()}),c.TgZ(2,"h2",12),c._uU(3,"Select a Thumbnail"),c.qZA(),c.TgZ(4,"div",13),c.YNc(5,dL,3,7,"div",14),c.qZA(),c.TgZ(6,"div",15)(7,"label",16),c._uU(8,"Title"),c.qZA(),c._UZ(9,"app-input",17),c.qZA(),c.TgZ(10,"div",18)(11,"button",19),c._uU(12," Publish "),c.qZA()()()}if(2&n){const t=c.oxw();c.Q6J("ngIf",t.showAlertMessage),c.xp6(1),c.Q6J("formGroup",t.uploadForm),c.xp6(4),c.Q6J("ngForOf",t.screenshots),c.xp6(4),c.Q6J("control",t.titleControl),c.xp6(2),c.Q6J("disabled",t.isUploading)("ngClass",c.WLB(6,hL,t.isUploading,!t.isUploading))}}function pL(n,e){1&n&&(c.TgZ(0,"span",9),c._uU(1," settings "),c.qZA())}let gL=(()=>{class n{constructor(t,r,s,u,d){this.storage=t,this.authService=r,this.clilpService=s,this.router=u,this.ffmpegService=d,this.isUploading=!1,this.isDragover=!1,this.file=null,this.nextStep=!1,this.alertMessageColor="red",this.alertMessage="",this.percentage=0,this.user=null,this.screenshots=[],this.selectedScreenshot="",this.titleControl=new su("",[Si.required,Si.minLength(3)]),this.uploadForm=new Iy({title:this.titleControl}),this.authService.getUser().subscribe(m=>{this.user=m}),this.ffmpegService.init()}get showAlertMessage(){return!!this.alertMessage}get showPercentage(){return!!this.percentage}ngOnInit(){}storeFile(t){var r=this;return(0,pe.Z)(function*(){var s,u,d,m;r.ffmpegService.isRunning||(r.file=t.dataTransfer?null!==(u=null===(s=t.dataTransfer)||void 0===s?void 0:s.files.item(0))&&void 0!==u?u:null:null!==(m=null===(d=t.target.files)||void 0===d?void 0:d.item(0))&&void 0!==m?m:null,r.file&&"video/mp4"===r.file.type&&(r.screenshots=yield r.ffmpegService.getScreenshots(r.file),r.selectedScreenshot=r.screenshots[0],r.titleControl.setValue(r.file.name.replace(/\.[^/.]+$/,"")),r.nextStep=!0))})()}uploadFile(){var t=this;return(0,pe.Z)(function*(){var r,s,u;t.uploadForm.disable(),t.isUploading=!0;const d=eL(),w=`clips/${d}.mp4`,I=yield t.ffmpegService.blobFromURL(t.selectedScreenshot),T=`screenshots/${d}.png`;t.alertMessage="Please wait! Your file is being uploaded ...",t.alertMessageColor="blue",t.uploadFileTask=t.storage.upload(w,t.file);const M=t.storage.ref(w);t.uploadScreenshotTask=t.storage.upload(T,I);const L=t.storage.ref(T);var G;vo([null===(r=t.uploadFileTask)||void 0===r?void 0:r.percentageChanges(),null===(s=t.uploadScreenshotTask)||void 0===s?void 0:s.percentageChanges()]).subscribe(G=>{const[ae,xe]=G;ae&&xe&&(t.percentage=(ae+xe)/200)}),fA([null===(u=t.uploadFileTask)||void 0===u?void 0:u.snapshotChanges(),t.uploadScreenshotTask.snapshotChanges()]).pipe(dn(()=>fA([M.getDownloadURL(),L.getDownloadURL()]))).subscribe({next:(G=(0,pe.Z)(function*(ae){var xe,Ne,gt;const[Ct,ct]=ae,rt={uid:null===(xe=t.user)||void 0===xe?void 0:xe.uid,displayName:null===(Ne=t.user)||void 0===Ne?void 0:Ne.displayName,clipPath:w,screenshotPath:T,fileName:null===(gt=t.file)||void 0===gt?void 0:gt.name,title:t.titleControl.value,url:Ct,screenshotUrl:ct,timestamp:bf.Z.firestore.FieldValue.serverTimestamp()},St=yield t.clilpService.createClip(rt);t.alertMessage="Success! Your clip is now ready to share \u{1f973}",t.alertMessageColor="green",t.redirectToClipPage(St.id)}),function(xe){return G.apply(this,arguments)}),error:G=>{t.alertMessage="Upload is failed, Please try again later, Or if you curious check the cosole error ... \u{1f914}",console.error(G),t.alertMessageColor="red",t.uploadForm.enable()},complete:()=>{t.isUploading=!1,t.percentage=0}})})()}ngOnDestroy(){var t;null===(t=this.uploadFileTask)||void 0===t||t.cancel()}redirectToClipPage(t){setTimeout(()=>{this.router.navigate(["clip",t])},1e3)}imageSelected(t){this.selectedScreenshot=t}get isReady(){return this.ffmpegService.isReady}get isRunning(){return this.ffmpegService.isRunning}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(nR),c.Y36(Ey),c.Y36(JA),c.Y36(Rn),c.Y36(tL))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-upload"]],decls:9,vars:2,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","flex-col"],[1,"font-bold","mb-6"],[4,"ngIf","ngIfElse"],["uploadFormContainer",""],["loadingContainer",""],["type","file",1,"mb-4",3,"change"],["app-event-bloker","",1,"w-full","px-10","py-40","rounded","text-center","cursor-pointer","border","border-dashed","border-gray-400","transition","duration-500","hover:text-white","hover:bg-indigo-400","hover:border-indigo-400","hover:border-solid","text-xl",3,"ngClass","dragend","dragover","dragenter","dragleave","mouseleave","drop"],["class","material-icons text-center text-6xl p-8 animate-spin",4,"ngIf"],[1,"material-icons","text-center","text-6xl","p-8","animate-spin"],[3,"color",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-4","text-xl"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["class","border-8 cursor-pointer",3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-4"],[1,"block","text-xl","mb-4"],["placeholder","Enter Title",3,"control"],[1,"mt-4","text-right"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","rounded-md","text-white","bg-indigo-600","focus:outline-none",3,"disabled","ngClass"],[3,"color"],[4,"ngIf"],[1,"border-8","cursor-pointer",3,"ngClass"],[3,"src","click"]],template:function(t,r){if(1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2),c._uU(3,"Upload Video"),c.qZA(),c.YNc(4,aL,2,2,"ng-container",3),c.YNc(5,fL,13,9,"ng-template",null,4,c.W1O),c.YNc(7,pL,2,0,"ng-template",null,5,c.W1O),c.qZA()()),2&t){const s=c.MAs(8);c.xp6(4),c.Q6J("ngIf",r.isReady)("ngIfElse",s)}},directives:[un,nL,Br,NC,x0,I0,Dy,An,UA],pipes:[er,rL],styles:[""]}),n})();var mL=k(9635);const eS=(0,vt.U)(n=>!!n);let tS=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(s,u)=>{const d=s.data.authGuardPipe||(()=>eS);return this.auth.user.pipe((0,si.q)(1),d(s,u),(0,vt.U)(m=>"boolean"==typeof m?m:Array.isArray(m)?this.router.createUrlTree(m):this.router.parseUrl(m)))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Rn),c.LFG(ac))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const iR=()=>(0,mL.z)(eS,(0,vt.U)(e=>e||"/")),vL=[{path:"manage-clips",redirectTo:"manage"},{path:"manage",component:qF,canActivate:[tS],data:{authOnly:!0,authGuardPipe:iR}},{path:"upload",component:gL,canActivate:[tS],data:{authOnly:!0,authGuardPipe:iR}}];let wL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Sg.forChild(vL)],Sg]}),n})(),EL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[Da,wL,_1,LA]]}),n})(),bL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[XO]}),n.\u0275inj=c.cJS({providers:[],imports:[[Ma,eP,pt.hO.initializeApp(VA_firebaseConfig),xw,sM,EL,J0,sM]]}),n})();(0,c.G48)(),bf.Z.initializeApp(VA_firebaseConfig);let sR=!1;bf.Z.auth().onAuthStateChanged(()=>{sR||vu().bootstrapModule(bL).catch(n=>console.error(n)),sR=!0})},5867:(Re,le,k)=>{"use strict";k.d(le,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=k(9681);(0,c.registerVersion)("firebase","9.8.2","app")},127:(Re,le,k)=>{"use strict";k.d(le,{Z:()=>c.Z});var c=k(3942);c.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(Re,le,k)=>{"use strict";k.r(le);var c=k(5861),Z=k(3942),O=k(2090),ee=k(9681),K=k(655),ie=k(1877),se=k(4859);const Te=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Je=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},we=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ze=new ie.Yd("@firebase/auth");function Ye(y,...f){ze.logLevel<=ie.in.ERROR&&ze.error(`Auth (${ee.SDK_VERSION}): ${y}`,...f)}function Se(y,...f){throw qe(y,...f)}function be(y,...f){return qe(y,...f)}function De(y,f,g){const v=Object.assign(Object.assign({},Je()),{[f]:g});return new O.LL("auth","Firebase",v).create(f,{appName:y.name})}function je(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Se(y,"argument-error"),De(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(y,...f){if("string"!=typeof y){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(g,...v)}return we.create(y,...f)}function $(y,f,...g){if(!y)throw qe(f,...g)}function Ce(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Ye(f),new Error(f)}function Q(y,f){y||Ce(f)}const de=new Map;function oe(y){Q(y instanceof Function,"Expected a class definition");let f=de.get(y);return f?(Q(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,de.set(y,f),f)}function z(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ge(){return"http:"===Be()||"https:"===Be()}function Be(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class _t{constructor(f,g){this.shortDelay=f,this.longDelay=g,Q(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Ve(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ge()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jt(y,f){Q(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Ut{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Pn=new _t(3e4,6e4);function $t(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Nt(y,f,g,v){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(y,f,g,v,A={}){return Yr(y,A,(0,c.Z)(function*(){let N={},J={};v&&("GET"===f?J=v:N={body:JSON.stringify(v)});const ye=(0,O.xO)(Object.assign({key:y.config.apiKey},J)).slice(1),Ge=yield y._getAdditionalHeaders();return Ge["Content-Type"]="application/json",y.languageCode&&(Ge["X-Firebase-Locale"]=y.languageCode),Ut.fetch()(As(y,y.config.apiHost,g,ye),Object.assign({method:f,headers:Ge,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Yr(y,f,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(y,f,g){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},kt),f);try{const A=new Qr(y),N=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const J=yield N.json();if("needConfirmation"in J)throw gi(y,"account-exists-with-different-credential",J);if(N.ok&&!("errorMessage"in J))return J;{const ye=N.ok?J.errorMessage:J.error.message,[Ge,tt]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ge)throw gi(y,"credential-already-in-use",J);if("EMAIL_EXISTS"===Ge)throw gi(y,"email-already-in-use",J);if("USER_DISABLED"===Ge)throw gi(y,"user-disabled",J);const mt=v[Ge]||Ge.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw De(y,mt,tt);Se(y,mt)}}catch(A){if(A instanceof O.ZR)throw A;Se(y,"network-request-failed")}})).apply(this,arguments)}function Ir(y,f,g,v){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(y,f,g,v,A={}){const N=yield Nt(y,f,g,v,A);return"mfaPendingCredential"in N&&Se(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function As(y,f,g,v){const A=`${f}${g}?${v}`;return y.config.emulator?jt(y.config,A):`${y.config.apiScheme}://${A}`}class Qr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(be(this.auth,"network-request-failed")),Pn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gi(y,f,g){const v={appName:y.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const A=be(y,f,v);return A.customData._tokenResponse=g,A}function Jr(){return(Jr=(0,c.Z)(function*(y,f){return Nt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function fn(y,f){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(y,f){return Nt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function so(y,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(y,f){return Nt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function qn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Vo(){return(Vo=(0,c.Z)(function*(y,f=!1){const g=(0,O.m9)(y),v=yield g.getIdToken(f),A=lt(v);$(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const N="object"==typeof A.firebase?A.firebase:void 0,J=null==N?void 0:N.sign_in_provider;return{claims:A,token:v,authTime:qn(Zt(A.auth_time)),issuedAtTime:qn(Zt(A.iat)),expirationTime:qn(Zt(A.exp)),signInProvider:J||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Zt(y){return 1e3*Number(y)}function lt(y){const[f,g,v]=y.split(".");if(void 0===f||void 0===g||void 0===v)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,O.tV)(g);return A?JSON.parse(A):(Ye("Failed to decode base64 JWT payload"),null)}catch(A){return Ye("Caught error parsing JWT payload as JSON",A),null}}function cr(y,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof O.ZR&&Gt(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function Gt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class oo{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class dr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hr(y){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(y){var f;const g=y.auth,v=yield y.getIdToken(),A=yield cr(y,so(g,{idToken:v}));$(null==A?void 0:A.users.length,g,"internal-error");const N=A.users[0];y._notifyReloadListener(N);const J=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?q(N.providerUserInfo):[],ye=Ae(y.providerData,J),mt=!!y.isAnonymous&&!(y.email&&N.passwordHash||(null==ye?void 0:ye.length)),ft={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ye,metadata:new dr(N.createdAt,N.lastLoginAt),isAnonymous:mt};Object.assign(y,ft)})).apply(this,arguments)}function Y(){return(Y=(0,c.Z)(function*(y){const f=(0,O.m9)(y);yield hr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ae(y,f){return[...y.filter(v=>!f.some(A=>A.providerId===v.providerId)),...f]}function q(y){return y.map(f=>{var{providerId:g}=f,v=(0,K._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Pe(){return(Pe=(0,c.Z)(function*(y,f){const g=yield Yr(y,{},(0,c.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:N}=y.config,J=As(y,A,"/v1/token",`key=${N}`),ye=yield y._getAdditionalHeaders();return ye["Content-Type"]="application/x-www-form-urlencoded",Ut.fetch()(J,{method:"POST",headers:ye,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){$(f.idToken,"internal-error"),$(void 0!==f.idToken,"internal-error"),$(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function Dt(y){const f=lt(y);return $(f,"internal-error"),$(void 0!==f.exp,"internal-error"),$(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,c.Z)(function*(){return $(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,c.Z)(function*(){const{accessToken:A,refreshToken:N,expiresIn:J}=yield function ue(y,f){return Pe.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(A,N,Number(J))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:A,expirationTime:N}=g,J=new et;return v&&($("string"==typeof v,"internal-error",{appName:f}),J.refreshToken=v),A&&($("string"==typeof A,"internal-error",{appName:f}),J.accessToken=A),N&&($("number"==typeof N,"internal-error",{appName:f}),J.expirationTime=N),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new et,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function yt(y,f){$("string"==typeof y||void 0===y,"internal-error",{appName:f})}class xt{constructor(f){var{uid:g,auth:v,stsTokenManager:A}=f,N=(0,K._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new dr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const v=yield cr(g,g.stsTokenManager.getToken(g.auth,f));return $(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function mi(y){return Vo.apply(this,arguments)}(this,f)}reload(){return function W(y){return Y.apply(this,arguments)}(this)}_assign(f){this!==f&&($(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new xt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,c.Z)(function*(){let A=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield hr(v)),yield v.auth._persistUserIfCurrent(v),A&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield cr(f,function Et(y,f){return Jr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,A,N,J,ye,Ge,tt,mt;const ft=null!==(v=g.displayName)&&void 0!==v?v:void 0,In=null!==(A=g.email)&&void 0!==A?A:void 0,li=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Vu=null!==(J=g.photoURL)&&void 0!==J?J:void 0,af=null!==(ye=g.tenantId)&&void 0!==ye?ye:void 0,Ig=null!==(Ge=g._redirectEventId)&&void 0!==Ge?Ge:void 0,Ga=null!==(tt=g.createdAt)&&void 0!==tt?tt:void 0,rc=null!==(mt=g.lastLoginAt)&&void 0!==mt?mt:void 0,{uid:Vd,emailVerified:Dg,isAnonymous:Rn,providerData:uf,stsTokenManager:lf}=g;$(Vd&&lf,f,"internal-error");const cf=et.fromJSON(this.name,lf);$("string"==typeof Vd,f,"internal-error"),yt(ft,f.name),yt(In,f.name),$("boolean"==typeof Dg,f,"internal-error"),$("boolean"==typeof Rn,f,"internal-error"),yt(li,f.name),yt(Vu,f.name),yt(af,f.name),yt(Ig,f.name),yt(Ga,f.name),yt(rc,f.name);const qa=new xt({uid:Vd,auth:f,email:In,emailVerified:Dg,displayName:ft,isAnonymous:Rn,photoURL:Vu,phoneNumber:li,tenantId:af,stsTokenManager:cf,createdAt:Ga,lastLoginAt:rc});return uf&&Array.isArray(uf)&&(qa.providerData=uf.map(Bu=>Object.assign({},Bu))),Ig&&(qa._redirectEventId=Ig),qa}static _fromIdTokenResponse(f,g,v=!1){return(0,c.Z)(function*(){const A=new et;A.updateFromServerResponse(g);const N=new xt({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:v});return yield hr(N),N})()}}const At=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,v){var A=this;return(0,c.Z)(function*(){A.storage[g]=v})()}_get(g){var v=this;return(0,c.Z)(function*(){const A=v.storage[g];return void 0===A?null:A})()}_remove(g){var v=this;return(0,c.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return y.type="NONE",y})();function Fn(y,f,g){return`firebase:${y}:${f}:${g}`}class Dr{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:A,name:N}=this.auth;this.fullUserKey=Fn(this.userKey,A.apiKey,N),this.fullPersistenceKey=Fn("persistence",A.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?xt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Dr(oe(At),f,v);const A=(yield Promise.all(g.map(function(){var tt=(0,c.Z)(function*(mt){if(yield mt._isAvailable())return mt});return function(mt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let N=A[0]||oe(At);const J=Fn(v,f.config.apiKey,f.name);let ye=null;for(const tt of g)try{const mt=yield tt._get(J);if(mt){const ft=xt._fromJSON(f,mt);tt!==N&&(ye=ft),N=tt;break}}catch(mt){}const Ge=A.filter(tt=>tt._shouldAllowMigration);return N._shouldAllowMigration&&Ge.length?(N=Ge[0],ye&&(yield N._set(J,ye.toJSON())),yield Promise.all(g.map(function(){var tt=(0,c.Z)(function*(mt){if(mt!==N)try{yield mt._remove(J)}catch(ft){}});return function(mt){return tt.apply(this,arguments)}}())),new Dr(N,f,v)):new Dr(N,f,v)})()}}function au(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ln(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(va(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(ss(f))return"Blackberry";if(Un(f))return"Webos";if(uu(f))return"Safari";if((f.includes("chrome/")||wa(f))&&!f.includes("edge/"))return"Chrome";if(Tr(f))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function va(y=(0,O.z$)()){return/firefox\//i.test(y)}function uu(y=(0,O.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function wa(y=(0,O.z$)()){return/crios\//i.test(y)}function Ln(y=(0,O.z$)()){return/iemobile/i.test(y)}function Tr(y=(0,O.z$)()){return/android/i.test(y)}function ss(y=(0,O.z$)()){return/blackberry/i.test(y)}function Un(y=(0,O.z$)()){return/webos/i.test(y)}function Lr(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)}function Ss(y=(0,O.z$)()){return Lr(y)||Tr(y)||Un(y)||ss(y)||/windows phone/i.test(y)||Ln(y)}function Bo(y,f=[]){let g;switch(y){case"Browser":g=au((0,O.z$)());break;case"Worker":g=`${au((0,O.z$)())}-${y}`;break;default:g=y}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ee.SDK_VERSION}/${v}`}class Ur{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const v=N=>new Promise((J,ye)=>{try{J(f(N))}catch(Ge){ye(Ge)}});v.onAbort=g,this.queue.push(v);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===f)return;const v=[];try{for(const A of g.queue)yield A(f),A.onAbort&&v.push(A.onAbort)}catch(A){v.reverse();for(const N of v)try{N()}catch(J){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:A.message})}})()}}class Ke{constructor(f,g,v){this.app=f,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new en(this),this.idTokenSubscription=new en(this),this.beforeStateQueue=new Ur(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=we,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=oe(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var A,N;if(!v._deleted&&(v.persistenceManager=yield Dr.create(v,f),!v._deleted)){if(null===(A=v._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(J){}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(N=v.currentUser)||void 0===N?void 0:N.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var v;const A=yield g.assertedPersistence.getCurrentUser();let N=A,J=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ye=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,Ge=null==N?void 0:N._redirectEventId,tt=yield g.tryRedirectSignIn(f);(!ye||ye===Ge)&&(null==tt?void 0:tt.user)&&(N=tt.user,J=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(J)try{yield g.beforeStateQueue.runMiddleware(N)}catch(ye){N=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ye))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return $(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(A){yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield hr(f)}catch(v){if("auth/network-request-failed"!==v.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Le(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const v=f?(0,O.m9)(f):null;return v&&$(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f,g=!1){var v=this;return(0,c.Z)(function*(){if(!v._deleted)return f&&$(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,c.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(oe(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,c.Z)(function*(){const A=yield v.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&oe(f)||g._popupRedirectResolver;$(v,g,"argument-error"),g.redirectPersistenceManager=yield Dr.create(g,[oe(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var v,A;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,A){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),J=this._isInitialized?Promise.resolve():this._initializationPromise;return $(J,this,"internal-error"),J.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,v,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Bo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return A&&(v["X-Firebase-Client"]=A),v})()}}function dt(y){return(0,O.m9)(y)}class en{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ri(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function ki(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class yi{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Ce("not implemented")}_getIdTokenResponse(f){return Ce("not implemented")}_linkToIdToken(f,g){return Ce("not implemented")}_getReauthenticationResolver(f){return Ce("not implemented")}}function vn(y,f){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(y,f){return Nt(y,"POST","/v1/accounts:resetPassword",$t(y,f))})).apply(this,arguments)}function ba(y,f){return Br.apply(this,arguments)}function Br(){return(Br=(0,c.Z)(function*(y,f){return Nt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function lu(y,f){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(y,f){return Nt(y,"POST","/v1/accounts:update",$t(y,f))})).apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithPassword",$t(y,f))})).apply(this,arguments)}function Ms(y,f){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(y,f){return Nt(y,"POST","/v1/accounts:sendOobCode",$t(y,f))})).apply(this,arguments)}function tn(y,f){return cu.apply(this,arguments)}function cu(){return(cu=(0,c.Z)(function*(y,f){return Ms(y,f)})).apply(this,arguments)}function Ca(y,f){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(y,f){return Ms(y,f)})).apply(this,arguments)}function Ni(y,f){return du.apply(this,arguments)}function du(){return(du=(0,c.Z)(function*(y,f){return Ms(y,f)})).apply(this,arguments)}function qc(y,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(y,f){return Ms(y,f)})).apply(this,arguments)}function El(){return(El=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithEmailLink",$t(y,f))})).apply(this,arguments)}function Zc(){return(Zc=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithEmailLink",$t(y,f))})).apply(this,arguments)}class fr extends yi{constructor(f,g,v,A=null){super("password",v),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new fr(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new fr(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function An(y,f){return uo.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Pi(y,f){return El.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Se(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return ba(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function zp(y,f){return Zc.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:Se(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Rs(y,f){return zc.apply(this,arguments)}function zc(){return(zc=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithIdp",$t(y,f))})).apply(this,arguments)}class os extends yi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new os(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Se("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A}=g,N=(0,K._T)(g,["providerId","signInMethod"]);if(!v||!A)return null;const J=new os(v,A);return J.idToken=N.idToken||void 0,J.accessToken=N.accessToken||void 0,J.secret=N.secret,J.nonce=N.nonce,J.pendingToken=N.pendingToken||null,J}_getIdTokenResponse(f){return Rs(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,Rs(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Rs(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function Wc(y,f){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,c.Z)(function*(y,f){return Nt(y,"POST","/v1/accounts:sendVerificationCode",$t(y,f))})).apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",$t(y,f))})).apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(y,f){const g=yield Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",$t(y,f));if(g.temporaryProof)throw gi(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Yp={USER_NOT_FOUND:"user-not-found"};function Qc(){return(Qc=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithPhoneNumber",$t(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Yp)})).apply(this,arguments)}class jo extends yi{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new jo({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new jo({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function bl(y,f){return ks.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Kp(y,f){return Yc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Qp(y,f){return Qc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:N}=f;return v||g||A||N?new jo({verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:N}):null}}class hu{constructor(f){var g,v,A,N,J,ye;const Ge=(0,O.zd)((0,O.pd)(f)),tt=null!==(g=Ge.apiKey)&&void 0!==g?g:null,mt=null!==(v=Ge.oobCode)&&void 0!==v?v:null,ft=function Oh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Ge.mode)&&void 0!==A?A:null);$(tt&&mt&&ft,"argument-error"),this.apiKey=tt,this.operation=ft,this.code=mt,this.continueUrl=null!==(N=Ge.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(J=Ge.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(ye=Ge.tenantId)&&void 0!==ye?ye:null}static parseLink(f){const g=function Ia(y){const f=(0,O.zd)((0,O.pd)(y)).link,g=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||g||f||y}(f);try{return new hu(g)}catch(v){return null}}}let Xc=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,v){return fr._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const A=hu.parseLink(v);return $(A,"argument-error"),fr._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class er{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class lo extends er{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Fi extends lo{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return $("providerId"in g&&"signInMethod"in g,"argument-error"),os._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return $(f.idToken||f.accessToken,"argument-error"),os._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Fi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Fi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:A,pendingToken:N,nonce:J,providerId:ye}=f;if(!v&&!A&&!g&&!N||!ye)return null;try{return new Fi(ye)._credential({idToken:g,accessToken:v,nonce:J,pendingToken:N})}catch(Ge){return null}}}let $o=(()=>{class y extends lo{constructor(){super("facebook.com")}static credential(g){return os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(v){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ed=(()=>{class y extends lo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:A}=g;if(!v&&!A)return null;try{return y.credential(v,A)}catch(N){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ph=(()=>{class y extends lo{constructor(){super("github.com")}static credential(g){return os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(v){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class co extends yi{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Rs(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,Rs(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Rs(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A,pendingToken:N}=g;return v&&A&&N&&v===A?new co(v,N):null}static _create(f,g){return new co(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ar extends er{constructor(f){$(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ar.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ar.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=co.fromJSON(f);return $(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return co._create(v,g)}catch(A){return null}}}let td=(()=>{class y extends lo{constructor(){super("twitter.com")}static credential(g,v){return os._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:A}=g;if(!v||!A)return null;try{return y.credential(v,A)}catch(N){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Sr(y,f){return Go.apply(this,arguments)}function Go(){return(Go=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signUp",$t(y,f))})).apply(this,arguments)}class ti{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,A=!1){return(0,c.Z)(function*(){const N=yield xt._fromIdTokenResponse(f,v,A),J=Cl(v);return new ti({user:N,providerId:J,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const A=Cl(v);return new ti({user:f,providerId:A,_tokenResponse:v,operationType:g})})()}}function Cl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Il(){return(Il=(0,c.Z)(function*(y){var f;const g=dt(y);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new ti({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield Sr(g,{returnSecureToken:!0}),A=yield ti._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class qo extends O.ZR{constructor(f,g,v,A){var N;super(g.code,g.message),this.operationType=v,this.user=A,Object.setPrototypeOf(this,qo.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,A){return new qo(f,g,v,A)}}function Dl(y,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?qo._fromErrorAndOperation(y,N,f,v):N})}function Li(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function nn(){return(nn=(0,c.Z)(function*(y,f){const g=(0,O.m9)(y);yield Yt(!0,g,f);const{providerUserInfo:v}=yield fn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=Li(v||[]);return g.providerData=g.providerData.filter(N=>A.has(N.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Ta(y,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(y,f,g=!1){const v=yield cr(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return ti._forOperation(y,"link",v)})).apply(this,arguments)}function Yt(y,f,g){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(y,f,g){yield hr(f);const A=!1===y?"provider-already-linked":"no-such-provider";$(Li(f.providerData).has(g)===y,f.auth,A)})).apply(this,arguments)}function fu(y,f){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(y,f,g=!1){const{auth:v}=y,A="reauthenticate";try{const N=yield cr(y,Dl(v,A,f,y),g);$(N.idToken,v,"internal-error");const J=lt(N.idToken);$(J,v,"internal-error");const{sub:ye}=J;return $(y.uid===ye,v,"user-mismatch"),ti._forOperation(y,A,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Se(v,"user-mismatch"),N}})).apply(this,arguments)}function tr(y,f){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,c.Z)(function*(y,f,g=!1){const v="signIn",A=yield Dl(y,v,f),N=yield ti._fromIdTokenResponse(y,v,A);return g||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function cn(y,f){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,c.Z)(function*(y,f){return tr(dt(y),f)})).apply(this,arguments)}function nr(y,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(y,f){const g=(0,O.m9)(y);return yield Yt(!1,g,f.providerId),Ta(g,f)})).apply(this,arguments)}function as(y,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(y,f){return fu((0,O.m9)(y),f)})).apply(this,arguments)}function _i(y,f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(y,f){return Ir(y,"POST","/v1/accounts:signInWithCustomToken",$t(y,f))})).apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(y,f){const g=dt(y),v=yield _i(g,{token:f,returnSecureToken:!0}),A=yield ti._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Os{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Al._fromServerResponse(f,g):Se(f,"internal-error")}}class Al extends Os{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Al(g)}}function xa(y,f,g){var v;$((null===(v=g.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),$(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&($(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&($(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function pu(){return(pu=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y),A={requestType:"PASSWORD_RESET",email:f};g&&xa(v,A,g),yield Ca(v,A)})).apply(this,arguments)}function xl(){return(xl=(0,c.Z)(function*(y,f,g){yield vn((0,O.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(y,f){yield lu((0,O.m9)(y),{oobCode:f})})).apply(this,arguments)}function Ht(y,f){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(y,f){const g=(0,O.m9)(y),v=yield vn(g,{oobCode:f}),A=v.requestType;switch($(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$(v.mfaInfo,g,"internal-error");default:$(v.email,g,"internal-error")}let N=null;return v.mfaInfo&&(N=Os._fromServerResponse(dt(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:N},operation:A}})).apply(this,arguments)}function mu(){return(mu=(0,c.Z)(function*(y,f){const{data:g}=yield Ht((0,O.m9)(y),f);return g.email})).apply(this,arguments)}function ni(){return(ni=(0,c.Z)(function*(y,f,g){const v=dt(y),A=yield Sr(v,{returnSecureToken:!0,email:f,password:g}),N=yield ti._fromIdTokenResponse(v,"signIn",A);return yield v._updateCurrentUser(N.user),N})).apply(this,arguments)}function kl(){return(kl=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y),A={requestType:"EMAIL_SIGNIN",email:f};$(g.handleCodeInApp,v,"argument-error"),g&&xa(v,A,g),yield Ni(v,A)})).apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y),A=Xc.credentialWithLink(f,g||z());return $(A._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),cn(v,A)})).apply(this,arguments)}function pr(y,f){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(y,f){return Nt(y,"POST","/v1/accounts:createAuthUri",$t(y,f))})).apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(y,f){const v={identifier:f,continueUri:ge()?z():"http://localhost"},{signinMethods:A}=yield pr((0,O.m9)(y),v);return A||[]})).apply(this,arguments)}function Nl(){return(Nl=(0,c.Z)(function*(y,f){const g=(0,O.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&xa(g.auth,A,f);const{email:N}=yield tn(g.auth,A);N!==y.email&&(yield y.reload())})).apply(this,arguments)}function vu(){return(vu=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&xa(v.auth,N,g);const{email:J}=yield qc(v.auth,N);J!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ol(y,f){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(y,f){return Nt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Eu(){return(Eu=(0,c.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,O.m9)(y),N={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},J=yield cr(v,Ol(v.auth,N));v.displayName=J.displayName||null,v.photoURL=J.photoUrl||null;const ye=v.providerData.find(({providerId:Ge})=>"password"===Ge);ye&&(ye.displayName=v.displayName,ye.photoURL=v.photoURL),yield v._updateTokensIfNecessary(J)})).apply(this,arguments)}function bu(y,f,g){return go.apply(this,arguments)}function go(){return(go=(0,c.Z)(function*(y,f,g){const{auth:v}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const J=yield cr(y,ba(v,N));yield y._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Ko{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class ad extends Ko{constructor(f,g,v,A){super(f,g,v),this.username=A}}class Cu extends Ko{constructor(f,g){super(f,"facebook.com",g)}}class $r extends ad{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Lh extends Ko{constructor(f,g){super(f,"google.com",g)}}class Pl extends ad{constructor(f,g,v){super(f,"twitter.com",g,v)}}function Zn(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function od(y){var f,g;if(!y)return null;const{providerId:v}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&(null==y?void 0:y.idToken)){const J=null===(g=null===(f=lt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(J)return new Ko(N,"anonymous"!==J&&"custom"!==J?J:null)}if(!v)return null;switch(v){case"facebook.com":return new Cu(N,A);case"github.com":return new $r(N,A);case"google.com":return new Lh(N,A);case"twitter.com":return new Pl(N,A,y.screenName||null);case"custom":case"anonymous":return new Ko(N,null);default:return new Ko(N,v,A)}}(g)}class ls{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new ls("enroll",f)}static _fromMfaPendingCredential(f){return new ls("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ls._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(v=f.multiFactorSession)||void 0===v?void 0:v.idToken)return ls._fromIdtoken(f.multiFactorSession.idToken)}return null}}class yo{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=dt(f),A=g.customData._serverResponse,N=(A.mfaInfo||[]).map(ye=>Os._fromServerResponse(v,ye));$(A.mfaPendingCredential,v,"internal-error");const J=ls._fromMfaPendingCredential(A.mfaPendingCredential);return new yo(J,N,function(){var ye=(0,c.Z)(function*(Ge){const tt=yield Ge._process(v,J);delete A.mfaInfo,delete A.mfaPendingCredential;const mt=Object.assign(Object.assign({},A),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(g.operationType){case"signIn":const ft=yield ti._fromIdTokenResponse(v,g.operationType,mt);return yield v._updateCurrentUser(ft.user),ft;case"reauthenticate":return $(g.user,v,"internal-error"),ti._forOperation(g.user,g.operationType,mt);default:Se(v,"internal-error")}});return function(Ge){return ye.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function cd(y,f){return Nt(y,"POST","/v2/accounts/mfaEnrollment:start",$t(y,f))}class Yo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>Os._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new Yo(f)}getSession(){var f=this;return(0,c.Z)(function*(){return ls._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var v=this;return(0,c.Z)(function*(){const A=f,N=yield v.getSession(),J=yield cr(v.user,A._process(v.user.auth,N,g));return yield v.user._updateTokensIfNecessary(J),v.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const v="string"==typeof f?f:f.uid,A=yield g.user.getIdToken(),N=yield cr(g.user,function _o(y,f){return Nt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(y,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:J})=>J!==v),yield g.user._updateTokensIfNecessary(N);try{yield g.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const Iu=new WeakMap,Bi="__sak";class ka{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Bi,"1"),this.storage.removeItem(Bi),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const xr=(()=>{class y extends ka{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ng(){const y=(0,O.z$)();return uu(y)||Lr(y)}()&&function Xn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Ss(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const A=this.storage.getItem(v),N=this.localCache[v];A!==N&&g(v,N,A)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((ye,Ge,tt)=>{this.notifyListeners(ye,tt)});const A=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(A);if(g.newValue!==ye)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!v)return}const N=()=>{const ye=this.storage.getItem(A);!v&&this.localCache[A]===ye||this.notifyListeners(A,ye)},J=this.storage.getItem(A);!function Ea(){return(0,O.w1)()&&10===document.documentMode}()||J===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var A=()=>super._set,N=this;return(0,c.Z)(function*(){yield A().call(N,g,v),N.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,A=this;return(0,c.Z)(function*(){const N=yield v().call(A,g);return A.localCache[g]=JSON.stringify(N),N})()}_remove(g){var v=()=>super._remove,A=this;return(0,c.Z)(function*(){yield v().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),wn=(()=>{class y extends ka{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return y.type="SESSION",y})();let hd=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(N=>N.isListeningto(g));if(v)return v;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,c.Z)(function*(){const A=g,{eventId:N,eventType:J,data:ye}=A.data,Ge=v.handlersMap[J];if(!(null==Ge?void 0:Ge.size))return;A.ports[0].postMessage({status:"ack",eventId:N,eventType:J});const tt=Array.from(Ge).map(function(){var ft=(0,c.Z)(function*(In){return In(A.origin,ye)});return function(In){return ft.apply(this,arguments)}}()),mt=yield function Oa(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(tt);A.ports[0].postMessage({status:"done",eventId:N,eventType:J,response:mt})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Qo(y="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return y+g}class Fs{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var A=this;return(0,c.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let J,ye;return new Promise((Ge,tt)=>{const mt=Qo("",20);N.port1.start();const ft=setTimeout(()=>{tt(new Error("unsupported_event"))},v);ye={messageChannel:N,onMessage(In){const li=In;if(li.data.eventId===mt)switch(li.data.status){case"ack":clearTimeout(ft),J=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Ge(li.data.response);break;default:clearTimeout(ft),clearTimeout(J),tt(new Error("invalid_response"))}}},A.handlers.add(ye),N.port1.addEventListener("message",ye.onMessage),A.target.postMessage({eventType:f,eventId:mt,data:g},[N.port2])}).finally(()=>{ye&&A.removeMessageHandler(ye)})})()}}function En(){return window}function ji(){return void 0!==En().WorkerGlobalScope&&"function"==typeof En().importScripts}function fd(){return(fd=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ll="firebaseLocalStorageDb",Us="firebaseLocalStorage",vo="fbase_key";class wo{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function rr(y,f){return y.transaction([Us],f?"readwrite":"readonly").objectStore(Us)}function bo(){const y=indexedDB.open(Ll,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(Us,{keyPath:vo})}catch(A){g(A)}}),y.addEventListener("success",(0,c.Z)(function*(){const v=y.result;v.objectStoreNames.contains(Us)?f(v):(v.close(),yield function Eo(){const y=indexedDB.deleteDatabase(Ll);return new wo(y).toPromise()}(),f(yield bo()))}))})}function Jo(y,f,g){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(y,f,g){const v=rr(y,!0).put({[vo]:f,value:g});return new wo(v).toPromise()})).apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(y,f){const g=rr(y,!1).get(f),v=yield new wo(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Co(y,f){const g=rr(y,!0).delete(f);return new wo(g).toPromise()}const Io=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield bo()),g.db})()}_withRetries(g){var v=this;return(0,c.Z)(function*(){let A=0;for(;;)try{const N=yield v._openDb();return yield g(N)}catch(N){if(A++>3)throw N;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return ji()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=hd._getInstance(function Fl(){return ji()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(A,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(A,N){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(A,N){return["keyChanged"]});return function(A,N){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var v,A;if(g.activeServiceWorker=yield function vt(){return fd.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Fs(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);!N||(null===(v=N[0])||void 0===v?void 0:v.fulfilled)&&(null===(A=N[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function pd(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield bo();return yield Jo(g,Bi,"1"),yield Co(g,Bi),!0}catch(g){}return!1})()}_withPendingWrite(g){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var A=this;return(0,c.Z)(function*(){return A._withPendingWrite((0,c.Z)(function*(){return yield A._withRetries(N=>Jo(N,g,v)),A.localCache[g]=v,A.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,c.Z)(function*(){const A=yield v._withRetries(N=>function Xo(y,f){return Bs.apply(this,arguments)}(N,g));return v.localCache[g]=A,A})()}_remove(g){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(A=>Co(A,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const v=yield g._withRetries(J=>{const ye=rr(J,!1).getAll();return new wo(ye).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const A=[],N=new Set;for(const{fbase_key:J,value:ye}of v)N.add(J),JSON.stringify(g.localCache[J])!==JSON.stringify(ye)&&(g.notifyListeners(J,ye),A.push(J));for(const J of Object.keys(g.localCache))g.localCache[J]&&!N.has(J)&&(g.notifyListeners(J,null),A.push(J));return A})()}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const N of Array.from(A))N(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function jn(y,f){return Nt(y,"POST","/v2/accounts/mfaSignIn:start",$t(y,f))}function dn(){return(dn=(0,c.Z)(function*(y){return(yield Nt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Do(y){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=f,v.onerror=A=>{const N=be("internal-error");N.customData=A,g(N)},v.type="text/javascript",v.charset="UTF-8",function si(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(v)})}function ds(y){return`__${y}${Math.floor(1e6*Math.random())}`}const oi=1e12;class bn{constructor(f){this.auth=f,this.counter=oi,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new wi(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||oi;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||oi))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var v;return null===(v=g._widgets.get(f||oi))||void 0===v||v.execute(),""})()}}class wi{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;$(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Du(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bl=ds("rcb"),pn=new _t(3e4,6e4);class My{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!En().grecaptcha}load(f,g=""){return $(function ea(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(En().grecaptcha):new Promise((v,A)=>{const N=En().setTimeout(()=>{A(be(f,"network-request-failed"))},pn.get());En()[Bl]=()=>{En().clearTimeout(N),delete En()[Bl];const ye=En().grecaptcha;if(!ye)return void A(be(f,"internal-error"));const Ge=ye.render;ye.render=(tt,mt)=>{const ft=Ge(tt,mt);return this.counter++,ft},this.hostLanguage=g,v(ye)},Do(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Bl,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),A(be(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!En().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hr{load(f){return(0,c.Z)(function*(){return new bn(f)})()}clearedOneInstance(){}}const gd="recaptcha",$s={theme:"light",type:"image"};class md{constructor(f,g=Object.assign({},$s),v){this.parameters=g,this.type=gd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=dt(v),this.isInvisible="invisible"===this.parameters.size,$("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;$(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hr:new My,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(N=>{const J=ye=>{!ye||(f.tokenChangeListeners.delete(J),N(ye))};f.tokenChangeListeners.add(J),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){$(!this.parameters.sitekey,this.auth,"argument-error"),$(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=En()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){$(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){$(ge()&&!ji(),f.auth,"internal-error"),yield function Hi(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function js(y){return dn.apply(this,arguments)}(f.auth);$(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return $(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class jl{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=jo._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Fa(){return(Fa=(0,c.Z)(function*(y,f,g){const v=dt(y),A=yield Mr(v,f,(0,O.m9)(g));return new jl(A,N=>cn(v,N))})).apply(this,arguments)}function yd(){return(yd=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y);yield Yt(!1,v,"phone");const A=yield Mr(v.auth,f,(0,O.m9)(g));return new jl(A,N=>nr(v,N))})).apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y),A=yield Mr(v.auth,f,(0,O.m9)(g));return new jl(A,N=>as(v,N))})).apply(this,arguments)}function Mr(y,f,g){return La.apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(y,f,g){var v;const A=yield g.verify();try{let N;if($("string"==typeof A,y,"argument-error"),$(g.type===gd,y,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const J=N.session;if("phoneNumber"in N)return $("enroll"===J.type,y,"internal-error"),(yield cd(y,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{$("signin"===J.type,y,"internal-error");const ye=(null===(v=N.multiFactorHint)||void 0===v?void 0:v.uid)||N.multiFactorUid;return $(ye,y,"missing-multi-factor-info"),(yield jn(y,{mfaPendingCredential:J.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield Wc(y,{phoneNumber:N.phoneNumber,recaptchaToken:A});return J}}finally{g._reset()}})).apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(y,f){yield Ta((0,O.m9)(y),f)})).apply(this,arguments)}let Hs=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=dt(g)}verifyPhoneNumber(g,v){return Mr(this.auth,g,(0,O.m9)(v))}static credential(g,v){return jo._fromVerification(g,v)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:A}=g;return v&&A?jo._fromTokenResponse(v,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function fs(y,f){return f?oe(f):($(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class na extends yi{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Rs(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Rs(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Rs(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Vt(y){return tr(y.auth,new na(y),y.bypassAuthState)}function _d(y){const{auth:f,user:g}=y;return $(g,f,"internal-error"),fu(g,new na(y),y.bypassAuthState)}function ra(y){return mr.apply(this,arguments)}function mr(){return(mr=(0,c.Z)(function*(y){const{auth:f,user:g}=y;return $(g,f,"internal-error"),Ta(g,new na(y),y.bypassAuthState)})).apply(this,arguments)}class Ua{constructor(f,g,v,A,N=!1){this.auth=f,this.resolver=v,this.user=A,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(v,A){f.pendingPromise={resolve:v,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(v,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:A,postBody:N,tenantId:J,error:ye,type:Ge}=f;if(ye)return void g.reject(ye);const tt={auth:g.auth,requestUri:v,sessionId:A,tenantId:J||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ge)(tt))}catch(mt){g.reject(mt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Vt;case"linkViaPopup":case"linkViaRedirect":return ra;case"reauthViaPopup":case"reauthViaRedirect":return _d;default:Se(this.auth,"internal-error")}}resolve(f){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ia=new _t(2e3,1e4);function ps(){return(ps=(0,c.Z)(function*(y,f,g){const v=dt(y);je(y,f,er);const A=fs(v,g);return new wd(v,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Au(){return(Au=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y);je(v.auth,f,er);const A=fs(v.auth,g);return new wd(v.auth,"reauthViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}function Gi(){return(Gi=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y);je(v.auth,f,er);const A=fs(v.auth,g);return new wd(v.auth,"linkViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}let wd=(()=>{class y extends Ua{constructor(g,v,A,N,J){super(g,v,N,J),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const v=yield g.execute();return $(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,c.Z)(function*(){Q(1===g.filter.length,"Popup operations only handle one event");const v=Qo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(be(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,A;this.pollId=(null===(A=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,ia.get())};g()}}return y.currentPopupAction=null,y})();const ir=new Map;class $l extends Ua{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let v=ir.get(g.auth._key());if(!v){try{const N=(yield function Bh(y,f){return Gs.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(N)}catch(A){v=()=>Promise.reject(A)}ir.set(g.auth._key(),v)}return g.bypassAuthState||ir.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const A=yield v.auth._redirectUserForId(f.eventId);if(A)return v.user=A,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Gs(){return(Gs=(0,c.Z)(function*(y,f){const g=F(f),v=R(y);if(!(yield v._isAvailable()))return!1;const A="true"===(yield v._get(g));return yield v._remove(g),A})).apply(this,arguments)}function sa(y,f){return Va.apply(this,arguments)}function Va(){return(Va=(0,c.Z)(function*(y,f){return R(y)._set(F(f),"true")})).apply(this,arguments)}function D(y,f){ir.set(y._key(),f)}function R(y){return oe(y._redirectPersistence)}function F(y){return Fn("pendingRedirect",y.config.apiKey,y.name)}function Ee(){return(Ee=(0,c.Z)(function*(y,f,g){const v=dt(y);je(y,f,er);const A=fs(v,g);return yield sa(A,v),A._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y);je(v.auth,f,er);const A=fs(v.auth,g);yield sa(A,v.auth);const N=yield yr(v);return A._openRedirect(v.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Mn(){return(Mn=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y);je(v.auth,f,er);const A=fs(v.auth,g);yield Yt(!1,v,f.providerId),yield sa(A,v.auth);const N=yield yr(v);return A._openRedirect(v.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function gs(){return(gs=(0,c.Z)(function*(y,f){return yield dt(y)._initializationPromise,qi(y,f,!1)})).apply(this,arguments)}function qi(y,f){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(y,f,g=!1){const v=dt(y),A=fs(v,f),J=yield new $l(v,A,g).execute();return J&&!g&&(delete J.user._redirectEventId,yield v._persistUserIfCurrent(J.user),yield v._setRedirectUser(null,f)),J})).apply(this,arguments)}function yr(y){return ms.apply(this,arguments)}function ms(){return(ms=(0,c.Z)(function*(y){const f=Qo(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Hl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function bd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gl(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!Gl(f)){const A=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(be(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ed(f))}saveEventToCache(f){this.cachedEventUids.add(Ed(f)),this.lastProcessedEventTime=Date.now()}}function Ed(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Gl({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function jh(y){return $h.apply(this,arguments)}function $h(){return($h=(0,c.Z)(function*(y,f={}){return Nt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Cd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Su=/^https?/;function Hh(){return(Hh=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield jh(y);for(const g of f)try{if(F0(g))return}catch(v){}Se(y,"unauthorized-domain")})).apply(this,arguments)}function F0(y){const f=z(),{protocol:g,hostname:v}=new URL(f);if(y.startsWith("chrome-extension://")){const J=new URL(y);return""===J.hostname&&""===v?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&J.hostname===v}if(!Su.test(g))return!1;if(Cd.test(y))return v===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(v)}const ig=new _t(3e4,6e4);function Gh(){const y=En().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let xu=null;function To(y){return xu=xu||function sg(y){return new Promise((f,g)=>{var v,A,N;function J(){Gh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Gh(),g(be(y,"network-request-failed"))},timeout:ig.get()})}if(null===(A=null===(v=En().gapi)||void 0===v?void 0:v.iframes)||void 0===A?void 0:A.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=En().gapi)||void 0===N?void 0:N.load)){const ye=ds("iframefcb");return En()[ye]=()=>{gapi.load?J():g(be(y,"network-request-failed"))},Do(`https://apis.google.com/js/api.js?onload=${ye}`).catch(Ge=>g(Ge))}J()}}).catch(f=>{throw xu=null,f})}(y),xu}const Mu=new _t(5e3,15e3),Ru={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ao=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function og(y){const f=y.config;$(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?jt(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:y.name,v:ee.SDK_VERSION},A=Ao.get(y.config.apiHost);A&&(v.eid=A);const N=y._getFrameworks();return N.length&&(v.fw=N.join(",")),`${g}?${(0,O.xO)(v).slice(1)}`}function So(){return So=(0,c.Z)(function*(y){const f=yield To(y),g=En().gapi;return $(g,y,"internal-error"),f.open({where:document.body,url:og(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ru,dontclear:!0},v=>new Promise(function(){var A=(0,c.Z)(function*(N,J){yield v.restyle({setHideOnLeave:!1});const ye=be(y,"network-request-failed"),Ge=En().setTimeout(()=>{J(ye)},Mu.get());function tt(){En().clearTimeout(Ge),N(v)}v.ping(tt).then(tt,()=>{J(ye)})});return function(N,J){return A.apply(this,arguments)}}()))}),So.apply(this,arguments)}const Dd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ag{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function ai(y,f,g,v,A,N){$(y.config.authDomain,y,"auth-domain-config-required"),$(y.config.apiKey,y,"invalid-api-key");const J={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:v,v:ee.SDK_VERSION,eventId:A};if(f instanceof er){f.setDefaultLanguage(y.languageCode),J.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(J.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ge,tt]of Object.entries(N||{}))J[Ge]=tt}if(f instanceof lo){const Ge=f.getScopes().filter(tt=>""!==tt);Ge.length>0&&(J.scopes=Ge.join(","))}y.tenantId&&(J.tid=y.tenantId);const ye=J;for(const Ge of Object.keys(ye))void 0===ye[Ge]&&delete ye[Ge];return`${function Zs({config:y}){return y.emulator?jt(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,O.xO)(ye).slice(1)}`}const ku="webStorageSupport";class Wl extends class Oy{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return Ce("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Wl(f)}_finalizeEnroll(f,g,v){return function tg(y,f){return Nt(y,"POST","/v2/accounts/mfaEnrollment:finalize",$t(y,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Vl(y,f){return Nt(y,"POST","/v2/accounts/mfaSignIn:finalize",$t(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Py=(()=>{class y{constructor(){}static assertion(g){return Wl._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var zh="@firebase/auth";class cg{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{var A;f((null===(A=v)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ba(){return window}function Zi(){return(Zi=(0,c.Z)(function*(y,f,g){var v;const{BuildInfo:A}=Ba();Q(f.sessionId,"AuthEvent did not contain a session ID");const N=yield U0(f.sessionId),J={};return Lr()?J.ibi=A.packageName:Tr()?J.apn=A.packageName:Se(y,"operation-not-supported-in-this-environment"),A.displayName&&(J.appDisplayName=A.displayName),J.sessionId=N,ai(y,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,J)})).apply(this,arguments)}function xd(){return(xd=(0,c.Z)(function*(y){const{BuildInfo:f}=Ba(),g={};Lr()?g.iosBundleId=f.packageName:Tr()?g.androidPackageName=f.packageName:Se(y,"operation-not-supported-in-this-environment"),yield jh(y,g)})).apply(this,arguments)}function dg(){return(dg=(0,c.Z)(function*(y,f,g){const{cordova:v}=Ba();let A=()=>{};try{yield new Promise((N,J)=>{let ye=null;function Ge(){var ft;N();const In=null===(ft=v.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof In&&In(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function tt(){ye||(ye=window.setTimeout(()=>{J(be(y,"redirect-cancelled-by-user"))},2e3))}function mt(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}f.addPassiveListener(Ge),document.addEventListener("resume",tt,!1),Tr()&&document.addEventListener("visibilitychange",mt,!1),A=()=>{f.removePassiveListener(Ge),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",mt,!1),ye&&window.clearTimeout(ye)}})}finally{A()}})).apply(this,arguments)}function U0(y){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,c.Z)(function*(y){const f=Kh(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Kh(y){if(Q(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let v=0;v<y.length;v++)g[v]=y.charCodeAt(v);return g}!function Fy(y){(0,ee._registerComponent)(new se.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),{apiKey:N,authDomain:J}=v.options;return((ye,Ge)=>{$(N&&!N.includes(":"),"invalid-api-key",{appName:ye.name}),$(!(null==J?void 0:J.includes(":")),"argument-error",{appName:ye.name});const tt={apiKey:N,authDomain:J,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bo(y)},mt=new Ke(ye,Ge,tt);return function V(y,f){const g=(null==f?void 0:f.persistence)||[],v=(Array.isArray(g)?g:[g]).map(oe);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(v,null==f?void 0:f.popupRedirectResolver)}(mt,g),mt})(v,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new se.wA("auth-internal",f=>{const g=dt(f.getProvider("auth").getImmediate());return new cg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(zh,"0.20.2",function Sd(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ee.registerVersion)(zh,"0.20.2","esm2017")}("Browser");class Rd extends Hl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Pu(y){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,c.Z)(function*(y){const f=yield Jl()._get(Fu(y));return f&&(yield Jl()._remove(Fu(y))),f})).apply(this,arguments)}function fg(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*f.length);y.push(f.charAt(v))}return y.join("")}function Jl(){return oe(xr)}function Fu(y){return Fn("authEvent",y.config.apiKey,y.name)}function Gr(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...g]=y.split("?");return(0,O.zd)(g.join("?"))}function ja(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:be("no-auth-event")}}function oa(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function _g(y=(0,O.z$)()){return!("file:"!==oa()&&"ionic:"!==oa()&&"capacitor:"!==oa()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jh(){try{const y=self.localStorage,f=Qo();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Od(y=(0,O.z$)()){return function Lu(){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Kn(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch(y){return Pd()&&(0,O.hl)()}return!1}function Pd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function sr(){return(function yg(){return"http:"===oa()||"https:"===oa()}()||(0,O.ru)()||_g())&&!function Qh(){return(0,O.b$)()||(0,O.UG)()}()&&Jh()&&!Pd()}function Uu(){return _g()&&"undefined"!=typeof document}function ec(){return(ec=(0,c.Z)(function*(){return!!Uu()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const qr={LOCAL:"local",NONE:"none",SESSION:"session"},aa=$,ef="persistence";function $a(y){return tf.apply(this,arguments)}function tf(){return(tf=(0,c.Z)(function*(y){yield y._initializationPromise;const f=Fd(),g=Fn(ef,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function Fd(){var y;try{return(null===(y=function $y(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const Gy=$;class zi{constructor(){this.browserResolver=oe(class ug{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wn,this._completeRedirectFn=qi,this._overrideRedirectResult=D}_openPopup(f,g,v,A){var N=this;return(0,c.Z)(function*(){var J;Q(null===(J=N.eventManagers[f._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const ye=ai(f,g,v,z(),A);return function zl(y,f,g,v=500,A=600){const N=Math.max((window.screen.availHeight-A)/2,0).toString(),J=Math.max((window.screen.availWidth-v)/2,0).toString();let ye="";const Ge=Object.assign(Object.assign({},Dd),{width:v.toString(),height:A.toString(),top:N,left:J}),tt=(0,O.z$)().toLowerCase();g&&(ye=wa(tt)?"_blank":g),va(tt)&&(f=f||"http://localhost",Ge.scrollbars="yes");const mt=Object.entries(Ge).reduce((In,[li,Vu])=>`${In}${li}=${Vu},`,"");if(function ao(y=(0,O.z$)()){var f;return Lr(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(tt)&&"_self"!==ye)return function Ry(y,f){const g=document.createElement("a");g.href=y,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",ye),new ag(null);const ft=window.open(f||"",ye,mt);$(ft,y,"popup-blocked");try{ft.focus()}catch(In){}return new ag(ft)}(f,ye,Qo())})()}_openRedirect(f,g,v,A){var N=this;return(0,c.Z)(function*(){return yield N._originValidation(f),function Ls(y){En().location.href=y}(ai(f,g,v,z(),A)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:N}=this.eventManagers[g];return A?Promise.resolve(A):(Q(N,"If manager is not set, promise should be"),N)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const v=yield function L0(y){return So.apply(this,arguments)}(f),A=new Hl(f);return v.register("authEvent",N=>($(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:A.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=v,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(ku,{type:ku},A=>{var N;const J=null===(N=null==A?void 0:A[0])||void 0===N?void 0:N[ku];void 0!==J&&g(!!J),Se(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ql(y){return Hh.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ss()||uu()||Lr()}}),this.cordovaResolver=oe(class gg{constructor(){this._redirectPersistence=wn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=qi,this._overrideRedirectResult=D}_initialize(f){var g=this;return(0,c.Z)(function*(){const v=f._key();let A=g.eventManagers.get(v);return A||(A=new Rd(f),g.eventManagers.set(v,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){Se(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,A){var N=this;return(0,c.Z)(function*(){!function Ou(y){var f,g,v,A,N,J,ye,Ge,tt,mt;const ft=Ba();$("function"==typeof(null===(f=null==ft?void 0:ft.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$(void 0!==(null===(g=null==ft?void 0:ft.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$("function"==typeof(null===(N=null===(A=null===(v=null==ft?void 0:ft.cordova)||void 0===v?void 0:v.plugins)||void 0===A?void 0:A.browsertab)||void 0===N?void 0:N.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(Ge=null===(ye=null===(J=null==ft?void 0:ft.cordova)||void 0===J?void 0:J.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===Ge?void 0:Ge.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(mt=null===(tt=null==ft?void 0:ft.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===mt?void 0:mt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const J=yield N._initialize(f);yield J.initialized(),J.resetRedirect(),function C(){ir.clear()}(),yield N._originValidation(f);const ye=function kd(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:fg(),postBody:null,tenantId:y.tenantId,error:be(y,"no-auth-event")}}(f,v,A);yield function hg(y,f){return Jl()._set(Fu(y),f)}(f,ye);const Ge=yield function Wh(y,f,g){return Zi.apply(this,arguments)}(f,ye,g),tt=yield function Md(y){const{cordova:f}=Ba();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let A=null;v?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function Gc(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(Ge);return function Mo(y,f,g){return dg.apply(this,arguments)}(f,J,tt)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Kl(y){return xd.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:A,BuildInfo:N}=Ba(),J=setTimeout((0,c.Z)(function*(){yield Pu(f),g.onEvent(ja())}),500),ye=function(){var mt=(0,c.Z)(function*(ft){clearTimeout(J);const In=yield Pu(f);let li=null;In&&(null==ft?void 0:ft.url)&&(li=function Uy(y,f){var g,v;const A=function Xl(y){const f=Gr(y),g=f.link?decodeURIComponent(f.link):void 0,v=Gr(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Gr(A).link||A||v||g||y}(f);if(A.includes("/__/auth/callback")){const N=Gr(A),J=N.firebaseError?function pg(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,ye=null===(v=null===(g=null==J?void 0:J.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Ge=ye?be(ye):null;return Ge?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ge,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(In,ft.url)),g.onEvent(li||ja())});return function(In){return mt.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,ye);const Ge=A,tt=`${N.packageName.toLowerCase()}://`;Ba().handleOpenURL=function(){var mt=(0,c.Z)(function*(ft){if(ft.toLowerCase().startsWith(tt)&&ye({url:ft}),"function"==typeof Ge)try{Ge(ft)}catch(In){console.error(In)}});return function(ft){return mt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=wn,this._completeRedirectFn=qi,this._overrideRedirectResult=D}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,A){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,v,A)})()}_openRedirect(f,g,v,A){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,v,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Uu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Gy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Xh(){return ec.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Ld(y){return y.unwrap()}function Zy(y){return vg(y)}function vg(y){const{_tokenResponse:f}=y instanceof O.ZR?y.customData:y;if(!f)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return Hs.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=ed;break;case"facebook.com":v=$o;break;case"github.com":v=Ph;break;case"twitter.com":v=td;break;default:const{oauthIdToken:A,oauthAccessToken:N,oauthTokenSecret:J,pendingToken:ye,nonce:Ge}=f;return N||J||A||ye?ye?g.startsWith("saml.")?co._create(g,ye):os._fromParams({providerId:g,signInMethod:g,pendingToken:ye,idToken:A,accessToken:N}):new Fi(g).credential({idToken:A,accessToken:N,rawNonce:Ge}):null}return y instanceof O.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function ui(y,f){return f.catch(g=>{throw g instanceof O.ZR&&function Ud(y,f){var g;const v=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new zy(y,function Vn(y,f){var g;const v=(0,O.m9)(y),A=f;return $(f.customData.operationType,v,"argument-error"),$(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),yo._fromError(v,A)}(y,f));else if(v){const A=vg(f),N=f;A&&(N.credential=A,N.tenantId=v.tenantId||void 0,N.email=v.email||void 0,N.phoneNumber=v.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Zy(g),additionalUserInfo:Zn(g),user:ys.getOrCreate(A)}})}function nf(y,f){return rf.apply(this,arguments)}function rf(){return(rf=(0,c.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>ui(y,g.confirm(v))}})).apply(this,arguments)}class zy{constructor(f,g){this.resolver=g,this.auth=function qy(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return ui(Ld(this.auth),this.resolver.resolveSignIn(f))}}class ys{constructor(f){this._delegate=f,this.multiFactor=function dd(y){const f=(0,O.m9)(y);return Iu.has(f)||Iu.set(f,Yo._fromUser(f)),Iu.get(f)}(f)}static getOrCreate(f){return ys.USER_MAP.has(f)||ys.USER_MAP.set(f,new ys(f)),ys.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return ui(g.auth,nr(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,c.Z)(function*(){return nf(v.auth,function Tu(y,f,g){return yd.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return ui(g.auth,function vd(y,f,g){return Gi.apply(this,arguments)}(g._delegate,f,zi))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield $a(dt(g.auth)),function zt(y,f,g){return function Rt(y,f,g){return Mn.apply(this,arguments)}(y,f,g)}(g._delegate,f,zi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return ui(g.auth,as(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return nf(this.auth,function Vh(y,f,g){return gr.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return ui(this.auth,function Ei(y,f,g){return Au.apply(this,arguments)}(this._delegate,f,zi))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield $a(dt(g.auth)),function Xe(y,f,g){return function at(y,f,g){return ht.apply(this,arguments)}(y,f,g)}(g._delegate,f,zi)})()}sendEmailVerification(f){return function vi(y,f){return Nl.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function Fh(y,f){return nn.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function id(y,f){return bu((0,O.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function sd(y,f){return bu((0,O.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function ta(y,f){return hs.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function wu(y,f){return Eu.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function _u(y,f,g){return vu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ys.USER_MAP=new WeakMap;const nc=$;let wg=(()=>{class y{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;nc(A,"invalid-api-key",{appName:g.name}),nc(A,"invalid-api-key",{appName:g.name});const N="undefined"!=typeof window?zi:void 0;this._delegate=v.initialize({options:{persistence:Wy(A,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ys.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function Vr(y,f,g){const v=dt(y);$(v._canInitEmulator,v,"emulator-config-failed"),$(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),N=Ri(f),{host:J,port:ye}=function Tn(y){const f=Ri(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(v);if(A){const N=A[1];return{host:N,port:ki(v.substr(N.length+1))}}{const[N,J]=v.split(":");return{host:N,port:ki(J)}}}(f);v.config.emulator={url:`${N}//${J}${null===ye?"":`:${ye}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:J,port:ye,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function on(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,v)}applyActionCode(g){return function zo(y,f){return Oe.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ht(this._delegate,g)}confirmPasswordReset(g,v){return function gu(y,f,g){return xl.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var A=this;return(0,c.Z)(function*(){return ui(A._delegate,function po(y,f,g){return ni.apply(this,arguments)}(A._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function yu(y,f){return Ps.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function rd(y,f){const g=hu.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){nc(sr(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function Wn(y,f){return gs.apply(this,arguments)}(g._delegate,zi);return v?ui(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function mg(y,f){dt(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,A){const{next:N,error:J,complete:ye}=Eg(g,v,A);return this._delegate.onAuthStateChanged(N,J,ye)}onIdTokenChanged(g,v,A){const{next:N,error:J,complete:ye}=Eg(g,v,A);return this._delegate.onIdTokenChanged(N,J,ye)}sendSignInLinkToEmail(g,v){return function Rl(y,f,g){return kl.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function Sl(y,f,g){return pu.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,c.Z)(function*(){let A;switch(function Hy(y,f){aa(Object.values(qr).includes(f),y,"invalid-persistence-type"),(0,O.b$)()?aa(f!==qr.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?aa(f===qr.NONE,y,"unsupported-persistence-type"):Pd()?aa(f===qr.NONE||f===qr.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):aa(f===qr.NONE||Jh(),y,"unsupported-persistence-type")}(v._delegate,g),g){case qr.SESSION:A=wn;break;case qr.LOCAL:A=(yield oe(Io)._isAvailable())?Io:xr;break;case qr.NONE:A=At;break;default:return Se("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ui(this._delegate,function nd(y){return Il.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ui(this._delegate,cn(this._delegate,g))}signInWithCustomToken(g){return ui(this._delegate,function Zo(y,f){return bt.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return ui(this._delegate,function Ml(y,f,g){return cn((0,O.m9)(y),Xc.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return ui(this._delegate,function Jp(y,f,g){return us.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return nf(this._delegate,function xn(y,f,g){return Fa.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,c.Z)(function*(){return nc(sr(),v._delegate,"operation-not-supported-in-this-environment"),ui(v._delegate,function rg(y,f,g){return ps.apply(this,arguments)}(v._delegate,g,zi))})()}signInWithRedirect(g){var v=this;return(0,c.Z)(function*(){return nc(sr(),v._delegate,"operation-not-supported-in-this-environment"),yield $a(v._delegate),function ne(y,f,g){return function he(y,f,g){return Ee.apply(this,arguments)}(y,f,g)}(v._delegate,g,zi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function ln(y,f){return mu.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=qr,y})();function Eg(y,f,g){let v=y;"function"!=typeof y&&({next:v,error:f,complete:g}=y);const A=v;return{next:J=>A(J&&ys.getOrCreate(J)),error:f,complete:g}}function Wy(y,f){const g=function tc(y,f){const g=Fd();if(!g)return[];const v=Fn(ef,y,f);switch(g.getItem(v)){case qr.NONE:return[At];case qr.LOCAL:return[Io,wn];case qr.SESSION:return[wn];default:return[]}}(y,f);if("undefined"!=typeof self&&!g.includes(Io)&&g.push(Io),"undefined"!=typeof window)for(const v of[xr,wn])g.includes(v)||g.push(v);return g.includes(At)||g.push(At),g}class sf{constructor(){this.providerId="phone",this._delegate=new Hs(Ld(Z.Z.auth()))}static credential(f,g){return Hs.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}sf.PHONE_SIGN_IN_METHOD=Hs.PHONE_SIGN_IN_METHOD,sf.PROVIDER_ID=Hs.PROVIDER_ID;const bg=$;class V0{constructor(f,g,v=Z.Z.app()){var A;bg(null===(A=v.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new md(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ha(y){y.INTERNAL.registerComponent(new se.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new wg(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Xc,FacebookAuthProvider:$o,GithubAuthProvider:Ph,GoogleAuthProvider:ed,OAuthProvider:Fi,SAMLAuthProvider:Ar,PhoneAuthProvider:sf,PhoneMultiFactorGenerator:Py,RecaptchaVerifier:V0,TwitterAuthProvider:td,Auth:wg,AuthCredential:yi,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.15")}(Z.Z)},7854:Re=>{var le=function(k){"use strict";var O,c=Object.prototype,Z=c.hasOwnProperty,ee="function"==typeof Symbol?Symbol:{},K=ee.iterator||"@@iterator",ie=ee.asyncIterator||"@@asyncIterator",se=ee.toStringTag||"@@toStringTag";function te(V,z,ge){return Object.defineProperty(V,z,{value:ge,enumerable:!0,configurable:!0,writable:!0}),V[z]}try{te({},"")}catch(V){te=function(z,ge,Be){return z[ge]=Be}}function ce(V,z,ge,Be){var Le=Object.create((z&&z.prototype instanceof Je?z:Je).prototype),_t=new de(Be||[]);return Le._invoke=function qe(V,z,ge){var Be=j;return function(Le,_t){if(Be===He)throw new Error("Generator is already running");if(Be===ke){if("throw"===Le)throw _t;return ve()}for(ge.method=Le,ge.arg=_t;;){var jt=ge.delegate;if(jt){var Ut=$(jt,ge);if(Ut){if(Ut===Te)continue;return Ut}}if("next"===ge.method)ge.sent=ge._sent=ge.arg;else if("throw"===ge.method){if(Be===j)throw Be=ke,ge.arg;ge.dispatchException(ge.arg)}else"return"===ge.method&&ge.abrupt("return",ge.arg);Be=He;var kt=B(V,z,ge);if("normal"===kt.type){if(Be=ge.done?ke:X,kt.arg===Te)continue;return{value:kt.arg,done:ge.done}}"throw"===kt.type&&(Be=ke,ge.method="throw",ge.arg=kt.arg)}}}(V,ge,_t),Le}function B(V,z,ge){try{return{type:"normal",arg:V.call(z,ge)}}catch(Be){return{type:"throw",arg:Be}}}k.wrap=ce;var j="suspendedStart",X="suspendedYield",He="executing",ke="completed",Te={};function Je(){}function we(){}function fe(){}var ze={};te(ze,K,function(){return this});var Ye=Object.getPrototypeOf,Se=Ye&&Ye(Ye(oe([])));Se&&Se!==c&&Z.call(Se,K)&&(ze=Se);var be=fe.prototype=Je.prototype=Object.create(ze);function De(V){["next","throw","return"].forEach(function(z){te(V,z,function(ge){return this._invoke(z,ge)})})}function je(V,z){function ge(Le,_t,jt,Ut){var kt=B(V[Le],V,_t);if("throw"!==kt.type){var Pn=kt.arg,$t=Pn.value;return $t&&"object"==typeof $t&&Z.call($t,"__await")?z.resolve($t.__await).then(function(Nt){ge("next",Nt,jt,Ut)},function(Nt){ge("throw",Nt,jt,Ut)}):z.resolve($t).then(function(Nt){Pn.value=Nt,jt(Pn)},function(Nt){return ge("throw",Nt,jt,Ut)})}Ut(kt.arg)}var Be;this._invoke=function Ve(Le,_t){function jt(){return new z(function(Ut,kt){ge(Le,_t,Ut,kt)})}return Be=Be?Be.then(jt,jt):jt()}}function $(V,z){var ge=V.iterator[z.method];if(ge===O){if(z.delegate=null,"throw"===z.method){if(V.iterator.return&&(z.method="return",z.arg=O,$(V,z),"throw"===z.method))return Te;z.method="throw",z.arg=new TypeError("The iterator does not provide a 'throw' method")}return Te}var Be=B(ge,V.iterator,z.arg);if("throw"===Be.type)return z.method="throw",z.arg=Be.arg,z.delegate=null,Te;var Ve=Be.arg;return Ve?Ve.done?(z[V.resultName]=Ve.value,z.next=V.nextLoc,"return"!==z.method&&(z.method="next",z.arg=O),z.delegate=null,Te):Ve:(z.method="throw",z.arg=new TypeError("iterator result is not an object"),z.delegate=null,Te)}function Ce(V){var z={tryLoc:V[0]};1 in V&&(z.catchLoc=V[1]),2 in V&&(z.finallyLoc=V[2],z.afterLoc=V[3]),this.tryEntries.push(z)}function Q(V){var z=V.completion||{};z.type="normal",delete z.arg,V.completion=z}function de(V){this.tryEntries=[{tryLoc:"root"}],V.forEach(Ce,this),this.reset(!0)}function oe(V){if(V){var z=V[K];if(z)return z.call(V);if("function"==typeof V.next)return V;if(!isNaN(V.length)){var ge=-1,Be=function Ve(){for(;++ge<V.length;)if(Z.call(V,ge))return Ve.value=V[ge],Ve.done=!1,Ve;return Ve.value=O,Ve.done=!0,Ve};return Be.next=Be}}return{next:ve}}function ve(){return{value:O,done:!0}}return we.prototype=fe,te(be,"constructor",fe),te(fe,"constructor",we),we.displayName=te(fe,se,"GeneratorFunction"),k.isGeneratorFunction=function(V){var z="function"==typeof V&&V.constructor;return!!z&&(z===we||"GeneratorFunction"===(z.displayName||z.name))},k.mark=function(V){return Object.setPrototypeOf?Object.setPrototypeOf(V,fe):(V.__proto__=fe,te(V,se,"GeneratorFunction")),V.prototype=Object.create(be),V},k.awrap=function(V){return{__await:V}},De(je.prototype),te(je.prototype,ie,function(){return this}),k.AsyncIterator=je,k.async=function(V,z,ge,Be,Ve){void 0===Ve&&(Ve=Promise);var Le=new je(ce(V,z,ge,Be),Ve);return k.isGeneratorFunction(z)?Le:Le.next().then(function(_t){return _t.done?_t.value:Le.next()})},De(be),te(be,se,"Generator"),te(be,K,function(){return this}),te(be,"toString",function(){return"[object Generator]"}),k.keys=function(V){var z=[];for(var ge in V)z.push(ge);return z.reverse(),function Be(){for(;z.length;){var Ve=z.pop();if(Ve in V)return Be.value=Ve,Be.done=!1,Be}return Be.done=!0,Be}},k.values=oe,de.prototype={constructor:de,reset:function(V){if(this.prev=0,this.next=0,this.sent=this._sent=O,this.done=!1,this.delegate=null,this.method="next",this.arg=O,this.tryEntries.forEach(Q),!V)for(var z in this)"t"===z.charAt(0)&&Z.call(this,z)&&!isNaN(+z.slice(1))&&(this[z]=O)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if("throw"===z.type)throw z.arg;return this.rval},dispatchException:function(V){if(this.done)throw V;var z=this;function ge(Ut,kt){return Le.type="throw",Le.arg=V,z.next=Ut,kt&&(z.method="next",z.arg=O),!!kt}for(var Be=this.tryEntries.length-1;Be>=0;--Be){var Ve=this.tryEntries[Be],Le=Ve.completion;if("root"===Ve.tryLoc)return ge("end");if(Ve.tryLoc<=this.prev){var _t=Z.call(Ve,"catchLoc"),jt=Z.call(Ve,"finallyLoc");if(_t&&jt){if(this.prev<Ve.catchLoc)return ge(Ve.catchLoc,!0);if(this.prev<Ve.finallyLoc)return ge(Ve.finallyLoc)}else if(_t){if(this.prev<Ve.catchLoc)return ge(Ve.catchLoc,!0)}else{if(!jt)throw new Error("try statement without catch or finally");if(this.prev<Ve.finallyLoc)return ge(Ve.finallyLoc)}}}},abrupt:function(V,z){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var Be=this.tryEntries[ge];if(Be.tryLoc<=this.prev&&Z.call(Be,"finallyLoc")&&this.prev<Be.finallyLoc){var Ve=Be;break}}Ve&&("break"===V||"continue"===V)&&Ve.tryLoc<=z&&z<=Ve.finallyLoc&&(Ve=null);var Le=Ve?Ve.completion:{};return Le.type=V,Le.arg=z,Ve?(this.method="next",this.next=Ve.finallyLoc,Te):this.complete(Le)},complete:function(V,z){if("throw"===V.type)throw V.arg;return"break"===V.type||"continue"===V.type?this.next=V.arg:"return"===V.type?(this.rval=this.arg=V.arg,this.method="return",this.next="end"):"normal"===V.type&&z&&(this.next=z),Te},finish:function(V){for(var z=this.tryEntries.length-1;z>=0;--z){var ge=this.tryEntries[z];if(ge.finallyLoc===V)return this.complete(ge.completion,ge.afterLoc),Q(ge),Te}},catch:function(V){for(var z=this.tryEntries.length-1;z>=0;--z){var ge=this.tryEntries[z];if(ge.tryLoc===V){var Be=ge.completion;if("throw"===Be.type){var Ve=Be.arg;Q(ge)}return Ve}}throw new Error("illegal catch attempt")},delegateYield:function(V,z,ge){return this.delegate={iterator:oe(V),resultName:z,nextLoc:ge},"next"===this.method&&(this.arg=O),Te}},k}(Re.exports);try{regeneratorRuntime=le}catch(k){"object"==typeof globalThis?globalThis.regeneratorRuntime=le:Function("r","regeneratorRuntime = r")(le)}},5555:function(Re,le,k){var c,Z;c=function(){return function O(){var ee=arguments.length;if(0===ee)throw new Error("resolveUrl requires at least one argument; got none.");var K=document.createElement("base");if(K.href=arguments[0],1===ee)return K.href;var ie=document.getElementsByTagName("head")[0];ie.insertBefore(K,ie.firstChild);for(var te,se=document.createElement("a"),ce=1;ce<ee;ce++)se.href=arguments[ce],K.href=te=se.href;return ie.removeChild(K),te}},void 0!==(Z=c.call(le,k,le,Re))&&(Re.exports=Z)},9751:(Re,le,k)=>{"use strict";k.d(le,{y:()=>te});var c=k(930),Z=k(727),O=k(8822),ee=k(9635),K=k(2416),ie=k(576),se=k(2806);let te=(()=>{class X{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Te=new X;return Te.source=this,Te.operator=ke,Te}subscribe(ke,Te,Je){const we=function j(X){return X&&X instanceof c.Lv||function B(X){return X&&(0,ie.m)(X.next)&&(0,ie.m)(X.error)&&(0,ie.m)(X.complete)}(X)&&(0,Z.Nn)(X)}(ke)?ke:new c.Hp(ke,Te,Je);return(0,se.x)(()=>{const{operator:fe,source:ze}=this;we.add(fe?fe.call(we,ze):ze?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Te){ke.error(Te)}}forEach(ke,Te){return new(Te=ce(Te))((Je,we)=>{const fe=new c.Hp({next:ze=>{try{ke(ze)}catch(Ye){we(Ye),fe.unsubscribe()}},error:we,complete:Je});this.subscribe(fe)})}_subscribe(ke){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(ke)}[O.L](){return this}pipe(...ke){return(0,ee.U)(ke)(this)}toPromise(ke){return new(ke=ce(ke))((Te,Je)=>{let we;this.subscribe(fe=>we=fe,fe=>Je(fe),()=>Te(we))})}}return X.create=He=>new X(He),X})();function ce(X){var He;return null!==(He=null!=X?X:K.v.Promise)&&void 0!==He?He:Promise}},7579:(Re,le,k)=>{"use strict";k.d(le,{x:()=>se});var c=k(9751),Z=k(727);const ee=(0,k(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=k(8737),ie=k(2806);let se=(()=>{class ce extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const X=new te(this,this);return X.operator=j,X}_throwIfClosed(){if(this.closed)throw new ee}next(j){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(j)}})}error(j){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:X}=this;for(;X.length;)X.shift().error(j)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:X,isStopped:He,observers:ke}=this;return X||He?Z.Lc:(this.currentObservers=null,ke.push(j),new Z.w0(()=>{this.currentObservers=null,(0,K.P)(ke,j)}))}_checkFinalizedStatuses(j){const{hasError:X,thrownError:He,isStopped:ke}=this;X?j.error(He):ke&&j.complete()}asObservable(){const j=new c.y;return j.source=this,j}}return ce.create=(B,j)=>new te(B,j),ce})();class te extends se{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,X;null===(X=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===X||X.call(j,B)}error(B){var j,X;null===(X=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===X||X.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,X;return null!==(X=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==X?X:Z.Lc}}},930:(Re,le,k)=>{"use strict";k.d(le,{Hp:()=>Je,Lv:()=>X});var c=k(576),Z=k(727),O=k(2416),ee=k(7849),K=k(5032);const ie=ce("C",void 0,void 0);function ce(Se,be,De){return{kind:Se,value:be,error:De}}var B=k(3410),j=k(2806);class X extends Z.w0{constructor(be){super(),this.isStopped=!1,be?(this.destination=be,(0,Z.Nn)(be)&&be.add(this)):this.destination=Ye}static create(be,De,je){return new Je(be,De,je)}next(be){this.isStopped?ze(function te(Se){return ce("N",Se,void 0)}(be),this):this._next(be)}error(be){this.isStopped?ze(function se(Se){return ce("E",void 0,Se)}(be),this):(this.isStopped=!0,this._error(be))}complete(){this.isStopped?ze(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(be){this.destination.next(be)}_error(be){try{this.destination.error(be)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function ke(Se,be){return He.call(Se,be)}class Te{constructor(be){this.partialObserver=be}next(be){const{partialObserver:De}=this;if(De.next)try{De.next(be)}catch(je){we(je)}}error(be){const{partialObserver:De}=this;if(De.error)try{De.error(be)}catch(je){we(je)}else we(be)}complete(){const{partialObserver:be}=this;if(be.complete)try{be.complete()}catch(De){we(De)}}}class Je extends X{constructor(be,De,je){let qe;if(super(),(0,c.m)(be)||!be)qe={next:null!=be?be:void 0,error:null!=De?De:void 0,complete:null!=je?je:void 0};else{let $;this&&O.v.useDeprecatedNextContext?($=Object.create(be),$.unsubscribe=()=>this.unsubscribe(),qe={next:be.next&&ke(be.next,$),error:be.error&&ke(be.error,$),complete:be.complete&&ke(be.complete,$)}):qe=be}this.destination=new Te(qe)}}function we(Se){O.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Se):(0,ee.h)(Se)}function ze(Se,be){const{onStoppedNotification:De}=O.v;De&&B.z.setTimeout(()=>De(Se,be))}const Ye={closed:!0,next:K.Z,error:function fe(Se){throw Se},complete:K.Z}},727:(Re,le,k)=>{"use strict";k.d(le,{Lc:()=>ie,w0:()=>K,Nn:()=>se});var c=k(576);const O=(0,k(3888).d)(ce=>function(j){ce(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((X,He)=>`${He+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ee=k(8737);class K{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const ke of j)ke.remove(this);else j.remove(this);const{initialTeardown:X}=this;if((0,c.m)(X))try{X()}catch(ke){B=ke instanceof O?ke.errors:[ke]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const ke of He)try{te(ke)}catch(Te){B=null!=B?B:[],Te instanceof O?B=[...B,...Te.errors]:B.push(Te)}}if(B)throw new O(B)}}add(B){var j;if(B&&B!==this)if(this.closed)te(B);else{if(B instanceof K){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,ee.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,ee.P)(j,B),B instanceof K&&B._removeParent(this)}}K.EMPTY=(()=>{const ce=new K;return ce.closed=!0,ce})();const ie=K.EMPTY;function se(ce){return ce instanceof K||ce&&"closed"in ce&&(0,c.m)(ce.remove)&&(0,c.m)(ce.add)&&(0,c.m)(ce.unsubscribe)}function te(ce){(0,c.m)(ce)?ce():ce.unsubscribe()}},2416:(Re,le,k)=>{"use strict";k.d(le,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Re,le,k)=>{"use strict";k.d(le,{E:()=>Z});const Z=new(k(9751).y)(K=>K.complete())},8996:(Re,le,k)=>{"use strict";k.d(le,{D:()=>be});var c=k(8421),Z=k(5363),O=k(9468),ie=k(9751),te=k(2202),ce=k(576),B=k(9672);function X(De,je){if(!De)throw new Error("Iterable cannot be null");return new ie.y(qe=>{(0,B.f)(qe,je,()=>{const $=De[Symbol.asyncIterator]();(0,B.f)(qe,je,()=>{$.next().then(Ce=>{Ce.done?qe.complete():qe.next(Ce.value)})},0,!0)})})}var He=k(3670),ke=k(8239),Te=k(1144),Je=k(6495),we=k(2206),fe=k(4532),ze=k(3260);function be(De,je){return je?function Se(De,je){if(null!=De){if((0,He.c)(De))return function ee(De,je){return(0,c.Xf)(De).pipe((0,O.R)(je),(0,Z.Q)(je))}(De,je);if((0,Te.z)(De))return function se(De,je){return new ie.y(qe=>{let $=0;return je.schedule(function(){$===De.length?qe.complete():(qe.next(De[$++]),qe.closed||this.schedule())})})}(De,je);if((0,ke.t)(De))return function K(De,je){return(0,c.Xf)(De).pipe((0,O.R)(je),(0,Z.Q)(je))}(De,je);if((0,we.D)(De))return X(De,je);if((0,Je.T)(De))return function j(De,je){return new ie.y(qe=>{let $;return(0,B.f)(qe,je,()=>{$=De[te.h](),(0,B.f)(qe,je,()=>{let Ce,Q;try{({value:Ce,done:Q}=$.next())}catch(de){return void qe.error(de)}Q?qe.complete():qe.next(Ce)},0,!0)}),()=>(0,ce.m)(null==$?void 0:$.return)&&$.return()})}(De,je);if((0,ze.L)(De))return function Ye(De,je){return X((0,ze.Q)(De),je)}(De,je)}throw(0,fe.z)(De)}(De,je):(0,c.Xf)(De)}},8421:(Re,le,k)=>{"use strict";k.d(le,{Xf:()=>He});var c=k(655),Z=k(1144),O=k(8239),ee=k(9751),K=k(3670),ie=k(2206),se=k(4532),te=k(6495),ce=k(3260),B=k(576),j=k(7849),X=k(8822);function He(Se){if(Se instanceof ee.y)return Se;if(null!=Se){if((0,K.c)(Se))return function ke(Se){return new ee.y(be=>{const De=Se[X.L]();if((0,B.m)(De.subscribe))return De.subscribe(be);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,Z.z)(Se))return function Te(Se){return new ee.y(be=>{for(let De=0;De<Se.length&&!be.closed;De++)be.next(Se[De]);be.complete()})}(Se);if((0,O.t)(Se))return function Je(Se){return new ee.y(be=>{Se.then(De=>{be.closed||(be.next(De),be.complete())},De=>be.error(De)).then(null,j.h)})}(Se);if((0,ie.D)(Se))return fe(Se);if((0,te.T)(Se))return function we(Se){return new ee.y(be=>{for(const De of Se)if(be.next(De),be.closed)return;be.complete()})}(Se);if((0,ce.L)(Se))return function ze(Se){return fe((0,ce.Q)(Se))}(Se)}throw(0,se.z)(Se)}function fe(Se){return new ee.y(be=>{(function Ye(Se,be){var De,je,qe,$;return(0,c.mG)(this,void 0,void 0,function*(){try{for(De=(0,c.KL)(Se);!(je=yield De.next()).done;)if(be.next(je.value),be.closed)return}catch(Ce){qe={error:Ce}}finally{try{je&&!je.done&&($=De.return)&&(yield $.call(De))}finally{if(qe)throw qe.error}}be.complete()})})(Se,be).catch(De=>be.error(De))})}},6451:(Re,le,k)=>{"use strict";k.d(le,{T:()=>ie});var c=k(8189),Z=k(8421),O=k(515),ee=k(3269),K=k(8996);function ie(...se){const te=(0,ee.yG)(se),ce=(0,ee._6)(se,1/0),B=se;return B.length?1===B.length?(0,Z.Xf)(B[0]):(0,c.J)(ce)((0,K.D)(B,te)):O.E}},5403:(Re,le,k)=>{"use strict";k.d(le,{x:()=>Z});var c=k(930);function Z(ee,K,ie,se,te){return new O(ee,K,ie,se,te)}class O extends c.Lv{constructor(K,ie,se,te,ce,B){super(K),this.onFinalize=ce,this.shouldUnsubscribe=B,this._next=ie?function(j){try{ie(j)}catch(X){K.error(X)}}:super._next,this._error=te?function(j){try{te(j)}catch(X){K.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(j){K.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},4004:(Re,le,k)=>{"use strict";k.d(le,{U:()=>O});var c=k(4482),Z=k(5403);function O(ee,K){return(0,c.e)((ie,se)=>{let te=0;ie.subscribe((0,Z.x)(se,ce=>{se.next(ee.call(K,ce,te++))}))})}},8189:(Re,le,k)=>{"use strict";k.d(le,{J:()=>O});var c=k(5577),Z=k(4671);function O(ee=1/0){return(0,c.z)(Z.y,ee)}},5577:(Re,le,k)=>{"use strict";k.d(le,{z:()=>te});var c=k(4004),Z=k(8421),O=k(4482),ee=k(9672),K=k(5403),se=k(576);function te(ce,B,j=1/0){return(0,se.m)(B)?te((X,He)=>(0,c.U)((ke,Te)=>B(X,ke,He,Te))((0,Z.Xf)(ce(X,He))),j):("number"==typeof B&&(j=B),(0,O.e)((X,He)=>function ie(ce,B,j,X,He,ke,Te,Je){const we=[];let fe=0,ze=0,Ye=!1;const Se=()=>{Ye&&!we.length&&!fe&&B.complete()},be=je=>fe<X?De(je):we.push(je),De=je=>{ke&&B.next(je),fe++;let qe=!1;(0,Z.Xf)(j(je,ze++)).subscribe((0,K.x)(B,$=>{null==He||He($),ke?be($):B.next($)},()=>{qe=!0},void 0,()=>{if(qe)try{for(fe--;we.length&&fe<X;){const $=we.shift();Te?(0,ee.f)(B,Te,()=>De($)):De($)}Se()}catch($){B.error($)}}))};return ce.subscribe((0,K.x)(B,be,()=>{Ye=!0,Se()})),()=>{null==Je||Je()}}(X,He,ce,j)))}},5363:(Re,le,k)=>{"use strict";k.d(le,{Q:()=>ee});var c=k(9672),Z=k(4482),O=k(5403);function ee(K,ie=0){return(0,Z.e)((se,te)=>{se.subscribe((0,O.x)(te,ce=>(0,c.f)(te,K,()=>te.next(ce),ie),()=>(0,c.f)(te,K,()=>te.complete(),ie),ce=>(0,c.f)(te,K,()=>te.error(ce),ie)))})}},3099:(Re,le,k)=>{"use strict";k.d(le,{B:()=>ie});var c=k(8996),Z=k(5698),O=k(7579),ee=k(930),K=k(4482);function ie(te={}){const{connector:ce=(()=>new O.x),resetOnError:B=!0,resetOnComplete:j=!0,resetOnRefCountZero:X=!0}=te;return He=>{let ke=null,Te=null,Je=null,we=0,fe=!1,ze=!1;const Ye=()=>{null==Te||Te.unsubscribe(),Te=null},Se=()=>{Ye(),ke=Je=null,fe=ze=!1},be=()=>{const De=ke;Se(),null==De||De.unsubscribe()};return(0,K.e)((De,je)=>{we++,!ze&&!fe&&Ye();const qe=Je=null!=Je?Je:ce();je.add(()=>{we--,0===we&&!ze&&!fe&&(Te=se(be,X))}),qe.subscribe(je),ke||(ke=new ee.Hp({next:$=>qe.next($),error:$=>{ze=!0,Ye(),Te=se(Se,B,$),qe.error($)},complete:()=>{fe=!0,Ye(),Te=se(Se,j),qe.complete()}}),(0,c.D)(De).subscribe(ke))})(He)}}function se(te,ce,...B){return!0===ce?(te(),null):!1===ce?null:ce(...B).pipe((0,Z.q)(1)).subscribe(()=>te())}},9468:(Re,le,k)=>{"use strict";k.d(le,{R:()=>Z});var c=k(4482);function Z(O,ee=0){return(0,c.e)((K,ie)=>{ie.add(O.schedule(()=>K.subscribe(ie),ee))})}},5698:(Re,le,k)=>{"use strict";k.d(le,{q:()=>ee});var c=k(515),Z=k(4482),O=k(5403);function ee(K){return K<=0?()=>c.E:(0,Z.e)((ie,se)=>{let te=0;ie.subscribe((0,O.x)(se,ce=>{++te<=K&&(se.next(ce),K<=te&&se.complete())}))})}},8505:(Re,le,k)=>{"use strict";k.d(le,{b:()=>K});var c=k(576),Z=k(4482),O=k(5403),ee=k(4671);function K(ie,se,te){const ce=(0,c.m)(ie)||se||te?{next:ie,error:se,complete:te}:ie;return ce?(0,Z.e)((B,j)=>{var X;null===(X=ce.subscribe)||void 0===X||X.call(ce);let He=!0;B.subscribe((0,O.x)(j,ke=>{var Te;null===(Te=ce.next)||void 0===Te||Te.call(ce,ke),j.next(ke)},()=>{var ke;He=!1,null===(ke=ce.complete)||void 0===ke||ke.call(ce),j.complete()},ke=>{var Te;He=!1,null===(Te=ce.error)||void 0===Te||Te.call(ce,ke),j.error(ke)},()=>{var ke,Te;He&&(null===(ke=ce.unsubscribe)||void 0===ke||ke.call(ce)),null===(Te=ce.finalize)||void 0===Te||Te.call(ce)}))}):ee.y}},4408:(Re,le,k)=>{"use strict";k.d(le,{o:()=>K});var c=k(727);class Z extends c.w0{constructor(se,te){super()}schedule(se,te=0){return this}}const O={setInterval(ie,se,...te){const{delegate:ce}=O;return(null==ce?void 0:ce.setInterval)?ce.setInterval(ie,se,...te):setInterval(ie,se,...te)},clearInterval(ie){const{delegate:se}=O;return((null==se?void 0:se.clearInterval)||clearInterval)(ie)},delegate:void 0};var ee=k(8737);class K extends Z{constructor(se,te){super(se,te),this.scheduler=se,this.work=te,this.pending=!1}schedule(se,te=0){if(this.closed)return this;this.state=se;const ce=this.id,B=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(B,ce,te)),this.pending=!0,this.delay=te,this.id=this.id||this.requestAsyncId(B,this.id,te),this}requestAsyncId(se,te,ce=0){return O.setInterval(se.flush.bind(se,this),ce)}recycleAsyncId(se,te,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return te;O.clearInterval(te)}execute(se,te){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(se,te);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,te){let B,ce=!1;try{this.work(se)}catch(j){ce=!0,B=j||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:se,scheduler:te}=this,{actions:ce}=te;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(ce,this),null!=se&&(this.id=this.recycleAsyncId(te,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(Re,le,k)=>{"use strict";k.d(le,{v:()=>O});var c=k(6063);class Z{constructor(K,ie=Z.now){this.schedulerActionCtor=K,this.now=ie}schedule(K,ie=0,se){return new this.schedulerActionCtor(this,K).schedule(se,ie)}}Z.now=c.l.now;class O extends Z{constructor(K,ie=Z.now){super(K,ie),this.actions=[],this._active=!1,this._scheduled=void 0}flush(K){const{actions:ie}=this;if(this._active)return void ie.push(K);let se;this._active=!0;do{if(se=K.execute(K.state,K.delay))break}while(K=ie.shift());if(this._active=!1,se){for(;K=ie.shift();)K.unsubscribe();throw se}}}},4986:(Re,le,k)=>{"use strict";k.d(le,{P:()=>ee,z:()=>O});var c=k(4408);const O=new(k(7565).v)(c.o),ee=O},6063:(Re,le,k)=>{"use strict";k.d(le,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Re,le,k)=>{"use strict";k.d(le,{z:()=>c});const c={setTimeout(Z,O,...ee){const{delegate:K}=c;return(null==K?void 0:K.setTimeout)?K.setTimeout(Z,O,...ee):setTimeout(Z,O,...ee)},clearTimeout(Z){const{delegate:O}=c;return((null==O?void 0:O.clearTimeout)||clearTimeout)(Z)},delegate:void 0}},2202:(Re,le,k)=>{"use strict";k.d(le,{h:()=>Z});const Z=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Re,le,k)=>{"use strict";k.d(le,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Re,le,k)=>{"use strict";k.d(le,{_6:()=>ie,jO:()=>ee,yG:()=>K});var c=k(576),Z=k(3532);function O(se){return se[se.length-1]}function ee(se){return(0,c.m)(O(se))?se.pop():void 0}function K(se){return(0,Z.K)(O(se))?se.pop():void 0}function ie(se,te){return"number"==typeof O(se)?se.pop():te}},8737:(Re,le,k)=>{"use strict";function c(Z,O){if(Z){const ee=Z.indexOf(O);0<=ee&&Z.splice(ee,1)}}k.d(le,{P:()=>c})},3888:(Re,le,k)=>{"use strict";function c(Z){const ee=Z(K=>{Error.call(K),K.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}k.d(le,{d:()=>c})},2806:(Re,le,k)=>{"use strict";k.d(le,{O:()=>ee,x:()=>O});var c=k(2416);let Z=null;function O(K){if(c.v.useDeprecatedSynchronousErrorHandling){const ie=!Z;if(ie&&(Z={errorThrown:!1,error:null}),K(),ie){const{errorThrown:se,error:te}=Z;if(Z=null,se)throw te}}else K()}function ee(K){c.v.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=K)}},9672:(Re,le,k)=>{"use strict";function c(Z,O,ee,K=0,ie=!1){const se=O.schedule(function(){ee(),ie?Z.add(this.schedule(null,K)):this.unsubscribe()},K);if(Z.add(se),!ie)return se}k.d(le,{f:()=>c})},4671:(Re,le,k)=>{"use strict";function c(Z){return Z}k.d(le,{y:()=>c})},1144:(Re,le,k)=>{"use strict";k.d(le,{z:()=>c});const c=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(Re,le,k)=>{"use strict";k.d(le,{D:()=>Z});var c=k(576);function Z(O){return Symbol.asyncIterator&&(0,c.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(Re,le,k)=>{"use strict";function c(Z){return"function"==typeof Z}k.d(le,{m:()=>c})},3670:(Re,le,k)=>{"use strict";k.d(le,{c:()=>O});var c=k(8822),Z=k(576);function O(ee){return(0,Z.m)(ee[c.L])}},6495:(Re,le,k)=>{"use strict";k.d(le,{T:()=>O});var c=k(2202),Z=k(576);function O(ee){return(0,Z.m)(null==ee?void 0:ee[c.h])}},8239:(Re,le,k)=>{"use strict";k.d(le,{t:()=>Z});var c=k(576);function Z(O){return(0,c.m)(null==O?void 0:O.then)}},3260:(Re,le,k)=>{"use strict";k.d(le,{L:()=>ee,Q:()=>O});var c=k(655),Z=k(576);function O(K){return(0,c.FC)(this,arguments,function*(){const se=K.getReader();try{for(;;){const{value:te,done:ce}=yield(0,c.qq)(se.read());if(ce)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(te)}}finally{se.releaseLock()}})}function ee(K){return(0,Z.m)(null==K?void 0:K.getReader)}},3532:(Re,le,k)=>{"use strict";k.d(le,{K:()=>Z});var c=k(576);function Z(O){return O&&(0,c.m)(O.schedule)}},4482:(Re,le,k)=>{"use strict";k.d(le,{A:()=>Z,e:()=>O});var c=k(576);function Z(ee){return(0,c.m)(null==ee?void 0:ee.lift)}function O(ee){return K=>{if(Z(K))return K.lift(function(ie){try{return ee(ie,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Re,le,k)=>{"use strict";function c(){}k.d(le,{Z:()=>c})},9635:(Re,le,k)=>{"use strict";k.d(le,{U:()=>O,z:()=>Z});var c=k(4671);function Z(...ee){return O(ee)}function O(ee){return 0===ee.length?c.y:1===ee.length?ee[0]:function(ie){return ee.reduce((se,te)=>te(se),ie)}}},7849:(Re,le,k)=>{"use strict";k.d(le,{h:()=>O});var c=k(2416),Z=k(3410);function O(ee){Z.z.setTimeout(()=>{const{onUnhandledError:K}=c.v;if(!K)throw ee;K(ee)})}},4532:(Re,le,k)=>{"use strict";function c(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(le,{z:()=>c})},8926:Re=>{function le(c,Z,O,ee,K,ie,se){try{var te=c[ie](se),ce=te.value}catch(B){return void O(B)}te.done?Z(ce):Promise.resolve(ce).then(ee,K)}Re.exports=function k(c){return function(){var Z=this,O=arguments;return new Promise(function(ee,K){var ie=c.apply(Z,O);function se(ce){le(ie,ee,K,se,te,"next",ce)}function te(ce){le(ie,ee,K,se,te,"throw",ce)}se(void 0)})}},Re.exports.__esModule=!0,Re.exports.default=Re.exports},655:(Re,le,k)=>{"use strict";function ee(Q,de){var oe={};for(var ve in Q)Object.prototype.hasOwnProperty.call(Q,ve)&&de.indexOf(ve)<0&&(oe[ve]=Q[ve]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var V=0;for(ve=Object.getOwnPropertySymbols(Q);V<ve.length;V++)de.indexOf(ve[V])<0&&Object.prototype.propertyIsEnumerable.call(Q,ve[V])&&(oe[ve[V]]=Q[ve[V]])}return oe}function te(Q,de,oe,ve){return new(oe||(oe=Promise))(function(z,ge){function Be(_t){try{Le(ve.next(_t))}catch(jt){ge(jt)}}function Ve(_t){try{Le(ve.throw(_t))}catch(jt){ge(jt)}}function Le(_t){_t.done?z(_t.value):function V(z){return z instanceof oe?z:new oe(function(ge){ge(z)})}(_t.value).then(Be,Ve)}Le((ve=ve.apply(Q,de||[])).next())})}function we(Q){return this instanceof we?(this.v=Q,this):new we(Q)}function fe(Q,de,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var V,ve=oe.apply(Q,de||[]),z=[];return V={},ge("next"),ge("throw"),ge("return"),V[Symbol.asyncIterator]=function(){return this},V;function ge(Ut){ve[Ut]&&(V[Ut]=function(kt){return new Promise(function(Pn,$t){z.push([Ut,kt,Pn,$t])>1||Be(Ut,kt)})})}function Be(Ut,kt){try{!function Ve(Ut){Ut.value instanceof we?Promise.resolve(Ut.value.v).then(Le,_t):jt(z[0][2],Ut)}(ve[Ut](kt))}catch(Pn){jt(z[0][3],Pn)}}function Le(Ut){Be("next",Ut)}function _t(Ut){Be("throw",Ut)}function jt(Ut,kt){Ut(kt),z.shift(),z.length&&Be(z[0][0],z[0][1])}}function Ye(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,de=Q[Symbol.asyncIterator];return de?de.call(Q):(Q=function X(Q){var de="function"==typeof Symbol&&Symbol.iterator,oe=de&&Q[de],ve=0;if(oe)return oe.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&ve>=Q.length&&(Q=void 0),{value:Q&&Q[ve++],done:!Q}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),oe={},ve("next"),ve("throw"),ve("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function ve(z){oe[z]=Q[z]&&function(ge){return new Promise(function(Be,Ve){!function V(z,ge,Be,Ve){Promise.resolve(Ve).then(function(Le){z({value:Le,done:Be})},ge)}(Be,Ve,(ge=Q[z](ge)).done,ge.value)})}}}k.d(le,{FC:()=>fe,KL:()=>Ye,_T:()=>ee,mG:()=>te,qq:()=>we})},5e3:(Re,le,k)=>{"use strict";k.d(le,{$8M:()=>Do,$Z:()=>dm,AFp:()=>Eh,ALo:()=>xv,AaK:()=>te,AsE:()=>zf,BQk:()=>Qu,CHM:()=>Wo,CRH:()=>xb,CZH:()=>cl,CqO:()=>_c,DdM:()=>lb,EJc:()=>LD,EiD:()=>pg,EpF:()=>fm,F$t:()=>jf,F4k:()=>pm,FYo:()=>xc,FiY:()=>yr,G48:()=>iC,GfV:()=>Fm,Gpc:()=>j,Hsn:()=>W_,JOm:()=>N,JVY:()=>ug,L6k:()=>Zh,LAX:()=>Wl,LFG:()=>at,LSH:()=>ja,Lbi:()=>PD,MAs:()=>Vw,NdJ:()=>Vf,O4$:()=>ud,OlP:()=>pn,Oqu:()=>wc,PXZ:()=>hl,Q6J:()=>Yd,QGY:()=>z_,Qsj:()=>eo,R0b:()=>Es,RDi:()=>Dl,Rgc:()=>nu,SBq:()=>Sc,Sil:()=>Cp,Suo:()=>Zm,TTD:()=>Fi,TgZ:()=>Lf,VKq:()=>Bm,VLi:()=>Jb,W1O:()=>Rb,WLB:()=>cb,X6Q:()=>HD,XFs:()=>Et,Xpm:()=>yt,Y36:()=>Pf,YKP:()=>Tv,YNc:()=>L_,Yjl:()=>wa,Yz7:()=>kt,ZZ4:()=>oy,_Bn:()=>tb,_UZ:()=>Z_,_Vd:()=>ip,_c5:()=>c0,_uU:()=>_m,aQg:()=>Dh,c2e:()=>Wv,cJS:()=>$t,cg1:()=>$n,dDg:()=>Jv,deG:()=>Uh,dqk:()=>Gt,eBb:()=>Oy,eFA:()=>Qm,ekj:()=>tv,g9A:()=>Zv,h0i:()=>to,hGG:()=>yC,hij:()=>Zf,iGM:()=>Sb,ifc:()=>Zt,ip1:()=>ll,kL8:()=>Im,kcU:()=>Xp,lG2:()=>uu,lcZ:()=>yb,mCW:()=>Nu,n5z:()=>dn,n_E:()=>al,oAB:()=>Dr,oxw:()=>Bf,pB0:()=>Py,q3G:()=>Cn,q4F:()=>Lm,qLn:()=>Ud,qOj:()=>Jg,qZA:()=>Uf,qzn:()=>Zs,sBO:()=>ey,sIi:()=>Tf,s_b:()=>Gm,soG:()=>ru,tBr:()=>bi,tb:()=>zv,tp0:()=>qs,uIk:()=>xf,vHH:()=>Te,vpe:()=>pa,wAp:()=>Tt,xp6:()=>t_,yhl:()=>ku,ynx:()=>yc,z2F:()=>n0,z3N:()=>ai,zSh:()=>Zg,zs3:()=>ca});var c=k(7579),Z=k(727),O=k(9751),ee=k(6451),K=k(3099);function ie(i){for(let o in i)if(i[o]===ie)return o;throw Error("Could not find renamed property on target object.")}function se(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function te(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(te).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ce(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const B=ie({__forward_ref__:ie});function j(i){return i.__forward_ref__=j,i.toString=function(){return te(this())},i}function X(i){return He(i)?i():i}function He(i){return"function"==typeof i&&i.hasOwnProperty(B)&&i.__forward_ref__===j}class Te extends Error{constructor(o,a){super(function Je(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function we(i){return"string"==typeof i?i:null==i?"":String(i)}function fe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():we(i)}function be(i,o){const a=o?` in ${o}`:"";throw new Te(-201,`No provider for ${fe(i)} found${a}`)}function Ve(i,o){null==i&&function Le(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function kt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function $t(i){return{providers:i.providers||[],imports:i.imports||[]}}function Nt(i){return is(i,Mi)||is(i,Qr)}function is(i,o){return i.hasOwnProperty(o)?i[o]:null}function Ir(i){return i&&(i.hasOwnProperty(As)||i.hasOwnProperty(gi))?i[As]:null}const Mi=ie({\u0275prov:ie}),As=ie({\u0275inj:ie}),Qr=ie({ngInjectableDef:ie}),gi=ie({ngInjectorDef:ie});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let Jr;function _n(i){const o=Jr;return Jr=i,o}function so(i,o,a){const l=Nt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Et.Optional?null:void 0!==o?o:void be(te(i),"Injector")}function qn(i){return{toString:i}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),Zt=(()=>{return(i=Zt||(Zt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Zt;var i})();const lt="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,cr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=lt||"undefined"!=typeof global&&global||Dt||cr,hr={},U=[],W=ie({\u0275cmp:ie}),Y=ie({\u0275dir:ie}),Ae=ie({\u0275pipe:ie}),q=ie({\u0275mod:ie}),ue=ie({\u0275fac:ie}),Pe=ie({__NG_ELEMENT_ID__:ie});let et=0;function yt(i){return qn(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||U,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Zt.Emulated,id:"c",styles:i.styles||U,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.directives,p=i.features,_=i.pipes;return l.id+=et++,l.inputs=va(i.inputs,a),l.outputs=va(i.outputs),p&&p.forEach(E=>E(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(sn):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(At):null,l})}function sn(i){return Ln(i)||function Tr(i){return i[Y]||null}(i)}function At(i){return function ss(i){return i[Ae]||null}(i)}const Fn={};function Dr(i){return qn(()=>{const o={type:i.type,bootstrap:i.bootstrap||U,declarations:i.declarations||U,imports:i.imports||U,exports:i.exports||U,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Fn[i.id]=i.type),o})}function va(i,o){if(null==i)return hr;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}const uu=yt;function wa(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ln(i){return i[W]||null}function Un(i,o){const a=i[q]||null;if(!a&&!0===o)throw new Error(`Type ${te(i)} does not have '\u0275mod' property.`);return a}function jr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Ni(i){return Array.isArray(i)&&!0===i[1]}function du(i){return 0!=(8&i.flags)}function qc(i){return 2==(2&i.flags)}function Oi(i){return 1==(1&i.flags)}function Pi(i){return null!==i.template}function El(i){return 0!=(512&i[2])}function er(i,o){return i.hasOwnProperty(ue)?i[ue]:null}class lo{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Fi(){return $o}function $o(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ph),ed}function ed(){const i=co(this),o=null==i?void 0:i.current;if(o){const a=i.previous;if(a===hr)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function Ph(i,o,a,l){const h=co(i)||function Ho(i,o){return i[Da]=o}(i,{previous:hr,current:null}),p=h.current||(h.current={}),_=h.previous,E=this.declaredInputs[a],b=_[E];p[E]=new lo(b&&b.currentValue,o,_===hr),i[l]=o}Fi.ngInherit=!0;const Da="__ngSimpleChanges__";function co(i){return i[Da]||null}let qo;function Dl(i){qo=i}function nn(i){return!!i.listen}const Ta={createRenderer:(i,o)=>function Li(){return void 0!==qo?qo:"undefined"!=typeof document?document:void 0}()};function Yt(i){for(;Array.isArray(i);)i=i[0];return i}function Ns(i,o){return Yt(o[i])}function tr(i,o){return Yt(o[i.index])}function cn(i,o){return i.data[o]}function Ui(i,o){return i[o]}function nr(i,o){const a=o[i];return jr(a)?a:a[0]}function fo(i){return 4==(4&i[2])}function as(i){return 128==(128&i[2])}function _i(i,o){return null==o?null:i[o]}function Vi(i){i[18]=0}function Zo(i,o){i[5]+=o;let a=i,l=i[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const bt={lFrame:Ko(null),bindingsEnabled:!0};function gu(){return bt.bindingsEnabled}function Oe(){return bt.lFrame.lView}function Ht(){return bt.lFrame.tView}function Wo(i){return bt.lFrame.contextLView=i,i[8]}function ln(){let i=mu();for(;null!==i&&64===i.type;)i=i.parent;return i}function mu(){return bt.lFrame.currentTNode}function ni(i,o){const a=bt.lFrame;a.currentTNode=i,a.isParent=o}function Ml(){return bt.lFrame.isParent}function Rl(){bt.lFrame.isParent=!1}function pr(){const i=bt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function Ps(){return bt.lFrame.bindingIndex++}function vi(i){const o=bt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}function vu(i,o){const a=bt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ma(o)}function Ma(i){bt.lFrame.currentDirectiveIndex=i}function Eu(){return bt.lFrame.currentQueryIndex}function id(i){bt.lFrame.currentQueryIndex=i}function sd(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function bu(i,o,a){if(a&Et.SkipSelf){let h=o,p=i;for(;!(h=h.parent,null!==h||a&Et.Host||(h=sd(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,i=p}const l=bt.lFrame=od();return l.currentTNode=o,l.lView=i,!0}function go(i){const o=od(),a=i[1];bt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function od(){const i=bt.lFrame,o=null===i?null:i.child;return null===o?Ko(i):o}function Ko(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function ad(){const i=bt.lFrame;return bt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Cu=ad;function $r(){const i=ad();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Zn(){return bt.lFrame.selectedIndex}function mo(i){bt.lFrame.selectedIndex=i}function Sn(){const i=bt.lFrame;return cn(i.tView,i.selectedIndex)}function ud(){bt.lFrame.currentNamespace="svg"}function Xp(){!function ld(){bt.lFrame.currentNamespace=null}()}function Ra(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:S,ngOnDestroy:x}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),E&&((i.contentHooks||(i.contentHooks=[])).push(a,E),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,E)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(a,x)}}function ls(i,o,a){cd(i,o,3,a)}function yo(i,o,a,l){(3&i[2])===a&&cd(i,o,a,l)}function Vn(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function cd(i,o,a,l){const p=null!=l?l:-1,_=o.length-1;let E=0;for(let b=void 0!==l?65535&i[18]:0;b<_;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=l&&E>=l)break}else o[b]<0&&(i[18]+=65536),(E<p||-1==p)&&(tg(i,a,o,b),i[18]=(4294901760&i[18])+b+2),b++}function tg(i,o,a,l){const h=a[l]<0,p=a[l+1],E=i[h?-a[l]:a[l]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class Yo{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function xr(i,o,a){const l=nn(i);let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const _=a[h++],E=a[h++],b=a[h++];l?i.setAttribute(o,E,b,_):o.setAttributeNS(_,E,b)}else{const _=p,E=a[++h];wn(_)?l&&i.setProperty(o,_,E):l?i.setAttribute(o,_,E):o.setAttribute(_,E),h++}}return h}function ii(i){return 3===i||4===i||6===i}function wn(i){return 64===i.charCodeAt(0)}function Oa(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||hd(i,a,h,null,-1===a||2===a?o[++l]:null)}}return i}function hd(i,o,a,l,h){let p=0,_=i.length;if(-1===o)_=-1;else for(;p<i.length;){const E=i[p++];if("number"==typeof E){if(E===o){_=-1;break}if(E>o){_=p-1;break}}}for(;p<i.length;){const E=i[p];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==h&&(i[p+1]=h));if(l===i[p+1])return void(i[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(i.splice(_,0,o),p=_+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==h&&i.splice(p++,0,h)}function Qo(i){return-1!==i}function Fs(i){return 32767&i}function Ls(i,o){let a=function En(i){return i>>16}(i),l=o;for(;a>0;)l=l[15],a--;return l}let ji=!0;function vt(i){const o=ji;return ji=i,o}let Ll=0;function Us(i,o){const a=wo(i,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(i.injectorIndex=o.length,vo(l.data,i),vo(o,null),vo(l.blueprint,null));const h=rr(i,o),p=i.injectorIndex;if(Qo(h)){const _=Fs(h),E=Ls(h,o),b=E[1].data;for(let S=0;S<8;S++)o[p+S]=E[_+S]|b[_+S]}return o[p+8]=h,p}function vo(i,o){i.push(0,0,0,0,0,0,0,0,o)}function wo(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function rr(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){const p=h[1],_=p.type;if(l=2===_?p.declTNode:1===_?h[6]:null,null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Eo(i,o,a){!function Bn(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Pe)&&(l=a[Pe]),null==l&&(l=a[Pe]=Ll++);const h=255&l;o.data[i+(h>>5)]|=1<<h}(i,o,a)}function Jo(i,o,a){if(a&Et.Optional)return i;be(o,"NodeInjector")}function Vs(i,o,a,l){if(a&Et.Optional&&void 0===l&&(l=null),0==(a&(Et.Self|Et.Host))){const h=i[9],p=_n(void 0);try{return h?h.get(o,l,a&Et.Optional):so(o,l,a&Et.Optional)}finally{_n(p)}}return Jo(l,o,a)}function Xo(i,o,a,l=Et.Default,h){if(null!==i){const p=function Io(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(Pe)?i[Pe]:void 0;return"number"==typeof o?o>=0?255&o:Co:o}(a);if("function"==typeof p){if(!bu(o,i,l))return l&Et.Host?Jo(h,a,l):Vs(o,a,l,h);try{const _=p(l);if(null!=_||l&Et.Optional)return _;be(a)}finally{Cu()}}else if("number"==typeof p){let _=null,E=wo(i,o),b=-1,S=l&Et.Host?o[16][6]:null;for((-1===E||l&Et.SkipSelf)&&(b=-1===E?rr(i,o):o[E+8],-1!==b&&Vl(l,!1)?(_=o[1],E=Fs(b),o=Ls(b,o)):E=-1);-1!==E;){const x=o[1];if(jn(p,E,x.data)){const P=Ul(E,o,a,_,l,S);if(P!==Bs)return P}b=o[E+8],-1!==b&&Vl(l,o[1].data[E+8]===S)&&jn(p,E,o)?(_=x,E=Fs(b),o=Ls(b,o)):E=-1}}}return Vs(o,a,l,h)}const Bs={};function Co(){return new js(ln(),Oe())}function Ul(i,o,a,l,h,p){const _=o[1],E=_.data[i+8],x=Pa(E,_,a,null==l?qc(E)&&ji:l!=_&&0!=(3&E.type),h&Et.Host&&p===E);return null!==x?cs(o,_,x,E):Bs}function Pa(i,o,a,l,h){const p=i.providerIndexes,_=o.data,E=1048575&p,b=i.directiveStart,x=p>>20,H=h?E+x:i.directiveEnd;for(let re=l?E:E+x;re<H;re++){const Ie=_[re];if(re<b&&a===Ie||re>=b&&Ie.type===a)return re}if(h){const re=_[b];if(re&&Pi(re)&&re.type===a)return b}return null}function cs(i,o,a,l){let h=i[a];const p=o.data;if(function Iu(i){return i instanceof Yo}(h)){const _=h;_.resolving&&function ze(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Te(-200,`Circular dependency in DI detected for ${i}${a}`)}(fe(p[a]));const E=vt(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?_n(_.injectImpl):null;bu(i,l,Et.Default);try{h=i[a]=_.factory(void 0,p,i,l),o.firstCreatePass&&a>=l.directiveStart&&function xy(i,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const _=$o(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],o)}finally{null!==b&&_n(b),vt(E),_.resolving=!1,Cu()}}return h}function jn(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function Vl(i,o){return!(i&Et.Self||i&Et.Host&&o)}class js{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Xo(this._tNode,this._lView,o,l,a)}}function dn(i){return qn(()=>{const o=i.prototype.constructor,a=o[ue]||si(o),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const p=h[ue]||si(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function si(i){return He(i)?()=>{const o=si(X(i));return o&&o()}:er(i)}function Do(i){return function bo(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(ii(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(ln(),i)}const $i="__parameters__";function wi(i,o,a){return qn(()=>{const l=function bn(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return E.annotation=_,E;function E(b,S,x){const P=b.hasOwnProperty($i)?b[$i]:Object.defineProperty(b,$i,{value:[]})[$i];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(_),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class pn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=kt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Uh=new pn("AnalyzeForEntryComponents");function gr(i,o){void 0===o&&(o=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(o===i&&(o=i.slice(0,a)),gr(l,o)):o!==i&&o.push(l)}return o}function Mr(i,o){i.forEach(a=>Array.isArray(a)?Mr(a,o):o(a))}function La(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ta(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function hs(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}function mr(i,o,a){let l=ia(i,o);return l>=0?i[1|l]=a:(l=~l,function na(i,o,a,l){let h=i.length;if(h==o)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function Ua(i,o){const a=ia(i,o);if(a>=0)return i[1|a]}function ia(i,o){return function ps(i,o,a){let l=0,h=i.length>>a;for(;h!==l;){const p=l+(h-l>>1),_=i[p<<a];if(o===_)return p<<a;_>o?h=p:l=p+1}return~(h<<a)}(i,o,1)}const Gs={},sa="__NG_DI_FLAG__",Va="ngTempTokenPath",D=/\n/gm,F="__source",ne=ie({provide:String,useValue:ie});let he;function Ee(i){const o=he;return he=i,o}function Xe(i,o=Et.Default){if(void 0===he)throw new Te(203,"");return null===he?so(i,void 0,o):he.get(i,o&Et.Optional?null:void 0,o)}function at(i,o=Et.Default){return(function fn(){return Jr}()||Xe)(X(i),o)}const zt=at;function Rt(i){const o=[];for(let a=0;a<i.length;a++){const l=X(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Te(900,"");let h,p=Et.Default;for(let _=0;_<l.length;_++){const E=l[_],b=Wn(E);"number"==typeof b?-1===b?h=E.token:p|=b:h=E}o.push(at(h,p))}else o.push(at(l))}return o}function Mn(i,o){return i[sa]=o,i.prototype[sa]=o,i}function Wn(i){return i[sa]}const bi=Mn(wi("Inject",i=>({token:i})),-1),yr=Mn(wi("Optional"),8),qs=Mn(wi("SkipSelf"),4);let Zl;function Ru(i){var o;return(null===(o=function Id(){if(void 0===Zl&&(Zl=null,Gt.trustedTypes))try{Zl=Gt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Zl}())||void 0===o?void 0:o.createHTML(i))||i}class xo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ag extends xo{getTypeName(){return"HTML"}}class zl extends xo{getTypeName(){return"Style"}}class Ry extends xo{getTypeName(){return"Script"}}class ky extends xo{getTypeName(){return"URL"}}class Ny extends xo{getTypeName(){return"ResourceURL"}}function ai(i){return i instanceof xo?i.changingThisBreaksApplicationSecurity:i}function Zs(i,o){const a=ku(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function ku(i){return i instanceof xo&&i.getTypeName()||null}function ug(i){return new ag(i)}function Zh(i){return new zl(i)}function Oy(i){return new Ry(i)}function Wl(i){return new ky(i)}function Py(i){return new Ny(i)}class lg{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Ru(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class cg{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Ru(o),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Ru(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const _=a.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let l=o.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Fy=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ba=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Nu(i){return(i=String(i)).match(Fy)||i.match(Ba)?i:"unsafe:"+i}function Zi(i){const o={};for(const a of i.split(","))o[a]=!0;return o}function Kl(...i){const o={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(o[l]=!0);return o}const xd=Zi("area,br,col,hr,img,wbr"),Md=Zi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mo=Zi("rp,rt"),Yl=Kl(xd,Kl(Md,Zi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kl(Mo,Zi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Kl(Mo,Md)),Kh=Zi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yh=Zi("srcset"),hg=Kl(Kh,Yh,Zi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pu=Zi("script,style,template");class Ql{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Yl.hasOwnProperty(a))return this.sanitizedSomething=!0,!Pu.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=o.attributes;for(let h=0;h<l.length;h++){const p=l.item(h),_=p.name,E=_.toLowerCase();if(!hg.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let b=p.value;Kh[E]&&(b=Nu(b)),Yh[E]&&(i=b,b=(i=String(i)).split(",").map(o=>Nu(o.trim())).join(", ")),this.buf.push(" ",_,'="',Jl(b),'"')}var i;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Yl.hasOwnProperty(a)&&!xd.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Jl(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Uy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fg=/([^\#-~ |!])/g;function Jl(i){return i.replace(/&/g,"&amp;").replace(Uy,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(fg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fu;function pg(i,o){let a=null;try{Fu=Fu||function zh(i){const o=new cg(i);return function Sd(){try{return!!(new window.DOMParser).parseFromString(Ru(""),"text/html")}catch(i){return!1}}()?new lg(o):o}(i);let l=o?String(o):"";a=Fu.getInertBodyElement(l);let h=5,p=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=p,p=a.innerHTML,a=Fu.getInertBodyElement(l)}while(l!==p);return Ru((new Ql).sanitizeChildren(Xl(a)||a))}finally{if(a){const l=Xl(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Xl(i){return"content"in i&&function Gr(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Cn=(()=>((Cn=Cn||{})[Cn.NONE=0]="NONE",Cn[Cn.HTML=1]="HTML",Cn[Cn.STYLE=2]="STYLE",Cn[Cn.SCRIPT=3]="SCRIPT",Cn[Cn.URL=4]="URL",Cn[Cn.RESOURCE_URL=5]="RESOURCE_URL",Cn))();function ja(i){const o=function Lu(){const i=Oe();return i&&i[12]}();return o?o.sanitize(Cn.URL,i)||"":Zs(i,"URL")?ai(i):Nu(we(i))}const Pd="__ngContext__";function sr(i,o){i[Pd]=o}function Xh(i){const o=function Uu(i){return i[Pd]||null}(i);return o?Array.isArray(o)?o:o.lView:null}function Ld(i){return i.ngOriginalError}function Zy(i,...o){i.error(...o)}class Ud{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function qy(i){return i&&i.ngErrorLogger||Zy}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Ld(o);for(;a&&Ld(a);)a=Ld(a);return a||null}}const sf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function y(i){return i instanceof Function?i():i}var N=(()=>((N=N||{})[N.Important=1]="Important",N[N.DashCase=2]="DashCase",N))();function ye(i,o){return undefined(i,o)}function mt(i){const o=i[3];return Ni(o)?o[3]:o}function li(i){return af(i[13])}function Vu(i){return af(i[4])}function af(i){for(;null!==i&&!Ni(i);)i=i[4];return i}function Ga(i,o,a,l,h){if(null!=l){let p,_=!1;Ni(l)?p=l:jr(l)&&(_=!0,l=l[0]);const E=Yt(l);0===i&&null!==a?null==h?G0(o,a,E):$u(o,a,E,h||null,!0):1===i&&null!==a?$u(o,a,E,h||null,!0):2===i?function Y0(i,o,a){const l=xg(i,o);l&&function Sg(i,o,a,l){nn(i)?i.removeChild(o,a,l):o.removeChild(a)}(i,l,o,a)}(o,E,_):3===i&&o.destroyNode(E),null!=p&&function sS(i,o,a,l,h){const p=a[7];p!==Yt(a)&&Ga(o,i,l,p,h);for(let E=10;E<a.length;E++){const b=a[E];kg(b[1],b,i,o,l,p)}}(o,i,p,a,h)}}function Rn(i,o,a){if(nn(i))return i.createElement(o,a);{const l=null!==a?function Il(i){const o=i.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(o):i.createElementNS(l,o)}}function j0(i,o){const a=i[9],l=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Zo(h,-1)),a.splice(l,1)}function Tg(i,o){if(i.length<=10)return;const a=10+o,l=i[a];if(l){const h=l[17];null!==h&&h!==i&&j0(h,l),o>0&&(i[a-1][4]=l[4]);const p=ta(i,10+o);!function uf(i,o){kg(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function $0(i,o){if(!(256&o[2])){const a=o[11];nn(a)&&a.destroyNode&&kg(i,o,a,3,null,null),function qa(i){let o=i[13];if(!o)return Ag(i[1],i);for(;o;){let a=null;if(jr(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==i;)jr(o)&&Ag(o[1],o),o=o[3];null===o&&(o=i),jr(o)&&Ag(o[1],o),a=o&&o[4]}o=a}}(o)}}function Ag(i,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Ky(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof Yo)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const E=h[p[_]],b=p[_+1];try{b.call(E)}finally{}}else try{p.call(h)}finally{}}}}(i,o),function H0(i,o){const a=i.cleanup,l=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],E="function"==typeof _?_(o):Yt(o[_]),b=l[h=a[p+2]],S=a[p+3];"boolean"==typeof S?E.removeEventListener(a[p],b,S):S>=0?l[h=S]():l[h=-S].unsubscribe(),p+=2}else{const _=l[h=a[p+1]];a[p].call(_)}if(null!==l){for(let p=h+1;p<l.length;p++)l[p]();o[7]=null}}(i,o),1===o[1].type&&nn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&Ni(o[3])){a!==o[3]&&j0(a,o);const l=o[19];null!==l&&l.detachView(i)}}}function tI(i,o,a){return function ju(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const h=i.data[l.directiveStart].encapsulation;if(h===Zt.None||h===Zt.Emulated)return null}return tr(l,a)}(i,o.parent,a)}function $u(i,o,a,l,h){nn(i)?i.insertBefore(o,a,l,h):o.insertBefore(a,l,h)}function G0(i,o,a){nn(i)?i.appendChild(o,a):o.appendChild(a)}function q0(i,o,a,l,h){null!==l?$u(i,o,a,l,h):G0(i,o,a)}function xg(i,o){return nn(i)?i.parentNode(o):o.parentNode}function Z0(i,o,a){return z0(i,o,a)}let z0=function Yy(i,o,a){return 40&i.type?tr(i,a):null};function Bd(i,o,a,l){const h=tI(i,l,o),p=o[11],E=Z0(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)q0(p,h,a[b],E,!1);else q0(p,h,a,E,!1)}function Mg(i,o){if(null!==o){const a=o.type;if(3&a)return tr(o,i);if(4&a)return Rg(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return Mg(i,l);{const h=i[o.index];return Ni(h)?Rg(-1,h):Yt(h)}}if(32&a)return ye(o,i)()||Yt(i[o.index]);{const l=K0(i,o);return null!==l?Array.isArray(l)?l[0]:Mg(mt(i[16]),l):Mg(i,o.next)}}return null}function K0(i,o){return null!==o?i[16][6].projection[o.projection]:null}function Rg(i,o){const a=10+i+1;if(a<o.length){const l=o[a],h=l[1].firstChild;if(null!==h)return Mg(l,h)}return o[7]}function Q0(i,o,a,l,h,p,_){for(;null!=a;){const E=l[a.index],b=a.type;if(_&&0===o&&(E&&sr(Yt(E),l),a.flags|=4),64!=(64&a.flags))if(8&b)Q0(i,o,a.child,l,h,p,!1),Ga(o,i,h,E,p);else if(32&b){const S=ye(a,l);let x;for(;x=S();)Ga(o,i,h,x,p);Ga(o,i,h,E,p)}else 16&b?rI(i,o,l,a,h,p):Ga(o,i,h,E,p);a=_?a.projectionNext:a.next}}function kg(i,o,a,l,h,p){Q0(a,l,i.firstChild,o,h,p,!1)}function rI(i,o,a,l,h,p){const _=a[16],b=_[6].projection[l.projection];if(Array.isArray(b))for(let S=0;S<b.length;S++)Ga(o,i,h,b[S],p);else Q0(i,o,b,_[3],h,p,!0)}function J0(i,o,a){nn(i)?i.setAttribute(o,"style",a):o.style.cssText=a}function pe(i,o,a){nn(i)?""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a):o.className=a}function df(i,o,a){let l=i.length;for(;;){const h=i.indexOf(o,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||i.charCodeAt(h+p)<=32)return h}a=h+1}}const X0="ng-template";function sI(i,o,a){let l=0;for(;l<i.length;){let h=i[l++];if(a&&"class"===h){if(h=i[l],-1!==df(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<i.length&&"string"==typeof(h=i[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function Jy(i){return 4===i.type&&i.value!==X0}function oI(i,o,a){return o===(4!==i.type||a?i.value:X0)}function aI(i,o,a){let l=4;const h=i.attrs||[],p=function lI(i){for(let o=0;o<i.length;o++)if(ii(i[o]))return o;return i.length}(h);let _=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!oI(i,b,a)||""===b&&1===o.length){if(Ro(l))return!1;_=!0}}else{const S=8&l?b:o[++E];if(8&l&&null!==i.attrs){if(!sI(i.attrs,S,a)){if(Ro(l))return!1;_=!0}continue}const P=uI(8&l?"class":b,h,Jy(i),a);if(-1===P){if(Ro(l))return!1;_=!0;continue}if(""!==S){let H;H=P>p?"":h[P+1].toLowerCase();const re=8&l?H:null;if(re&&-1!==df(re,S,0)||2&l&&S!==H){if(Ro(l))return!1;_=!0}}}}else{if(!_&&!Ro(l)&&!Ro(b))return!1;if(_&&Ro(b))continue;_=!1,l=b|1&l}}return Ro(l)||_}function Ro(i){return 0==(1&i)}function uI(i,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const _=o[h];if(_===i)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function cI(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function ew(i,o,a=!1){for(let l=0;l<o.length;l++)if(aI(i,o[l],a))return!0;return!1}function dI(i,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(i.length===l.length){for(let h=0;h<i.length;h++)if(i[h]!==l[h])continue e;return!0}}return!1}function Xy(i,o){return i?":not("+o.trim()+")":o}function tw(i){let o=i[0],a=1,l=2,h="",p=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const E=i[++a];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!Ro(_)&&(o+=Xy(p,h),h=""),l=_,p=p||!Ro(l);a++}return""!==h&&(o+=Xy(p,h)),o}const pt={};function t_(i){hf(Ht(),Oe(),Zn()+i,!1)}function hf(i,o,a,l){if(!l)if(3==(3&o[2])){const p=i.preOrderCheckHooks;null!==p&&ls(o,p,a)}else{const p=i.preOrderHooks;null!==p&&yo(o,p,0,a)}mo(a)}function n_(i,o){return i<<17|o<<2}function ko(i){return i>>17&32767}function rw(i){return 2|i}function Za(i){return(131068&i)>>2}function r_(i,o){return-131069&i|o<<2}function iw(i){return 1|i}function pw(i,o){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],p=a[l+1];if(-1!==p){const _=i.data[p];id(h),_.contentQueries(2,o[p],p)}}}function ic(i,o,a,l,h,p,_,E,b,S){const x=o.blueprint.slice();return x[0]=h,x[2]=140|l,Vi(x),x[3]=x[15]=i,x[8]=a,x[10]=_||i&&i[10],x[11]=E||i&&i[11],x[12]=b||i&&i[12]||null,x[9]=S||i&&i[9]||null,x[6]=p,x[16]=2==o.type?i[16]:x,x}function sc(i,o,a,l,h){let p=i.data[o];if(null===p)p=function mf(i,o,a,l,h){const p=mu(),_=Ml(),b=i.data[o]=function p_(i,o,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,l,h);return null===i.firstChild&&(i.firstChild=b),null!==p&&(_?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(i,o,a,l,h),function Nl(){return bt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const _=function po(){const i=bt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return ni(p,!0),p}function oc(i,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),i.blueprint.push(l),i.data.push(null);return h}function Wa(i,o,a){go(o);try{const l=i.viewQuery;null!==l&&w_(1,l,a);const h=i.template;null!==h&&h_(i,o,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&pw(i,o),i.staticViewQueries&&w_(2,i.viewQuery,a);const p=i.components;null!==p&&function gw(i,o){for(let a=0;a<o.length;a++)Dw(i,o[a])}(o,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[2]&=-5,$r()}}function jd(i,o,a,l){const h=o[2];if(256!=(256&h)){go(o);try{Vi(o),function yu(i){return bt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&h_(i,o,a,2,l);const _=3==(3&h);if(_){const S=i.preOrderCheckHooks;null!==S&&ls(o,S,null)}else{const S=i.preOrderHooks;null!==S&&yo(o,S,0,null),Vn(o,0)}if(function __(i){for(let o=li(i);null!==o;o=Vu(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const h=a[l],p=h[3];0==(1024&h[2])&&Zo(p,1),h[2]|=1024}}}(o),function vS(i){for(let o=li(i);null!==o;o=Vu(o))for(let a=10;a<o.length;a++){const l=o[a],h=l[1];as(l)&&jd(h,l,h.template,l[8])}}(o),null!==i.contentQueries&&pw(i,o),_){const S=i.contentCheckHooks;null!==S&&ls(o,S)}else{const S=i.contentHooks;null!==S&&yo(o,S,1),Vn(o,1)}!function vI(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)mo(~h);else{const p=h,_=a[++l],E=a[++l];vu(_,p),E(2,o[p])}}}finally{mo(-1)}}(i,o);const E=i.components;null!==E&&function wI(i,o){for(let a=0;a<o.length;a++)wS(i,o[a])}(o,E);const b=i.viewQuery;if(null!==b&&w_(2,b,l),_){const S=i.viewCheckHooks;null!==S&&ls(o,S)}else{const S=i.viewHooks;null!==S&&yo(o,S,2),Vn(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,Zo(o[3],-1))}finally{$r()}}}function d_(i,o,a,l){const h=o[10],_=fo(o);try{!_&&h.begin&&h.begin(),_&&Wa(i,o,l),jd(i,o,a,l)}finally{!_&&h.end&&h.end()}}function h_(i,o,a,l,h){const p=Zn(),_=2&l;try{mo(-1),_&&o.length>20&&hf(i,o,20,!1),a(l,h)}finally{mo(p)}}function mw(i,o,a){if(du(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function yf(i,o,a){!gu()||(function TI(i,o,a,l){const h=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||Us(a,o),sr(l,o);const _=a.initialInputs;for(let E=h;E<p;E++){const b=i.data[E],S=Pi(b);S&&Cw(o,a,b);const x=cs(o,i,E,a);sr(x,o),null!==_&&Iw(0,E-h,x,b,0,_),S&&(nr(a.index,o)[8]=x)}}(i,o,a,tr(a,o)),128==(128&a.flags)&&function jg(i,o,a){const l=a.directiveStart,h=a.directiveEnd,_=a.index,E=function Ol(){return bt.lFrame.currentDirectiveIndex}();try{mo(_);for(let b=l;b<h;b++){const S=i.data[b],x=o[b];Ma(b),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&m_(S,x)}}finally{mo(-1),Ma(E)}}(i,o,a))}function Lg(i,o,a=tr){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],E=-1===_?a(o,i):i[_];i[h++]=E}}}function f_(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=$d(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function $d(i,o,a,l,h,p,_,E,b,S){const x=20+l,P=x+h,H=function EI(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:pt);return a}(x,P),re="function"==typeof S?S():S;return H[1]={type:i,blueprint:H,template:a,queries:null,viewQuery:E,declTNode:o,data:H.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:re,incompleteFirstPass:!1}}function Ug(i,o,a,l){const h=kI(o);null===a?h.push(l):(h.push(a),i.firstCreatePass&&Aw(i).push(l,h.length-1))}function Vg(i,o,a){for(let l in i)if(i.hasOwnProperty(l)){const h=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,h):a[l]=[o,h]}return a}function g_(i,o,a,l){let h=!1;if(gu()){const p=function Ew(i,o,a){const l=i.directiveRegistry;let h=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];ew(a,_.selectors,!1)&&(h||(h=[]),Eo(Us(a,o),i,_.type),Pi(_)?($g(i,a),h.unshift(_)):h.push(_))}return h}(i,o,a),_=null===l?null:{"":-1};if(null!==p){h=!0,bw(a,i.data.length,p.length);for(let x=0;x<p.length;x++){const P=p[x];P.providersResolver&&P.providersResolver(P)}let E=!1,b=!1,S=oc(i,o,p.length,null);for(let x=0;x<p.length;x++){const P=p[x];a.mergedAttrs=Oa(a.mergedAttrs,P.hostAttrs),y_(i,a,o,S,P),SI(S,P,_),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const H=P.type.prototype;!E&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),E=!0),!b&&(H.ngOnChanges||H.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),S++}!function _w(i,o){const l=o.directiveEnd,h=i.data,p=o.attrs,_=[];let E=null,b=null;for(let S=o.directiveStart;S<l;S++){const x=h[S],P=x.inputs,H=null===p||Jy(o)?null:yS(P,p);_.push(H),E=Vg(P,S,E),b=Vg(x.outputs,S,b)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=E,o.outputs=b}(i,a)}_&&function AI(i,o,a){if(o){const l=i.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Te(-301,!1);l.push(o[h],p)}}}(a,l,_)}return a.mergedAttrs=Oa(a.mergedAttrs,a.attrs),h}function ww(i,o,a,l,h,p){const _=p.hostBindings;if(_){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const b=~o.index;(function DI(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=b&&E.push(b),E.push(l,h,_)}}function m_(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function $g(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function SI(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;Pi(o)&&(a[""]=i)}}function bw(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}function y_(i,o,a,l,h){i.data[l]=h;const p=h.factory||(h.factory=er(h.type)),_=new Yo(p,Pi(h),null);i.blueprint[l]=_,a[l]=_,ww(i,o,0,l,oc(i,a,h.hostVars,pt),h)}function Cw(i,o,a){const l=tr(o,i),h=f_(a),p=i[10],_=vf(i,ic(i,h,null,a.onPush?64:16,l,o,p,p.createRenderer(l,a),null,null));i[o.index]=_}function No(i,o,a,l,h,p){const _=tr(i,o);!function Hg(i,o,a,l,h,p,_){if(null==p)nn(i)?i.removeAttribute(o,h,a):o.removeAttribute(h);else{const E=null==_?we(p):_(p,l||"",h);nn(i)?i.setAttribute(o,h,E,a):a?o.setAttributeNS(a,h,E):o.setAttribute(h,E)}}(o[11],_,p,i.value,a,l,h)}function Iw(i,o,a,l,h,p){const _=p[o];if(null!==_){const E=l.setInput;for(let b=0;b<_.length;){const S=_[b++],x=_[b++],P=_[b++];null!==E?l.setInput(a,P,S,x):a[x]=P}}}function yS(i,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],o[l+1])),l+=2}else l+=2;else l+=4}return a}function xI(i,o,a,l){return new Array(i,!0,!1,o,null,0,l,a,null,null)}function wS(i,o){const a=nr(o,i);if(as(a)){const l=a[1];80&a[2]?jd(l,a,l.template,a[8]):a[5]>0&&v_(a)}}function v_(i){for(let l=li(i);null!==l;l=Vu(l))for(let h=10;h<l.length;h++){const p=l[h];if(1024&p[2]){const _=p[1];jd(_,p,_.template,p[8])}else p[5]>0&&v_(p)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=nr(a[l],i);as(h)&&h[5]>0&&v_(h)}}function Dw(i,o){const a=nr(o,i),l=a[1];(function MI(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(l,a),Wa(l,a,a[8])}function vf(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function wf(i){for(;i;){i[2]|=64;const o=mt(i);if(El(i)&&!o)return i;i=o}return null}function RI(i){!function Tw(i){for(let o=0;o<i.components.length;o++){const a=i.components[o],l=Xh(a),h=l[1];d_(h,l,h.template,a)}}(i[8])}function w_(i,o,a){id(0),o(i,a)}const CS=(()=>Promise.resolve(null))();function kI(i){return i[7]||(i[7]=[])}function Aw(i){return i.cleanup||(i.cleanup=[])}function OI(i,o){const a=i[9],l=a?a.get(Ud,null):null;l&&l.handleError(o)}function PI(i,o,a,l,h){for(let p=0;p<a.length;){const _=a[p++],E=a[p++],b=o[_],S=i.data[_];null!==S.setInput?S.setInput(b,h,l,E):b[E]=h}}function qu(i,o,a){const l=Ns(o,i);!function Vd(i,o,a){nn(i)?i.setValue(o,a):o.textContent=a}(i[11],l,a)}function E_(i,o,a){let l=a?i.styles:null,h=a?i.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const E=o[_];"number"==typeof E?p=E:1==p?h=ce(h,E):2==p&&(l=ce(l,E+": "+o[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}const qg=new pn("INJECTOR",-1);class b_{get(o,a=Gs){if(a===Gs){const l=new Error(`NullInjectorError: No provider for ${te(o)}!`);throw l.name="NullInjectorError",l}return a}}const Zg=new pn("Set Injector scope."),Hd={},Sw={};let zg;function ac(){return void 0===zg&&(zg=new b_),zg}function xw(i,o=null,a=null,l){const h=Wg(i,o,a,l);return h._resolveInjectorDefTypes(),h}function Wg(i,o=null,a=null,l){return new UI(i,a,o||ac(),l)}class UI{constructor(o,a,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&Mr(a,E=>this.processProvider(E,o,a)),Mr([o],E=>this.processInjectorType(E,[],p)),this.records.set(qg,Yi(void 0,this));const _=this.records.get(Zg);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof o?null:te(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Gs,l=Et.Default){this.assertNotDestroyed();const h=Ee(this),p=_n(void 0);try{if(!(l&Et.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=function T_(i){return"function"==typeof i||"object"==typeof i&&i instanceof pn}(o)&&Nt(o);E=b&&this.injectableDefInScope(b)?Yi(C_(o),Hd):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&Et.Self?ac():this.parent).get(o,a=l&Et.Optional&&a===Gs?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Va]=_[Va]||[]).unshift(te(o)),h)throw _;return function gs(i,o,a,l){const h=i[Va];throw o[F]&&h.unshift(o[F]),i.message=function qi(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let h=te(o);if(Array.isArray(o))h=o.map(te).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let E=o[_];p.push(_+":"+("string"==typeof E?JSON.stringify(E):te(E)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(D,"\n  ")}`}("\n"+i.message,h,a,l),i.ngTokenPath=h,i[Va]=null,i}(_,o,"R3InjectorError",this.source)}throw _}finally{_n(p),Ee(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,h)=>o.push(te(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processInjectorType(o,a,l){if(!(o=X(o)))return!1;let h=Ir(o);const p=null==h&&o.ngModule||void 0,_=void 0===p?o:p,E=-1!==l.indexOf(_);if(void 0!==p&&(h=Ir(p)),null==h)return!1;if(null!=h.imports&&!E){let x;l.push(_);try{Mr(h.imports,P=>{this.processInjectorType(P,a,l)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:H,providers:re}=x[P];Mr(re,Ie=>this.processProvider(Ie,H,re||U))}}this.injectorDefTypes.add(_);const b=er(_)||(()=>new _);this.records.set(_,Yi(b,Hd));const S=h.providers;if(null!=S&&!E){const x=o;Mr(S,P=>this.processProvider(P,x,S))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,l){let h=Ka(o=X(o))?o:X(o&&o.provide);const p=function Mw(i,o,a){return nt(i)?Yi(void 0,i.useValue):Yi(Rw(i),Hd)}(o);if(Ka(o)||!0!==o.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=Yi(void 0,Hd,!0),_.factory=()=>Rt(_.multi),this.records.set(h,_)),h=o,_.multi.push(o)}this.records.set(h,p)}hydrate(o,a){return a.value===Hd&&(a.value=Sw,a.value=a.factory()),"object"==typeof a.value&&a.value&&function VI(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=X(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function C_(i){const o=Nt(i),a=null!==o?o.factory:er(i);if(null!==a)return a;if(i instanceof pn)throw new Te(204,!1);if(i instanceof Function)return function IS(i){const o=i.length;if(o>0)throw hs(o,"?"),new Te(204,!1);const a=function Yr(i){const o=i&&(i[Mi]||i[Qr]);if(o){const a=function lr(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Te(204,!1)}function Rw(i,o,a){let l;if(Ka(i)){const h=X(i);return er(h)||C_(h)}if(nt(i))l=()=>X(i.useValue);else if(function Lt(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Rt(i.deps||[]));else if(function I_(i){return!(!i||!i.useExisting)}(i))l=()=>at(X(i.useExisting));else{const h=X(i&&(i.useClass||i.provide));if(!function Cf(i){return!!i.deps}(i))return er(h)||C_(h);l=()=>new h(...Rt(i.deps))}return l}function Yi(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function nt(i){return null!==i&&"object"==typeof i&&ne in i}function Ka(i){return"function"==typeof i}let ca=(()=>{class i{static create(a,l){var h;if(Array.isArray(a))return xw({name:""},l,a,"");{const p=null!==(h=a.name)&&void 0!==h?h:"";return xw({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=Gs,i.NULL=new b_,i.\u0275prov=kt({token:i,providedIn:"any",factory:()=>at(qg)}),i.__NG_ELEMENT_ID__=-1,i})();function Gd(i,o){Ra(Xh(i)[1],ln())}function Jg(i){let o=function Qg(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let h;if(Pi(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Te(903,"");h=o.\u0275dir}if(h){if(a){l.push(h);const _=i;_.inputs=Xg(i.inputs),_.declaredInputs=Xg(i.declaredInputs),_.outputs=Xg(i.outputs);const E=h.hostBindings;E&&O_(i,E);const b=h.viewQuery,S=h.contentQueries;if(b&&em(i,b),S&&N_(i,S),se(i.inputs,h.inputs),se(i.declaredInputs,h.declaredInputs),se(i.outputs,h.outputs),Pi(h)&&h.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const E=p[_];E&&E.ngInherit&&E(i),E===Jg&&(a=!1)}}o=Object.getPrototypeOf(o)}!function ZI(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=o+=h.hostVars,h.hostAttrs=Oa(h.hostAttrs,a=Oa(a,h.hostAttrs))}}(l)}function Xg(i){return i===hr?{}:i===U?[]:i}function em(i,o){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function N_(i,o){const a=i.contentQueries;i.contentQueries=a?(l,h,p)=>{o(l,h,p),a(l,h,p)}:o}function O_(i,o){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}let qd=null;function uc(){if(!qd){const i=Gt.Symbol;if(i&&i.iterator)qd=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(qd=l)}}}return qd}function Tf(i){return!!F_(i)&&(Array.isArray(i)||!(i instanceof Map)&&uc()in i)}function F_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ji(i,o,a){return i[o]=a}function di(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function da(i,o,a,l){const h=di(i,o,a);return di(i,o+1,l)||h}function xf(i,o,a,l){const h=Oe();return di(h,Ps(),o)&&(Ht(),No(Sn(),h,i,o,a,l)),xf}function cc(i,o,a,l,h,p){const E=da(i,function ri(){return bt.lFrame.bindingIndex}(),a,h);return vi(2),E?o+we(a)+l+we(h)+p:pt}function L_(i,o,a,l,h,p,_,E){const b=Oe(),S=Ht(),x=i+20,P=S.firstCreatePass?function YI(i,o,a,l,h,p,_,E,b){const S=o.consts,x=sc(o,i,4,_||null,_i(S,E));g_(o,a,x,_i(S,b)),Ra(o,x);const P=x.tViews=$d(2,x,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,x),P.queries=o.queries.embeddedTView(x)),x}(x,S,b,o,a,l,h,p,_):S.data[x];ni(P,!1);const H=b[11].createComment("");Bd(S,b,H,P),sr(H,b),vf(b,b[x]=xI(H,b,H,P)),Oi(P)&&yf(S,b,P),null!=_&&Lg(b,P,E)}function Vw(i){return Ui(function rd(){return bt.lFrame.contextLView}(),20+i)}function Pf(i,o=Et.Default){const a=Oe();return null===a?at(i,o):Xo(ln(),a,X(i),o)}function dm(){throw new Error("invalid")}function Yd(i,o,a){const l=Oe();return di(l,Ps(),o)&&function Ki(i,o,a,l,h,p,_,E){const b=tr(o,a);let x,S=o.inputs;!E&&null!=S&&(x=S[l])?(PI(i,a,x,l,h),qc(o)&&function Bg(i,o){const a=nr(o,i);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function bI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=_?_(h,o.value||"",l):h,nn(p)?p.setProperty(b,l,h):wn(l)||(b.setProperty?b.setProperty(l,h):b[l]=h))}(Ht(),Sn(),l,i,o,l[11],a,!1),Yd}function Ff(i,o,a,l,h){const _=h?"class":"style";PI(i,a,o.inputs[_],_,l)}function Lf(i,o,a,l){const h=Oe(),p=Ht(),_=20+i,E=h[11],b=h[_]=Rn(E,o,function eg(){return bt.lFrame.currentNamespace}()),S=p.firstCreatePass?function Qw(i,o,a,l,h,p,_){const E=o.consts,S=sc(o,i,2,h,_i(E,p));return g_(o,a,S,_i(E,_)),null!==S.attrs&&E_(S,S.attrs,!1),null!==S.mergedAttrs&&E_(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(_,p,h,0,o,a,l):p.data[_];ni(S,!0);const x=S.mergedAttrs;null!==x&&xr(E,b,x);const P=S.classes;null!==P&&pe(E,b,P);const H=S.styles;return null!==H&&J0(E,b,H),64!=(64&S.flags)&&Bd(p,h,b,S),0===function xa(){return bt.lFrame.elementDepthCount}()&&sr(b,h),function Sl(){bt.lFrame.elementDepthCount++}(),Oi(S)&&(yf(p,h,S),mw(p,S,h)),null!==l&&Lg(h,S),Lf}function Uf(){let i=ln();Ml()?Rl():(i=i.parent,ni(i,!1));const o=i;!function pu(){bt.lFrame.elementDepthCount--}();const a=Ht();return a.firstCreatePass&&(Ra(a,i),du(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function ng(i){return 0!=(16&i.flags)}(o)&&Ff(a,o,Oe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Qt(i){return 0!=(32&i.flags)}(o)&&Ff(a,o,Oe(),o.stylesWithoutHost,!1),Uf}function Z_(i,o,a,l){return Lf(i,o,a,l),Uf(),Z_}function yc(i,o,a){const l=Oe(),h=Ht(),p=i+20,_=h.firstCreatePass?function Jw(i,o,a,l,h){const p=o.consts,_=_i(p,l),E=sc(o,i,8,"ng-container",_);return null!==_&&E_(E,_,!0),g_(o,a,E,_i(p,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(p,h,l,o,a):h.data[p];ni(_,!0);const E=l[p]=l[11].createComment("");return Bd(h,l,E,_),sr(E,l),Oi(_)&&(yf(h,l,_),mw(h,_,l)),null!=a&&Lg(l,_),yc}function Qu(){let i=ln();const o=Ht();return Ml()?Rl():(i=i.parent,ni(i,!1)),o.firstCreatePass&&(Ra(o,i),du(i)&&o.queries.elementEnd(i)),Qu}function fm(){return Oe()}function z_(i){return!!i&&"function"==typeof i.then}function pm(i){return!!i&&"function"==typeof i.subscribe}const _c=pm;function Vf(i,o,a,l){const h=Oe(),p=Ht(),_=ln();return function eE(i,o,a,l,h,p,_,E){const b=Oi(l),x=i.firstCreatePass&&Aw(i),P=o[8],H=kI(o);let re=!0;if(3&l.type||E){const Ze=tr(l,o),st=E?E(Ze):Ze,Me=H.length,wt=E?qt=>E(Yt(qt[l.index])):l.index;if(nn(a)){let qt=null;if(!E&&b&&(qt=function Xw(i,o,a,l){const h=i.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===l){const E=o[7],b=h[p+2];return E.length>b?E[b]:null}"string"==typeof _&&(p+=2)}return null}(i,o,h,l.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=p,qt.__ngLastListenerFn__=p,re=!1;else{p=Oo(l,o,P,p,!1);const rn=a.listen(st,h,p);H.push(p,rn),x&&x.push(h,wt,Me,Me+1)}}else p=Oo(l,o,P,p,!0),st.addEventListener(h,p,_),H.push(p),x&&x.push(h,wt,Me,_)}else p=Oo(l,o,P,p,!1);const Ie=l.outputs;let Ue;if(re&&null!==Ie&&(Ue=Ie[h])){const Ze=Ue.length;if(Ze)for(let st=0;st<Ze;st+=2){const Ti=o[Ue[st]][Ue[st+1]].subscribe(p),ya=H.length;H.push(p,Ti),x&&x.push(h,l.index,ya,-(ya+1))}}}(p,h,h[11],_,i,o,!!a,l),Vf}function el(i,o,a,l){try{return!1!==a(l)}catch(h){return OI(i,h),!1}}function Oo(i,o,a,l,h){return function p(_){if(_===Function)return l;const E=2&i.flags?nr(i.index,o):o;0==(32&o[2])&&wf(E);let b=el(o,0,l,_),S=p.__ngNextListenerFn__;for(;S;)b=el(o,0,S,_)&&b,S=S.__ngNextListenerFn__;return h&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function Bf(i=1){return function Lh(i){return(bt.lFrame.contextLView=function Pl(i,o){for(;i>0;)o=o[15],i--;return o}(i,bt.lFrame.contextLView))[8]}(i)}function gm(i,o){let a=null;const l=function Ng(i){const o=i.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(i);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===l?ew(i,p,!0):dI(l,p))return h}else a=h}return a}function jf(i){const o=Oe()[16][6];if(!o.projection){const l=o.projection=hs(i?i.length:1,null),h=l.slice();let p=o.child;for(;null!==p;){const _=i?gm(p,i):0;null!==_&&(h[_]?h[_].projectionNext=p:l[_]=p,h[_]=p),p=p.next}}}function W_(i,o=0,a){const l=Oe(),h=Ht(),p=sc(h,20+i,16,null,a||null);null===p.projection&&(p.projection=o),Rl(),64!=(64&p.flags)&&function iS(i,o,a){rI(o[11],0,o,a,tI(i,a,o),Z0(a.parent||o[6],a,o))}(h,l,p)}function Ya(i,o,a,l,h){const p=i[a+1],_=null===o;let E=l?ko(p):Za(p),b=!1;for(;0!==E&&(!1===b||_);){const x=i[E+1];oE(i[E],o)&&(b=!0,i[E+1]=l?iw(x):rw(x)),E=l?ko(x):Za(x)}b&&(i[a+1]=l?rw(p):iw(p))}function oE(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&ia(i,o)>=0}function tv(i,o){return function Ks(i,o,a,l){const h=Oe(),p=Ht(),_=vi(2);p.firstUpdatePass&&function hE(i,o,a,l){const h=i.data;if(null===h[a+1]){const p=h[Zn()],_=function th(i,o){return o>=i.expandoStartIndex}(i,a);(function yE(i,o){return 0!=(i.flags&(o?16:32))})(p,l)&&null===o&&!_&&(o=!1),o=function ar(i,o,a,l){const h=function wu(i){const o=bt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=Gf(a=nv(null,i,o,a,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||i[_]!==h)if(a=nv(h,i,o,a,l),null===p){let b=function fE(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Za(l))return i[ko(l)]}(i,o,l);void 0!==b&&Array.isArray(b)&&(b=nv(null,i,o,b[1],l),b=Gf(b,o.attrs,l),function oD(i,o,a,l){i[ko(a?o.classBindings:o.styleBindings)]=l}(i,o,l,b))}else p=function aD(i,o,a){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=Gf(l,i[p].hostAttrs,a);return Gf(l,o.attrs,a)}(i,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,l),function iD(i,o,a,l,h,p){let _=p?o.classBindings:o.styleBindings,E=ko(_),b=Za(_);i[l]=a;let x,S=!1;if(Array.isArray(a)){const P=a;x=P[1],(null===x||ia(P,x)>0)&&(S=!0)}else x=a;if(h)if(0!==b){const H=ko(i[E+1]);i[l+1]=n_(H,E),0!==H&&(i[H+1]=r_(i[H+1],l)),i[E+1]=function aS(i,o){return 131071&i|o<<17}(i[E+1],l)}else i[l+1]=n_(E,0),0!==E&&(i[E+1]=r_(i[E+1],l)),E=l;else i[l+1]=n_(b,0),0===E?E=l:i[b+1]=r_(i[b+1],l),b=l;S&&(i[l+1]=rw(i[l+1])),Ya(i,x,l,!0),Ya(i,x,l,!1),function $f(i,o,a,l,h){const p=h?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof o&&ia(p,o)>=0&&(a[l+1]=iw(a[l+1]))}(o,x,i,l,p),_=n_(E,b),p?o.classBindings=_:o.styleBindings=_}(h,p,o,a,_,l)}}(p,i,_,l),o!==pt&&di(h,_,o)&&function qf(i,o,a,l,h,p,_,E){if(!(3&o.type))return;const b=i.data,S=b[E+1];Ys(function hI(i){return 1==(1&i)}(S)?iv(b,o,a,h,Za(S),_):void 0)||(Ys(p)||function Og(i){return 2==(2&i)}(S)&&(p=iv(b,null,a,h,E,_)),function iI(i,o,a,l,h){const p=nn(i);if(o)h?p?i.addClass(a,l):a.classList.add(l):p?i.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:N.DashCase;if(null==h)p?i.removeStyle(a,l,_):a.style.removeProperty(l);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),_|=N.Important),p?i.setStyle(a,l,h,_):a.style.setProperty(l,h,E?"important":"")}}}(l,_,Ns(Zn(),a),h,p))}(p,p.data[Zn()],h,h[11],i,h[_+1]=function mE(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=te(ai(i)))),i}(o,a),l,_)}(i,o,null,!0),tv}function nv(i,o,a,l,h){let p=null;const _=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<_&&(p=o[E],l=Gf(l,p.hostAttrs,h),p!==i);)E++;return null!==i&&(a.directiveStylingLast=E),l}function Gf(i,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),mr(i,_,!!a||o[++p]))}return void 0===i?null:i}function iv(i,o,a,l,h,p){const _=null===o;let E;for(;h>0;){const b=i[h],S=Array.isArray(b),x=S?b[1]:b,P=null===x;let H=a[h+1];H===pt&&(H=P?U:void 0);let re=P?Ua(H,l):x===l?H:void 0;if(S&&!Ys(re)&&(re=Ua(b,l)),Ys(re)&&(E=re,_))return E;const Ie=i[h+1];h=_?ko(Ie):Za(Ie)}if(null!==o){let b=p?o.residualClasses:o.residualStyles;null!=b&&(E=Ua(b,l))}return E}function Ys(i){return void 0!==i}function _m(i,o=""){const a=Oe(),l=Ht(),h=i+20,p=l.firstCreatePass?sc(l,h,1,o,null):l.data[h],_=a[h]=function rc(i,o){return nn(i)?i.createText(o):i.createTextNode(o)}(a[11],o);Bd(l,a,_,p),ni(p,!1)}function wc(i){return Zf("",i,""),wc}function Zf(i,o,a){const l=Oe(),h=function Wu(i,o,a,l){return di(i,Ps(),a)?o+we(a)+l:pt}(l,i,o,a);return h!==pt&&qu(l,Zn(),h),Zf}function zf(i,o,a,l,h){const p=Oe(),_=cc(p,i,o,a,l,h);return _!==pt&&qu(p,Zn(),_),zf}const Qs=void 0;var dv=["en",[["a","p"],["AM","PM"],Qs],[["AM","PM"],Qs,Qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qs,"{1} 'at' {0}",Qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function tl(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let ih={};function $n(i){const o=function Qe(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=ut(o);if(a)return a;const l=o.split("-")[0];if(a=ut(l),a)return a;if("en"===l)return dv;throw new Error(`Missing locale data for the locale "${i}".`)}function Im(i){return $n(i)[Tt.PluralCase]}function ut(i){return i in ih||(ih[i]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[i]),ih[i]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const Yn="en-US";let LE=Yn;function br(i,o,a,l,h){if(i=X(i),Array.isArray(i))for(let p=0;p<i.length;p++)br(i[p],o,a,l,h);else{const p=Ht(),_=Oe();let E=Ka(i)?i:X(i.provide),b=Rw(i);const S=ln(),x=1048575&S.providerIndexes,P=S.directiveStart,H=S.providerIndexes>>20;if(Ka(i)||!i.multi){const re=new Yo(b,h,Pf),Ie=vv(E,o,h?x:x+H,P);-1===Ie?(Eo(Us(S,_),p,E),_v(p,i,o.length),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(re),_.push(re)):(a[Ie]=re,_[Ie]=re)}else{const re=vv(E,o,x+H,P),Ie=vv(E,o,x,x+H),Ue=re>=0&&a[re],Ze=Ie>=0&&a[Ie];if(h&&!Ze||!h&&!Ue){Eo(Us(S,_),p,E);const st=function _D(i,o,a,l,h){const p=new Yo(i,a,Pf);return p.multi=[],p.index=o,p.componentProviders=0,XE(p,h,l&&!a),p}(h?yD:eb,a.length,h,l,b);!h&&Ze&&(a[Ie].providerFactory=st),_v(p,i,o.length,0),o.push(E),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(st),_.push(st)}else _v(p,i,re>-1?re:Ie,XE(a[h?Ie:re],b,!h&&l));!h&&l&&Ze&&a[Ie].componentProviders++}}}function _v(i,o,a,l){const h=Ka(o),p=function D_(i){return!!i.useClass}(o);if(h||p){const b=(p?X(o.useClass):o).prototype.ngOnDestroy;if(b){const S=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const x=S.indexOf(a);-1===x?S.push(a,[l,b]):S[x+1].push(l,b)}else S.push(a,b)}}}function XE(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function vv(i,o,a,l){for(let h=a;h<l;h++)if(o[h]===i)return h;return-1}function eb(i,o,a,l){return wv(this.multi,[])}function yD(i,o,a,l){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=cs(a,a[1],this.providerFactory.index,l);p=E.slice(0,_),wv(h,p);for(let b=_;b<E.length;b++)p.push(E[b])}else p=[],wv(h,p);return p}function wv(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function tb(i,o=[]){return a=>{a.providersResolver=(l,h)=>function JE(i,o,a){const l=Ht();if(l.firstCreatePass){const h=Pi(i);br(a,l.data,l.blueprint,h,!0),br(o,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,o)}}class Ac{}class eu{resolveComponentFactory(o){throw function vD(i){const o=Error(`No component factory found for ${te(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let ip=(()=>{class i{}return i.NULL=new eu,i})();function hh(){return fh(ln(),Oe())}function fh(i,o){return new Sc(tr(i,o))}let Sc=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=hh,i})();function bv(i){return i instanceof Sc?i.nativeElement:i}class xc{}let eo=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function sp(){const i=Oe(),a=nr(ln().index,i);return function rb(i){return i[11]}(jr(a)?a:i)}(),i})(),ib=(()=>{class i{}return i.\u0275prov=kt({token:i,providedIn:"root",factory:()=>null}),i})();class Fm{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Lm=new Fm("13.3.10"),Um={};function op(i,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(Yt(p)),Ni(p))for(let E=10;E<p.length;E++){const b=p[E],S=b[1].firstChild;null!==S&&op(b[1],b,S,l)}const _=a.type;if(8&_)op(i,o,a.child,l);else if(32&_){const E=ye(a,o);let b;for(;b=E();)l.push(b)}else if(16&_){const E=K0(o,a);if(Array.isArray(E))l.push(...E);else{const b=mt(o[16]);op(b[1],b,E,l,!0)}}a=h?a.projectionNext:a.next}return l}class ap{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return op(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ni(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Tg(o,l),ta(a,l))}this._attachedToViewContainer=!1}$0(this._lView[1],this._lView)}onDestroy(o){Ug(this._lView[1],this._lView,null,o)}markForCheck(){wf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Ef(i,o,a){const l=o[10];l.begin&&l.begin();try{jd(i,o,i.template,a)}catch(h){throw OI(o,h),h}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cf(i,o){kg(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Te(902,"");this._appRef=o}}class sb extends ap{constructor(o){super(o),this._view=o}detectChanges(){RI(this._view)}checkNoChanges(){}get context(){return null}}class Cv extends ip{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Ln(o);return new Dv(a,this.ngModule)}}function Iv(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class Dv extends Ac{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function e_(i){return i.map(tw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Iv(this.componentDef.inputs)}get outputs(){return Iv(this.componentDef.outputs)}create(o,a,l,h){const p=(h=h||this.ngModule)?function ED(i,o){return{get:(a,l,h)=>{const p=i.get(a,Um,h);return p!==Um||l===Um?p:o.get(a,l,h)}}}(o,h.injector):o,_=p.get(xc,Ta),E=p.get(ib,null),b=_.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=l?function _f(i,o,a){if(nn(i))return i.selectRootElement(o,a===Zt.ShadowDom);let l="string"==typeof o?i.querySelector(o):o;return l.textContent="",l}(b,l,this.componentDef.encapsulation):Rn(_.createRenderer(null,this.componentDef),S,function Vm(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),P=this.componentDef.onPush?576:528,H=function Fw(i,o){return{components:[],scheduler:i||sf,clean:CS,playerHandler:o||null,flags:0}}(),re=$d(0,null,null,1,0,null,null,null,null,null),Ie=ic(null,re,H,P,null,null,_,b,E,p);let Ue,Ze;go(Ie);try{const st=function Yg(i,o,a,l,h,p){const _=a[1];a[20]=i;const b=sc(_,20,2,"#host",null),S=b.mergedAttrs=o.hostAttrs;null!==S&&(E_(b,S,!0),null!==i&&(xr(h,i,S),null!==b.classes&&pe(h,i,b.classes),null!==b.styles&&J0(h,i,b.styles)));const x=l.createRenderer(i,o),P=ic(a,f_(o),null,o.onPush?64:16,a[20],b,l,x,p||null,null);return _.firstCreatePass&&(Eo(Us(b,a),_,o.type),$g(_,b),bw(b,a.length,1)),vf(a,P),a[20]=P}(x,this.componentDef,Ie,_,b);if(x)if(l)xr(b,x,["ng-version",Lm.full]);else{const{attrs:Me,classes:wt}=function kn(i){const o=[],a=[];let l=1,h=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===h?""!==p&&o.push(p,i[++l]):8===h&&a.push(p);else{if(!Ro(h))break;h=p}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Me&&xr(b,x,Me),wt&&wt.length>0&&pe(b,x,wt.join(" "))}if(Ze=cn(re,20),void 0!==a){const Me=Ze.projection=[];for(let wt=0;wt<this.ngContentSelectors.length;wt++){const qt=a[wt];Me.push(null!=qt?Array.from(qt):null)}}Ue=function Pw(i,o,a,l,h){const p=a[1],_=function II(i,o,a){const l=ln();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),y_(i,l,o,oc(i,o,1,null),a));const h=cs(o,i,l.directiveStart,l);sr(h,o);const p=tr(l,o);return p&&sr(p,o),h}(p,a,o);if(l.components.push(_),i[8]=_,h&&h.forEach(b=>b(_,o)),o.contentQueries){const b=ln();o.contentQueries(1,_,b.directiveStart)}const E=ln();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(mo(E.index),ww(a[1],E,0,E.directiveStart,E.directiveEnd,o),m_(o,_)),_}(st,this.componentDef,Ie,H,[Gd]),Wa(re,Ie,null)}finally{$r()}return new Mc(this.componentType,Ue,fh(Ze,Ie),Ie,Ze)}}class Mc extends class sl{}{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new sb(h),this.componentType=o}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class to{}class Tv{}const Po=new Map;class cp extends to{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Cv(this);const l=Un(o);this._bootstrapComponents=y(l.bootstrap),this._r3Injector=Wg(o,a,[{provide:to,useValue:this},{provide:ip,useValue:this.componentFactoryResolver}],te(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=ca.THROW_IF_NOT_FOUND,l=Et.Default){return o===ca||o===to||o===qg?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ph extends Tv{constructor(o){super(),this.moduleType=o,null!==Un(o)&&function lp(i){const o=new Set;!function a(l){const h=Un(l,!0),p=h.id;null!==p&&(function Av(i,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${i} - ${te(o)} vs ${te(o.name)}`)}(p,Po.get(p),l),Po.set(p,l));const _=y(h.imports);for(const E of _)o.has(E)||(o.add(E),a(E))}(i)}(o)}create(o){return new cp(this.moduleType,o)}}function lb(i,o,a){const l=pr()+i,h=Oe();return h[l]===pt?Ji(h,l,a?o.call(a):o()):function Sf(i,o){return i[o]}(h,l)}function Bm(i,o,a,l){return jm(Oe(),pr(),i,o,a,l)}function cb(i,o,a,l,h){return function mb(i,o,a,l,h,p,_){const E=o+a;return da(i,E,h,p)?Ji(i,E+2,_?l.call(_,h,p):l(h,p)):tu(i,E+2)}(Oe(),pr(),i,o,a,l,h)}function tu(i,o){const a=i[o];return a===pt?void 0:a}function jm(i,o,a,l,h,p){const _=o+a;return di(i,_,h)?Ji(i,_+1,p?l.call(p,h):l(h)):tu(i,_+1)}function xv(i,o){const a=Ht();let l;const h=i+20;a.firstCreatePass?(l=function ol(i,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(i===l.name)return l}}(o,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,l.onDestroy)):l=a.data[h];const p=l.factory||(l.factory=er(l.type)),_=_n(Pf);try{const E=vt(!1),b=p();return vt(E),function QI(i,o,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=l}(a,Oe(),h,b),b}finally{_n(_)}}function yb(i,o,a){const l=i+20,h=Oe(),p=Ui(h,l);return function fp(i,o){return i[1].data[o].pure}(h,l)?jm(h,pr(),o,p.transform,a,p):p.transform(a)}function Xt(i){return o=>{setTimeout(i,void 0,o)}}const pa=class ID extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var h,p,_;let E=o,b=a||(()=>null),S=l;if(o&&"object"==typeof o){const P=o;E=null===(h=P.next)||void 0===h?void 0:h.bind(P),b=null===(p=P.error)||void 0===p?void 0:p.bind(P),S=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(b=Xt(b),E&&(E=Xt(E)),S&&(S=Xt(S)));const x=super.subscribe({next:E,error:b,complete:S});return o instanceof Z.w0&&o.add(x),x}};function $m(){return this._results[uc()]()}class al{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=uc(),l=al.prototype;l[a]||(l[a]=$m)}get changes(){return this._changes||(this._changes=new pa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=gr(o);(this._changesDetected=!function Vh(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let nu=(()=>{class i{}return i.__NG_ELEMENT_ID__=vb,i})();const Hm=nu,_b=class extends Hm{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=ic(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(a)),Wa(a,l,o),new ap(l)}};function vb(){return pp(ln(),Oe())}function pp(i,o){return 4&i.type?new _b(o,i,fh(i,o)):null}let Gm=(()=>{class i{}return i.__NG_ELEMENT_ID__=wb,i})();function wb(){return gh(ln(),Oe())}const Eb=Gm,bb=class extends Eb{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return fh(this._hostTNode,this._hostLView)}get injector(){return new js(this._hostTNode,this._hostLView)}get parentInjector(){const o=rr(this._hostTNode,this._hostLView);if(Qo(o)){const a=Ls(o,this._hostLView),l=Fs(o);return new js(a[1].data[l+8],a)}return new js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Cb(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const h=o.createEmbeddedView(a||{});return this.insert(h,l),h}createComponent(o,a,l,h,p){const _=o&&!function Tu(i){return"function"==typeof i}(o);let E;if(_)E=a;else{const P=a||{};E=P.index,l=P.injector,h=P.projectableNodes,p=P.ngModuleRef}const b=_?o:new Dv(Ln(o)),S=l||this.parentInjector;if(!p&&null==b.ngModule){const H=(_?S:this.parentInjector).get(to,null);H&&(p=H)}const x=b.create(S,h,void 0,p);return this.insert(x.hostView,E),x}insert(o,a){const l=o._lView,h=l[1];if(function Sa(i){return Ni(i[3])}(l)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const P=l[3],H=new bb(P,P[6],P[3]);H.detach(H.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function Bu(i,o,a,l){const h=10+l,p=a.length;l>0&&(a[h-1][4]=o),l<p-10?(o[4]=a[h],La(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function B0(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(_,o);const E=o[19];null!==E&&E.insertView(i),o[2]|=128}(h,l,_,p);const E=Rg(p,_),b=l[11],S=xg(b,_[7]);return null!==S&&function lf(i,o,a,l,h,p){l[0]=h,l[6]=o,kg(i,l,a,1,h,p)}(h,_[6],b,l,S,E),o.attachToViewContainerRef(),La(Rv(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Cb(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Tg(this._lContainer,a);l&&(ta(Rv(this._lContainer),a),$0(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=Tg(this._lContainer,a);return l&&null!=ta(Rv(this._lContainer),a)?new ap(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Cb(i){return i[8]}function Rv(i){return i[8]||(i[8]=[])}function gh(i,o){let a;const l=o[i.index];if(Ni(l))a=l;else{let h;if(8&i.type)h=Yt(l);else{const p=o[11];h=p.createComment("");const _=tr(i,o);$u(p,xg(p,_),h,function nI(i,o){return nn(i)?i.nextSibling(o):o.nextSibling}(p,_),!1)}o[i.index]=a=xI(l,o,h,i),vf(o,a)}return new bb(a,i,o)}class gp{constructor(o){this.queryList=o,this.matches=null}clone(){return new gp(this.queryList)}setDirty(){this.queryList.setDirty()}}class qm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new qm(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Fv(o,a).matches&&this.queries[a].setDirty()}}class mh{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class ro{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new ro(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class mp{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new mp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,Db(a,p)),this.matchTNodeWithReadOption(o,a,Pa(a,o,p,!1,!1))}else l===nu?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Pa(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Sc||h===Gm||h===nu&&4&a.type)this.addMatch(a.index,-2);else{const p=Pa(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Db(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function Tb(i,o,a,l){return-1===a?function yp(i,o){return 11&i.type?fh(i,o):4&i.type?pp(i,o):null}(o,i):-2===a?function Ab(i,o,a){return a===Sc?fh(o,i):a===nu?pp(o,i):a===Gm?gh(o,i):void 0}(i,o,l):cs(i,i[1],a,o)}function kv(i,o,a,l){const h=o[19].queries[l];if(null===h.matches){const p=i.data,_=a.matches,E=[];for(let b=0;b<_.length;b+=2){const S=_[b];E.push(S<0?null:Tb(o,p[S],_[b+1],a.metadata.read))}h.matches=E}return h.matches}function Nv(i,o,a,l){const h=i.queries.getByIndex(a),p=h.matches;if(null!==p){const _=kv(i,o,h,a);for(let E=0;E<p.length;E+=2){const b=p[E];if(b>0)l.push(_[E/2]);else{const S=p[E+1],x=o[-b];for(let P=10;P<x.length;P++){const H=x[P];H[17]===H[3]&&Nv(H[1],H,S,l)}if(null!==x[9]){const P=x[9];for(let H=0;H<P.length;H++){const re=P[H];Nv(re[1],re,S,l)}}}}}return l}function Sb(i){const o=Oe(),a=Ht(),l=Eu();id(l+1);const h=Fv(a,l);if(i.dirty&&fo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const p=h.crossesNgTemplate?Nv(a,o,l,[]):kv(a,o,h,l);i.reset(p,bv),i.notifyOnChanges()}return!0}return!1}function Zm(i,o,a,l){const h=Ht();if(h.firstCreatePass){const p=ln();(function Pv(i,o,a){null===i.queries&&(i.queries=new ro),i.queries.track(new mp(o,a))})(h,new mh(o,a,l),p.index),function TD(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function Ov(i,o,a){const l=new al(4==(4&a));Ug(i,o,l,l.destroy),null===o[19]&&(o[19]=new qm),o[19].queries.push(new gp(l))}(h,Oe(),a)}function xb(){return function Mb(i,o){return i[19].queries[o].queryList}(Oe(),Eu())}function Fv(i,o){return i.queries.getByIndex(o)}function Rb(i,o){return pp(i,o)}function Oc(...i){}const ll=new pn("Application Initializer");let cl=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Oc,this.reject=Oc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(z_(p))a.push(p);else if(_c(p)){const _=new Promise((E,b)=>{p.subscribe({complete:E,error:b})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(at(ll,8))},i.\u0275prov=kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Eh=new pn("AppId",{providedIn:"root",factory:function qv(){return`${Ep()}${Ep()}${Ep()}`}});function Ep(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zv=new pn("Platform Initializer"),PD=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zv=new pn("appBootstrapListener");let Wv=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=kt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const ru=new pn("LocaleId",{providedIn:"root",factory:()=>zt(ru,Et.Optional|Et.SkipSelf)||function bp(){return"undefined"!=typeof $localize&&$localize.locale||Yn}()}),LD=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class VD{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Cp=(()=>{class i{compileModuleSync(a){return new ph(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=y(Un(a).declarations).reduce((_,E)=>{const b=Ln(E);return b&&_.push(new Dv(b)),_},[]);return new VD(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Yb=(()=>Promise.resolve(0))();function Kv(i){"undefined"==typeof Zone?Yb.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Es{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pa(!1),this.onMicrotaskEmpty=new pa(!1),this.onStable=new pa(!1),this.onError=new pa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function BD(){let i=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Ip(i){const o=()=>{!function Qb(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Gt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Ch(i),i.isCheckStableRunning=!0,Yv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Ch(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,_,E)=>{try{return Dp(i),a.invokeTask(h,p,_,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),Qv(i)}},onInvoke:(a,l,h,p,_,E,b)=>{try{return Dp(i),a.invoke(h,p,_,E,b)}finally{i.shouldCoalesceRunChangeDetection&&o(),Qv(i)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Ch(i),Yv(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Es.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Es.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,Km,Oc,Oc);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const Km={};function Yv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ch(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Dp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Qv(i){i._nesting--,Yv(i)}class ts{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pa,this.onMicrotaskEmpty=new pa,this.onStable=new pa,this.onError=new pa}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}let Jv=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Es.assertNotInAngularZone(),Kv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(at(Es))},i.\u0275prov=kt({token:i,factory:i.\u0275fac}),i})(),Ym=(()=>{class i{constructor(){this._applications=new Map,ma.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return ma.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=kt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class Xv{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function Jb(i){ma=i}let ma=new Xv,io=null;const e0=new pn("AllowMultipleToken"),dl=new pn("PlatformOnDestroy");class hl{constructor(o,a){this.name=o,this.token=a}}function Qm(i,o,a=[]){const l=`Platform: ${o}`,h=new pn(l);return(p=[])=>{let _=t0();if(!_||_.injector.get(e0,!1)){const E=[...a,...p,{provide:h,useValue:!0}];i?i(E):function Fc(i){if(io&&!io.get(e0,!1))throw new Te(400,"");io=i;const o=i.get(tC),a=i.get(Zv,null);a&&a.forEach(l=>l())}(function $D(i=[],o){return ca.create({name:o,providers:[{provide:Zg,useValue:"platform"},{provide:dl,useValue:()=>io=null},...i]})}(E,l))}return function eC(i){const o=t0();if(!o)throw new Te(401,"");return o}()}}function t0(){var i;return null!==(i=null==io?void 0:io.get(tC))&&void 0!==i?i:null}let tC=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const E=function Jm(i,o){let a;return a="noop"===i?new ts:("zone.js"===i?void 0:i)||new Es({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:Es,useValue:E}];return E.run(()=>{const S=ca.create({providers:b,parent:this.injector,name:a.moduleType.name}),x=a.create(S),P=x.injector.get(Ud,null);if(!P)throw new Te(402,"");return E.runOutsideAngular(()=>{const H=E.onError.subscribe({next:re=>{P.handleError(re)}});x.onDestroy(()=>{Xm(this._modules,x),H.unsubscribe()})}),function nC(i,o,a){try{const l=a();return z_(l)?l.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(P,E,()=>{const H=x.injector.get(cl);return H.runInitializers(),H.donePromise.then(()=>(function UE(i){Ve(i,"Expected localeId to be defined"),"string"==typeof i&&(LE=i.toLowerCase().replace(/_/g,"-"))}(x.injector.get(ru,Yn)||Yn),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const h=rC({},l);return function jD(i,o,a){const l=new ph(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(n0);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Te(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(dl,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(at(ca))},i.\u0275prov=kt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function rC(i,o){return Array.isArray(o)?o.reduce(rC,i):Object.assign(Object.assign({},i),o)}let n0=(()=>{class i{constructor(a,l,h,p){this._zone=a,this._injector=l,this._exceptionHandler=h,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new O.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),E=new O.y(b=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Es.assertNotInAngularZone(),Kv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{Es.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{S.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ee.T)(_,E.pipe((0,K.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Te(405,"");let h;h=a instanceof Ac?a:this._injector.get(ip).resolveComponentFactory(a),this.componentTypes.push(h.componentType);const p=function Xb(i){return i.isBoundToModule}(h)?void 0:this._injector.get(to),E=h.create(ca.NULL,[],l||h.selector,p),b=E.location.nativeElement,S=E.injector.get(Jv,null),x=S&&E.injector.get(Ym);return S&&x&&x.registerApplication(b,S),E.onDestroy(()=>{this.detachView(E.hostView),Xm(this.components,E),x&&x.unregisterApplication(b)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Te(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Xm(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(zv,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(at(Es),at(ca),at(Ud),at(cl))},i.\u0275prov=kt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Xm(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let r0=!0,s0=!1;function HD(){return s0=!0,r0}function iC(){if(s0)throw new Error("Cannot enable prod mode after platform setup.");r0=!1}let ey=(()=>{class i{}return i.__NG_ELEMENT_ID__=o0,i})();function o0(i){return function GD(i,o,a){if(qc(i)&&!a){const l=nr(i.index,o);return new ap(l,l)}return 47&i.type?new ap(o[16],o):null}(ln(),Oe(),16==(16&i))}class dC{constructor(){}supports(o){return Tf(o)}create(o){return new l0(o)}}const KD=(i,o)=>o;class l0{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||KD}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<fC(l,h,p)?a:l,E=fC(_,h,p),b=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const S=E-h,x=b-h;if(S!=x){for(let H=0;H<S;H++){const re=H<p.length?p[H]:p[H]=0,Ie=re+H;x<=Ie&&Ie<S&&(p[H]=re+1)}p[_.previousIndex]=x-S}}E!==b&&o(_,E,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Tf(o))throw new Te(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],_=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,E),l=!0),a=a._next}else h=0,function Af(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[uc()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{_=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,E,_,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new Pr(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new hC),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Pr{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class hC{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new YD,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fC(i,o,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class pC{constructor(){}supports(o){return o instanceof Map||F_(o)}create(){return new QD}}class QD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||F_(o)))throw new Te(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new JD(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class JD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sy(){return new oy([new dC])}let oy=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||sy()),deps:[[i,new qs,new yr]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new Te(901,"")}}return i.\u0275prov=kt({token:i,providedIn:"root",factory:sy}),i})();function ay(){return new Dh([new pC])}let Dh=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||ay()),deps:[[i,new qs,new yr]]}}find(a){const l=this.factories.find(p=>p.supports(a));if(l)return l;throw new Te(901,"")}}return i.\u0275prov=kt({token:i,providedIn:"root",factory:ay}),i})();const c0=Qm(null,"core",[]);let yC=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(at(n0))},i.\u0275mod=Dr({type:i}),i.\u0275inj=$t({}),i})()},3942:(Re,le,k)=>{"use strict";k.d(le,{Z:()=>Te});var c=k(2090),Z=k(4859),O=k(9681),ee=k(1877);class K{constructor(we,fe){this._delegate=we,this.firebase=fe,(0,O._addComponent)(we,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(we,fe=O._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(we);return!Ye.isInitialized()&&"EXPLICIT"===(null===(ze=Ye.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:fe})}_removeServiceInstance(we,fe=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(fe)}_addComponent(we){(0,O._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,O._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ce(){const Je=function te(Je){const we={},fe={__esModule:!0,initializeApp:function Se(qe,$={}){const Ce=O.initializeApp(qe,$);if((0,c.r3)(we,Ce.name))return we[Ce.name];const Q=new Je(Ce,fe);return we[Ce.name]=Q,Q},app:Ye,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function De(qe){const $=qe.name,Ce=$.replace("-compat","");if(O._registerComponent(qe)&&"PUBLIC"===qe.type){const Q=(de=Ye())=>{if("function"!=typeof de[Ce])throw se.create("invalid-app-argument",{appName:$});return de[Ce]()};void 0!==qe.serviceProps&&(0,c.ZB)(Q,qe.serviceProps),fe[Ce]=Q,Je.prototype[Ce]=function(...de){return this._getService.bind(this,$).apply(this,qe.multipleInstances?de:[])}}return"PUBLIC"===qe.type?fe[Ce]:null},removeApp:function ze(qe){delete we[qe]},useAsService:function je(qe,$){return"serverAuth"===$?null:$},modularAPIs:O}};function Ye(qe){if(!(0,c.r3)(we,qe=qe||O._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:qe});return we[qe]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function be(){return Object.keys(we).map(qe=>we[qe])}}),Ye.App=Je,fe}(K);return Je.INTERNAL=Object.assign(Object.assign({},Je.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function we(fe){(0,c.ZB)(Je,fe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Je}(),j=new ee.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Je=self.firebase.SDK_VERSION;Je&&Je.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=B;!function ke(Je){(0,O.registerVersion)("@firebase/app-compat","0.1.26",Je)}()},9681:(Re,le,k)=>{"use strict";k.r(le),k.d(le,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>Mi,_DEFAULT_ENTRY_NAME:()=>Ve,_addComponent:()=>Ut,_addOrOverwriteComponent:()=>kt,_apps:()=>_t,_clearComponents:()=>is,_components:()=>jt,_getProvider:()=>$t,_registerComponent:()=>Pn,_removeServiceInstance:()=>Nt,deleteApp:()=>Et,getApp:()=>Qr,getApps:()=>gi,initializeApp:()=>As,onLog:()=>_n,registerVersion:()=>fn,setLogLevel:()=>so});var c=k(5861),Z=k(4859),O=k(1877),ee=k(2090),K=k(8766);class ie{constructor(ue){this.container=ue}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function se(q){const ue=q.getComponent();return"VERSION"===(null==ue?void 0:ue.type)}(Pe)){const et=Pe.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Pe=>Pe).join(" ")}}const te="@firebase/app",B=new O.Yd("@firebase/app"),Ve="[DEFAULT]",Le={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,jt=new Map;function Ut(q,ue){try{q.container.addComponent(ue)}catch(Pe){B.debug(`Component ${ue.name} failed to register with FirebaseApp ${q.name}`,Pe)}}function kt(q,ue){q.container.addOrOverwriteComponent(ue)}function Pn(q){const ue=q.name;if(jt.has(ue))return B.debug(`There were multiple attempts to register component ${ue}.`),!1;jt.set(ue,q);for(const Pe of _t.values())Ut(Pe,q);return!0}function $t(q,ue){const Pe=q.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),q.container.getProvider(ue)}function Nt(q,ue,Pe=Ve){$t(q,ue).clearInstance(Pe)}function is(){jt.clear()}const lr=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ir{constructor(ue,Pe,et){this._isDeleted=!1,this._options=Object.assign({},ue),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ue){this._isDeleted=ue}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const Mi="9.8.2";function As(q,ue={}){"object"!=typeof ue&&(ue={name:ue});const Pe=Object.assign({name:Ve,automaticDataCollectionEnabled:!1},ue),et=Pe.name;if("string"!=typeof et||!et)throw lr.create("bad-app-name",{appName:String(et)});const yt=_t.get(et);if(yt){if((0,ee.vZ)(q,yt.options)&&(0,ee.vZ)(Pe,yt.config))return yt;throw lr.create("duplicate-app",{appName:et})}const xt=new Z.H0(et);for(const At of jt.values())xt.addComponent(At);const sn=new Ir(q,Pe,xt);return _t.set(et,sn),sn}function Qr(q=Ve){const ue=_t.get(q);if(!ue)throw lr.create("no-app",{appName:q});return ue}function gi(){return Array.from(_t.values())}function Et(q){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(q){const ue=q.name;_t.has(ue)&&(_t.delete(ue),yield Promise.all(q.container.getProviders().map(Pe=>Pe.delete())),q.isDeleted=!0)})).apply(this,arguments)}function fn(q,ue,Pe){var et;let yt=null!==(et=Le[q])&&void 0!==et?et:q;Pe&&(yt+=`-${Pe}`);const xt=yt.match(/\s|\//),sn=ue.match(/\s|\//);if(xt||sn){const At=[`Unable to register library "${yt}" with version "${ue}":`];return xt&&At.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),xt&&sn&&At.push("and"),sn&&At.push(`version name "${ue}" contains illegal characters (whitespace or "/")`),void B.warn(At.join(" "))}Pn(new Z.wA(`${yt}-version`,()=>({library:yt,version:ue}),"VERSION"))}function _n(q,ue){if(null!==q&&"function"!=typeof q)throw lr.create("invalid-log-argument");(0,O.Am)(q,ue)}function so(q){(0,O.Ub)(q)}const Dn="firebase-heartbeat-store";let mi=null;function Vo(){return mi||(mi=(0,K.X3)("firebase-heartbeat-database",1,{upgrade:(q,ue)=>{0===ue&&q.createObjectStore(Dn)}}).catch(q=>{throw lr.create("storage-open",{originalErrorMessage:q.message})})),mi}function lt(){return(lt=(0,c.Z)(function*(q){try{return(yield Vo()).transaction(Dn).objectStore(Dn).get(ei(q))}catch(ue){throw lr.create("storage-get",{originalErrorMessage:ue.message})}})).apply(this,arguments)}function Dt(q,ue){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(q,ue){try{const et=(yield Vo()).transaction(Dn,"readwrite");return yield et.objectStore(Dn).put(ue,ei(q)),et.done}catch(Pe){throw lr.create("storage-set",{originalErrorMessage:Pe.message})}})).apply(this,arguments)}function ei(q){return`${q.name}!${q.options.appId}`}class dr{constructor(ue){this.container=ue,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new W(Pe),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var ue=this;return(0,c.Z)(function*(){const et=ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=hr();if(null===ue._heartbeatsCache&&(ue._heartbeatsCache=yield ue._heartbeatsCachePromise),ue._heartbeatsCache.lastSentHeartbeatDate!==yt&&!ue._heartbeatsCache.heartbeats.some(xt=>xt.date===yt))return ue._heartbeatsCache.heartbeats.push({date:yt,agent:et}),ue._heartbeatsCache.heartbeats=ue._heartbeatsCache.heartbeats.filter(xt=>{const sn=new Date(xt.date).valueOf();return Date.now()-sn<=2592e6}),ue._storage.overwrite(ue._heartbeatsCache)})()}getHeartbeatsHeader(){var ue=this;return(0,c.Z)(function*(){if(null===ue._heartbeatsCache&&(yield ue._heartbeatsCachePromise),null===ue._heartbeatsCache||0===ue._heartbeatsCache.heartbeats.length)return"";const Pe=hr(),{heartbeatsToSend:et,unsentEntries:yt}=function U(q,ue=1024){const Pe=[];let et=q.slice();for(const yt of q){const xt=Pe.find(sn=>sn.agent===yt.agent);if(xt){if(xt.dates.push(yt.date),Y(Pe)>ue){xt.dates.pop();break}}else if(Pe.push({agent:yt.agent,dates:[yt.date]}),Y(Pe)>ue){Pe.pop();break}et=et.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:et}}(ue._heartbeatsCache.heartbeats),xt=(0,ee.L)(JSON.stringify({version:2,heartbeats:et}));return ue._heartbeatsCache.lastSentHeartbeatDate=Pe,yt.length>0?(ue._heartbeatsCache.heartbeats=yt,yield ue._storage.overwrite(ue._heartbeatsCache)):(ue._heartbeatsCache.heartbeats=[],ue._storage.overwrite(ue._heartbeatsCache)),xt})()}}function hr(){return(new Date).toISOString().substring(0,10)}class W{constructor(ue){this.app=ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ue=this;return(0,c.Z)(function*(){return(yield ue._canUseIndexedDBPromise)&&(yield function Zt(q){return lt.apply(this,arguments)}(ue.app))||{heartbeats:[]}})()}overwrite(ue){var Pe=this;return(0,c.Z)(function*(){var et;if(yield Pe._canUseIndexedDBPromise){const xt=yield Pe.read();return Dt(Pe.app,{lastSentHeartbeatDate:null!==(et=ue.lastSentHeartbeatDate)&&void 0!==et?et:xt.lastSentHeartbeatDate,heartbeats:ue.heartbeats})}})()}add(ue){var Pe=this;return(0,c.Z)(function*(){var et;if(yield Pe._canUseIndexedDBPromise){const xt=yield Pe.read();return Dt(Pe.app,{lastSentHeartbeatDate:null!==(et=ue.lastSentHeartbeatDate)&&void 0!==et?et:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...ue.heartbeats]})}})()}}function Y(q){return(0,ee.L)(JSON.stringify({version:2,heartbeats:q})).length}!function Ae(q){Pn(new Z.wA("platform-logger",ue=>new ie(ue),"PRIVATE")),Pn(new Z.wA("heartbeat",ue=>new dr(ue),"PRIVATE")),fn(te,"0.7.25",q),fn(te,"0.7.25","esm2017"),fn("fire-js","")}("")},4859:(Re,le,k)=>{"use strict";k.d(le,{H0:()=>te,wA:()=>O});var c=k(5861),Z=k(2090);class O{constructor(B,j,X){this.name=B,this.instanceFactory=j,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const ee="[DEFAULT]";class K{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const X=new Z.BH;if(this.instancesDeferred.set(j,X),this.isInitialized(j)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:j});He&&X.resolve(He)}catch(He){}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const X=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),He=null!==(j=null==B?void 0:B.optional)&&void 0!==j&&j;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(ke){if(He)return null;throw ke}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function se(ce){return"EAGER"===ce.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(j){}for(const[j,X]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(j);try{const ke=this.getOrInitializeService({instanceIdentifier:He});X.resolve(ke)}catch(ke){}}}}clearInstance(B=ee){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,c.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...j.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=ee){return this.instances.has(B)}getOptions(B=ee){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,X=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:X,options:j});for(const[ke,Te]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(ke)&&Te.resolve(He);return He}onInit(B,j){var X;const He=this.normalizeInstanceIdentifier(j),ke=null!==(X=this.onInitCallbacks.get(He))&&void 0!==X?X:new Set;ke.add(B),this.onInitCallbacks.set(He,ke);const Te=this.instances.get(He);return Te&&B(Te,He),()=>{ke.delete(B)}}invokeOnInitCallbacks(B,j){const X=this.onInitCallbacks.get(j);if(X)for(const He of X)try{He(B,j)}catch(ke){}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let X=this.instances.get(B);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=B,ce===ee?void 0:ce),options:j}),this.instances.set(B,X),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(X,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,X)}catch(He){}var ce;return X||null}normalizeInstanceIdentifier(B=ee){return this.component?this.component.multipleInstances?B:ee:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new K(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(Re,le,k)=>{"use strict";k.d(le,{Am:()=>ce,Ub:()=>te,Yd:()=>se,in:()=>Z});const c=[];var Z=(()=>{return(B=Z||(Z={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",Z;var B})();const O={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},ee=Z.INFO,K={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},ie=(B,j,...X)=>{if(j<B.logLevel)return;const He=(new Date).toISOString(),ke=K[j];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[ke](`[${He}]  ${B.name}:`,...X)};class se{constructor(j){this.name=j,this._logLevel=ee,this._logHandler=ie,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Z))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...j),this._logHandler(this,Z.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...j),this._logHandler(this,Z.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...j),this._logHandler(this,Z.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...j),this._logHandler(this,Z.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...j),this._logHandler(this,Z.ERROR,...j)}}function te(B){c.forEach(j=>{j.setLogLevel(B)})}function ce(B,j){for(const X of c){let He=null;j&&j.level&&(He=O[j.level]),X.userLogHandler=null===B?null:(ke,Te,...Je)=>{const we=Je.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch(ze){return null}}).filter(fe=>fe).join(" ");Te>=(null!=He?He:ke.logLevel)&&B({level:Z[Te].toLowerCase(),message:we,args:Je,type:ke.name})}}}},8766:(Re,le,k)=>{"use strict";k.d(le,{Lj:()=>Se,X3:()=>Ye});var c=k(5861);let O,ee;const se=new WeakMap,te=new WeakMap,ce=new WeakMap,B=new WeakMap,j=new WeakMap;let ke={get($,Ce,Q){if($ instanceof IDBTransaction){if("done"===Ce)return te.get($);if("objectStoreNames"===Ce)return $.objectStoreNames||ce.get($);if("store"===Ce)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return fe($[Ce])},set:($,Ce,Q)=>($[Ce]=Q,!0),has:($,Ce)=>$ instanceof IDBTransaction&&("done"===Ce||"store"===Ce)||Ce in $};function we($){return"function"==typeof $?function Je($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ie(){return ee||(ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...Ce){return $.apply(ze(this),Ce),fe(se.get(this))}:function(...Ce){return fe($.apply(ze(this),Ce))}:function(Ce,...Q){const de=$.call(ze(this),Ce,...Q);return ce.set(de,Ce.sort?Ce.sort():[Ce]),fe(de)}}($):($ instanceof IDBTransaction&&function He($){if(te.has($))return;const Ce=new Promise((Q,de)=>{const oe=()=>{$.removeEventListener("complete",ve),$.removeEventListener("error",V),$.removeEventListener("abort",V)},ve=()=>{Q(),oe()},V=()=>{de($.error||new DOMException("AbortError","AbortError")),oe()};$.addEventListener("complete",ve),$.addEventListener("error",V),$.addEventListener("abort",V)});te.set($,Ce)}($),(($,Ce)=>Ce.some(Q=>$ instanceof Q))($,function K(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,ke):$)}function fe($){if($ instanceof IDBRequest)return function X($){const Ce=new Promise((Q,de)=>{const oe=()=>{$.removeEventListener("success",ve),$.removeEventListener("error",V)},ve=()=>{Q(fe($.result)),oe()},V=()=>{de($.error),oe()};$.addEventListener("success",ve),$.addEventListener("error",V)});return Ce.then(Q=>{Q instanceof IDBCursor&&se.set(Q,$)}).catch(()=>{}),j.set(Ce,$),Ce}($);if(B.has($))return B.get($);const Ce=we($);return Ce!==$&&(B.set($,Ce),j.set(Ce,$)),Ce}const ze=$=>j.get($);function Ye($,Ce,{blocked:Q,upgrade:de,blocking:oe,terminated:ve}={}){const V=indexedDB.open($,Ce),z=fe(V);return de&&V.addEventListener("upgradeneeded",ge=>{de(fe(V.result),ge.oldVersion,ge.newVersion,fe(V.transaction))}),Q&&V.addEventListener("blocked",()=>Q()),z.then(ge=>{ve&&ge.addEventListener("close",()=>ve()),oe&&ge.addEventListener("versionchange",()=>oe())}).catch(()=>{}),z}function Se($,{blocked:Ce}={}){const Q=indexedDB.deleteDatabase($);return Ce&&Q.addEventListener("blocked",()=>Ce()),fe(Q).then(()=>{})}const be=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],je=new Map;function qe($,Ce){if(!($ instanceof IDBDatabase)||Ce in $||"string"!=typeof Ce)return;if(je.get(Ce))return je.get(Ce);const Q=Ce.replace(/FromIndex$/,""),de=Ce!==Q,oe=De.includes(Q);if(!(Q in(de?IDBIndex:IDBObjectStore).prototype)||!oe&&!be.includes(Q))return;const ve=function(){var V=(0,c.Z)(function*(z,...ge){const Be=this.transaction(z,oe?"readwrite":"readonly");let Ve=Be.store;return de&&(Ve=Ve.index(ge.shift())),(yield Promise.all([Ve[Q](...ge),oe&&Be.done]))[0]});return function(ge){return V.apply(this,arguments)}}();return je.set(Ce,ve),ve}!function Te($){ke=$(ke)}($=>lR(O0({},$),{get:(Ce,Q,de)=>qe(Ce,Q)||$.get(Ce,Q,de),has:(Ce,Q)=>!!qe(Ce,Q)||$.has(Ce,Q)}))},5861:(Re,le,k)=>{"use strict";function c(O,ee,K,ie,se,te,ce){try{var B=O[te](ce),j=B.value}catch(X){return void K(X)}B.done?ee(j):Promise.resolve(j).then(ie,se)}function Z(O){return function(){var ee=this,K=arguments;return new Promise(function(ie,se){var te=O.apply(ee,K);function ce(j){c(te,ie,se,ce,B,"next",j)}function B(j){c(te,ie,se,ce,B,"throw",j)}ce(void 0)})}}k.d(le,{Z:()=>Z})},3681:Re=>{"use strict";Re.exports=JSON.parse('{"name":"@ffmpeg/ffmpeg","version":"0.10.1","description":"FFmpeg WebAssembly version","main":"src/index.js","types":"src/index.d.ts","directories":{"example":"examples"},"scripts":{"start":"node scripts/server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","prepublishOnly":"npm run build","lint":"eslint src","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"keywords":["ffmpeg","WebAssembly","video"],"author":"Jerome Wu <jeromewus@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","dependencies":{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},"devDependencies":{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0","@types/emscripten":"^1.39.4","babel-loader":"^8.1.0","chai":"^4.2.0","cors":"^2.8.5","eslint":"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1","express":"^4.17.1","mocha":"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0","webpack":"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"}}')}},Re=>{Re(Re.s=1007)}]);